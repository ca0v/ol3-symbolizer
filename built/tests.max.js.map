{"version":3,"file":"tests.max.js","sourceRoot":"","sources":["../node_modules/@ca0v/ceylon/ceylon/interfaces/expectation.ts","../node_modules/@ca0v/ceylon/ceylon/interfaces/boolean-expectation.ts","../node_modules/@ca0v/ceylon/ceylon/interfaces/number-expectation.ts","../node_modules/@ca0v/ceylon/ceylon/interfaces/string-expectation.ts","../node_modules/@ca0v/ceylon/ceylon/interfaces/array-expectation.ts","../node_modules/@ca0v/ceylon/ceylon/interfaces/function-expectation.ts","../node_modules/@ca0v/ceylon/ceylon/interfaces/object-expectation.ts","../node_modules/@ca0v/ceylon/ceylon/interfaces/expect.ts","../node_modules/@ca0v/ceylon/ceylon/fast-deep-equal.ts","../node_modules/@ca0v/ceylon/ceylon/assertion-error.ts","../node_modules/@ca0v/ceylon/ceylon/assert.ts","../node_modules/@ca0v/ceylon/ceylon/expectation.ts","../node_modules/@ca0v/ceylon/ceylon/index.ts","../node_modules/@ca0v/ceylon/index.ts","../node_modules/@ca0v/ceylon/tests/index.spec.ts","../node_modules/@ca0v/ceylon/tests/assert.spec.ts","../node_modules/@ca0v/ceylon/tests/deep-equal.spec.ts","../node_modules/@ca0v/ceylon/tests/assertion-error.spec.ts","../node_modules/ol3-fun/tests/spec/packages.ts","../node_modules/ol3-fun/ol3-fun/slowloop.ts","../node_modules/ol3-fun/tests/base.ts","../node_modules/ol3-fun/ol3-fun/common.ts","../node_modules/ol3-fun/ol3-fun/css.ts","../node_modules/ol3-fun/ol3-fun/navigation.ts","../node_modules/ol3-fun/ol3-fun/parse-dms.ts","../node_modules/ol3-fun/ol3-fun/is-primitive.ts","../node_modules/ol3-fun/ol3-fun/is-cyclic.ts","../node_modules/ol3-fun/ol3-fun/deep-extend.ts","../node_modules/ol3-fun/ol3-fun/extensions.ts","../node_modules/ol3-fun/index.ts","../node_modules/ol3-fun/tests/spec/api.ts","../node_modules/ol3-fun/tests/spec/common.ts","../node_modules/ol3-fun/tests/spec/slowloop.ts","../node_modules/ol3-fun/tests/spec/deep-extend.ts","../node_modules/ol3-fun/tests/spec/extensions.ts","../node_modules/ol3-fun/tests/spec/is-primitive.ts","../node_modules/ol3-fun/tests/spec/is-cycle.ts","../node_modules/ol3-fun/tests/spec/openlayers-test.ts","../node_modules/ol3-fun/tests/spec/parse-dms.ts","../node_modules/ol3-fun/ol3-fun/google-polyline.ts","../node_modules/ol3-fun/ol3-fun/ol3-polyline.ts","../node_modules/ol3-fun/tests/spec/polyline.ts","../node_modules/ol3-fun/ol3-fun/snapshot.ts","../node_modules/ol3-fun/tests/spec/snapshot.ts","../node_modules/ol3-fun/tests/spec/zoom-to-feature.ts","../node_modules/ol3-fun/tests/index.ts","../tests/spec/packages.ts","../ol3-symbolizer/common/assign.ts","../tests/spec/common.ts","../ol3-symbolizer/styles/stroke/linedash.ts","../ol3-symbolizer/format/plugins/as-cross.ts","../ol3-symbolizer/format/plugins/as-square.ts","../ol3-symbolizer/format/plugins/as-diamond.ts","../ol3-symbolizer/format/plugins/as-triangle.ts","../ol3-symbolizer/format/plugins/as-x.ts","../ol3-symbolizer/format/ol3-symbolizer.ts","../tests/spec/ol3-symbolizer.ts","../ol3-symbolizer/format/ags-symbolizer.ts","../tests/spec/ags-symbolizer.ts","../ol3-symbolizer/common/ajax.ts","../ol3-symbolizer/ags/ags-catalog.ts","../ol3-symbolizer/ags/ags-source.ts","../tests/spec/ags-source.ts","../tests/index.ts"],"names":[],"mappings":"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","sourcesContent":["interface IExpectation<T> {\n    /**\n     * Asserts that the item exists (is not null, undefined, or empty string)\n     */\n    toExist(message?: string): this;\n\n    /**\n     * Asserts that the item does not exist (is null, undefined, or empty string)\n     */\n    toNotExist(message?: string): this;\n\n    /**\n     * Asserts that the item is strictly equal to [value]\n     */\n    toBe(value: T, message?: string): this;\n\n    /**\n     * Asserts that the item is not strictly equal to [value]\n     */\n    toNotBe(value: T, message?: string): this;\n\n    /**\n     * Asserts that the item is deep equal to [value]\n     */\n    toEqual(value: T, message?: string): this;\n\n    /**\n     * Asserts that the item is not deep equal to [value]\n     */\n    toNotEqual(value: T, message?: string): this;\n\n    /**\n     * Asserts that the item's type is [constructor]\n     */\n    toBeA(constructor: string, message?: string): this;\n    /**\n     * Asserts that the item's type is [constructor]\n     * (Alias for toBeA)\n     */\n    toBeAn(constructor: string, message?: string): this;\n\n    /**\n     * Asserts that the item's type is not [constructor]\n     */\n    toNotBeA(contructor: string, message?: string): this;\n    /**\n     * Asserts that the item's type is not [constructor]\n     * (Alias for toNotBeA)\n     */\n    toNotBeAn(constructor: string, message?: string): this;\n}\n\nexport default IExpectation;\n","import IExpectation from \"./expectation\";\n\ninterface IBooleanExpectation extends IExpectation<boolean> {\n    /**\n     * Asserts that the item is true\n     */\n    toBeTrue(message?: string): this;\n\n    /**\n     * Asserts that the item is false\n     */\n    toBeFalse(message?: string): this;\n}\n\nexport default IBooleanExpectation;\n","import IExpectation from \"./expectation\";\n\ninterface INumberExpectation extends IExpectation<number> {\n    /**\n     * Asserts that the number is less than [value]\n     */\n    toBeLessThan(value: number, message?: string): this;\n    /**\n     * Asserts that the number is less than [value]\n     * (Alias for toBeLessThan)\n     */\n    toBeFewerThan(value: number, message?: string): this;\n\n    /**\n     * Asserts that the number is less than or equal to [value]\n     */\n    toBeLessThanOrEqualTo(value: number, message?: string): this;\n    /**\n     * Asserts that the number is less than or equal to [value]\n     * (Alias for toBeLessThanOrEqualTo)\n     */\n    toBeFewerThanOrEqualTo(value: number, message?: string): this;\n\n    /**\n     * Asserts that the number is greater than [value]\n     */\n    toBeGreaterThan(value: number, message?: string): this;\n    /**\n     * Asserts that the number is greater than [value]\n     * (Alias for toBeGreaterThan)\n     */\n    toBeMoreThan(value: number, message?: string): this;\n\n    /**\n     * Asserts that the number is greater than or equal to [value]\n     */\n    toBeGreaterThanOrEqualTo(value: number, message?: string): this;\n    /**\n     * Asserts that the number is greater than or equal to [value]\n     * (Alias for toBeGreaterThanOrEqualTo)\n     */\n    toBeMoreThanOrEqualTo(value: number, message?: string): this;\n}\n\nexport default INumberExpectation;\n","import IExpectation from \"./expectation\";\n\ninterface IStringExpectation extends IExpectation<string> {\n    /**\n     * Asserts that the string matches the regular expression in [pattern]\n     */\n    toMatch(pattern: RegExp, message?: string): this;\n\n    /**\n     * Asserts that the string does not match the regular expression is [pattern]\n     */\n    toNotMatch(pattern: RegExp, message?: string): this;\n\n    /**\n     * Asserts that the string includes [value]\n     */\n    toInclude(value: string, message?: string): this;\n    /**\n     * Asserts that the string includes [value]\n     * (Alias for toInclude)\n     */\n    toContain(value: string, message?: string): this;\n\n    /**\n     * Asserts that the string does not include [value]\n     */\n    toExclude(value: string, message?: string): this;\n    /**\n     * Asserts that the string does not include [value]\n     * (Alias for toExclude)\n     */\n    toNotInclude(value: string, message?: string): this;\n    /**\n     * Asserts that the string does not include [value]\n     * (Alias for toExclude)\n     */\n    toNotContain(value: string, message?: string): this;\n\n    /**\n     * Asserts that the string has length of [value]\n     */\n    toHaveLength(value: number, message?: string): this;\n}\n\nexport default IStringExpectation;\n","import IExpectation from \"./expectation\";\n\ninterface IArrayExpectation<T> extends IExpectation<T[]> {\n    /**\n     * Asserts that the array includes value\n     */\n    toInclude(value: T, message?: string): this;\n    /**\n     * Asserts that the array includes value\n     * (Alias for toInclude)\n     */\n    toContain(value: T, message?: string): this;\n\n    /**\n     * Asserts that the array does not include value\n     */\n    toExclude(value: T, message?: string): this;\n    /**\n     * Asserts that the array does not include value\n     * (Alias for toExclude)\n     */\n    toNotInclude(value: T, message?: string): this;\n    /**\n     * Asserts that the array does not include value\n     * (Alias for toExclude)\n     */\n    toNotContain(value: T, message?: string): this;\n\n    /**\n     * Asserts that the array includes the key\n     */\n    toIncludeKey(key: number, message?: string): this;\n    /**\n     * Asserts that the array includes the key\n     * (Alias for toIncludeKey)\n     */\n    toContainKey(key: number, message?: string): this;\n\n    /**\n     * Asserts that the array does not include the key\n     */\n    toExcludeKey(key: number, message?: string): this;\n    /**\n     * Asserts that the array does not include the key\n     * (Alias for toExcludeKey)\n     */\n    toNotIncludeKey(key: number, message?: string): this;\n    /**\n     * Asserts that the array does not include the key\n     * (Alias for toExcludeKey)\n     */\n    toNotContainKey(key: number, message?: string): this;\n\n    /**\n     * Asserts that the array includes all the keys\n     */\n    toIncludeKeys(keys: number[], message?: string): this;\n    /**\n     * Asserts that the array includes all the keys\n     * (Alias for toIncludeKeys)\n     */\n    toContainKeys(keys: number[], message?: string): this;\n\n    /**\n     * Asserts that the array does not include any of the keys\n     */\n    toExcludeKeys(keys: number[], message?: string): this;\n    /**\n     * Asserts that the array does not include any of the keys\n     * (Alias for toExcludeKeys)\n     */\n    toNotIncludeKeys(keys: number[], message?: string): this;\n    /**\n     * Asserts that the array does not include any of the keys\n     * (Alias toExcludeKeys)\n     */\n    toNotContainKeys(keys: number[], message?: string): this;\n\n    /**\n     * Asserts that the array has a length of value\n     */\n    toHaveLength(value: number, message?: string): this;\n}\n\nexport default IArrayExpectation;\n","import IExpectation from \"./expectation\";\n\ninterface IFunctionExpectation extends IExpectation<Function> {\n    /**\n     * Asserts that the function will throw an error. Optional [error] parameter asserts that error.message is set\n     */\n    toThrow(error?: string, message?: string): this;\n    /**\n     * Asserts that the function will throw an error where error.message matches the regular expression in [error]\n     */\n    toThrow(error?: RegExp, message?: string): this;\n    /**\n     * Asserts that the function will throw an error, which is an instance of the function provided in [error]\n     */\n    toThrow(error?: Function, message?: string): this;\n\n    /**\n     * Asserts that the function will not throw an error\n     */\n    toNotThrow(message?: string): this;\n\n    /**\n     * Asserts that the function includes the [key]\n     */\n    toIncludeKey(key: string, message?: string): this;\n    /**\n     * Asserts that the function includes the [key]\n     * (Alias for toIncludeKey)\n     */\n    toContainKey(key: string, message?: string): this;\n\n    /**\n     * Asserts that the function does not include the [key]\n     */\n    toExcludeKey(key: string, message?: string): this;\n    /**\n     * Asserts that the function does not include the [key]\n     * (Alias for toExcludeKey)\n     */\n    toNotIncludeKey(key: string, message?: string): this;\n    /**\n     * Asserts that the function does not include the [key]\n     * (Alias for toExcludeKey)\n     */\n    toNotContainKey(key: string, message?: string): this;\n\n    /**\n     * Asserts that the function includes all the [keys]\n     */\n    toIncludeKeys(keys: string[], message?: string): this;\n    /**\n     * Asserts that the function includes all the [keys]\n     * (Alias for toIncludeKeys)\n     */\n    toContainKeys(keys: string[], message?: string): this;\n\n    /**\n     * Asserts that the function does not include any of the [keys]\n     */\n    toExcludeKeys(keys: string[], message?: string): this;\n    /**\n     * Asserts that the function does not include any of the [keys]\n     * (Alias for toExcludeKeys)\n     */\n    toNotIncludeKeys(keys: string[], message?: string): this;\n    /**\n     * Asserts that the function does not include any of the [keys]\n     * (Alias for toExcludeKeys)\n     */\n    toNotContainKeys(keys: string[], message?: string): this;\n}\n\nexport default IFunctionExpectation;\n","import IExpectation from \"./expectation\";\n\ninterface IObjectExpectation<T> extends IExpectation<T> {\n    /**\n     * Asserts that the object is an instance of [constructor]\n     */\n    toBeA(constructor: Function, message?: string): this;\n    /**\n     * Asserts that the object's type is [contructor]\n     */\n    toBeA(constructor: string, message?: string): this;\n    /**\n     * Asserts that the object is an instance of [constructor]\n     * (Alias for toBeA)\n     */\n    toBeAn(constructor: Function, message?: string): this;\n    /**\n     * Asserts that the object's type is [constructor]\n     * (Alias for toBeA)\n     */\n    toBeAn(constructor: string, message?: string): this;\n\n    /**\n     * Asserts that the object is not an instance of [constructor]\n     */\n    toNotBeA(constructor: Function, message?: string): this;\n    /**\n     * Asserts that the object's type is not [constructor]\n     */\n    toNotBeA(constructor: string, message?: string): this;\n    /**\n     * Asserts that the object is not an instance of [constructor]\n     * (Alias for toNotBeA)\n     */\n    toNotBeAn(constructor: Function, message?: string): this;\n    /**\n     * Asserts that the object's type is not [constructor]\n     * (Alias for toNotBeA)\n     */\n    toNotBeAn(constructor: string, message?: string): this;\n\n    /**\n     * Asserts that the object includes [value]\n     */\n    toInclude(value: Object, message?: string): this;\n    /**\n     * Asserts that the object includes [value]\n     * (Alias for toInclude)\n     */\n    toContain(value: Object, message?: string): this;\n\n    /**\n     * Asserts that the object does not include [value]\n     */\n    toExclude(value: Object, message?: string): this;\n    /**\n     * Asserts that the object does not include [value]\n     * (Alias for toExclude)\n     */\n    toNotInclude(value: Object, message?: string): this;\n    /**\n     * Asserts that the object does not include [value]\n     * (Alias for toExclude)\n     */\n    toNotContain(value: Object, message?: string): this;\n\n    /**\n     * Asserts that the object includes the [key]\n     */\n    toIncludeKey(key: string, message?: string): this;\n    /**\n     * Asserts that the object includesthe  [key]\n     * (Alias for toIncludeKey)\n     */\n    toContainKey(key: string, message?: string): this;\n\n    /**\n     * Asserts that the object does not include the [key]\n     */\n    toExcludeKey(key: string, message?: string): this;\n    /**\n     * Asserts that the object does not include the [key]\n     * (Alias for toExcludeKey)\n     */\n    toNotIncludeKey(key: string, message?: string): this;\n    /**\n     * Asserts that the object does not include the [key]\n     * (Alias for toExcludeKey)\n     */\n    toNotContainKey(key: string, message?: string): this;\n\n    /**\n     * Asserts that the object includes all the [keys]\n     */\n    toIncludeKeys(keys: string[], message?: string): this;\n    /**\n     * Asserts that the object includes all the [keys]\n     * (Alias for toIncludeKeys)\n     */\n    toContainKeys(keys: string[], message?: string): this;\n\n    /**\n     * Asserts that the object does not include any of the [keys]\n     */\n    toExcludeKeys(keys: string[], message?: string): this;\n    /**\n     * Asserts that the object does not include any of the [keys]\n     * (Alias for toExcludeKeys)\n     */\n    toNotIncludeKeys(keys: string[], message?: string): this;\n    /**\n     * Asserts that the object does not include any of the [keys]\n     * (Alias )\n     */\n    toNotContainKeys(keys: string[], message?: string): this;\n}\n\nexport default IObjectExpectation;\n","import IBooleanExpectation from \"./boolean-expectation\";\nimport INumberExpectation from \"./number-expectation\";\nimport IStringExpectation from \"./string-expectation\";\nimport IArrayExpectation from \"./array-expectation\";\nimport IFunctionExpectation from \"./function-expectation\";\nimport IObjectExpectation from \"./object-expectation\";\nimport IExpectation from \"./expectation\";\n\ninterface IExpect {\n    /**\n     * Creates a boolean expectation\n     */\n    (item: boolean): IBooleanExpectation;\n    /**\n     * Creates a number expectation\n     */\n    (item: number): INumberExpectation;\n    /**\n     * Creates a string expectation\n     */\n    (item: string): IStringExpectation;\n    /**\n     * Creates an array expectation\n     */\n    <T>(array: T[]): IArrayExpectation<T>;\n    /**\n     * Creates a function expectation\n     */\n    <T>(block: Function): IFunctionExpectation;\n    /**\n     * Creates an object expectation\n     */\n    <T extends Object>(object: T): IObjectExpectation<T>;\n    /**\n     * Creates a generic expectation\n     */\n    <T>(item: T): IExpectation<T>;\n}\n\nexport default IExpect;\n","export function equal<T>(a: Partial<T>, b: Partial<T>): boolean {\n    if (a === b) return true;\n    if ([Object, Array, Date, RegExp].some(t => a instanceof t !== b instanceof t)) return false;\n\n    if (typeof a == \"object\" && typeof b == \"object\") {\n        if (Array.isArray(a) && Array.isArray(b)) {\n            if (a.length !== b.length) return false;\n            return a.every((v, i) => equal(v, b[i]));\n        }\n        if (a instanceof Date && b instanceof Date) return a.getTime() === b.getTime();\n        if (a instanceof RegExp && b instanceof RegExp) return a.toString() === b.toString();\n\n        let keys = Object.keys(a);\n        if (keys.length !== Object.keys(b).length) return false;\n        return keys.every(key => b.hasOwnProperty(key) && equal((<any>a)[key], (<any>b)[key]));\n    }\n\n    // isInfinite, isNaN\n    return a !== a && b !== b;\n}\n","export interface IAssertionErrorOptions {\n    message: string;\n    expected?: Object;\n    actual?: Object;\n    showDiff?: boolean;\n}\n\nexport default function({ message, expected, actual, showDiff }: IAssertionErrorOptions): Error {\n    const error = new Error(message) as any;\n\n    // Properties used by Mocha and other frameworks to show errors\n    (<any>error)[\"expected\"] = expected;\n    (<any>error)[\"actual\"] = actual;\n    (<any>error)[\"showDiff\"] = showDiff;\n\n    // Set the error name to an AssertionError\n    error.name = \"AssertionError\";\n\n    return error as Error;\n}\n","import AssertionError from \"./assertion-error\";\n\nexport interface IAssertOptions {\n    assertion: boolean;\n    message: string;\n    actual?: any;\n    expected?: any;\n}\n\n/**\n * Creates an Assertion, which throws an AssertionError when the condition specified in the assertion parameter equates to false\n *\n * @param {IAssertOptions} { assertion, message, actual, expected }\n */\nconst assert = ({ assertion, message, actual, expected }: IAssertOptions): void => {\n    if (!assertion) {\n        const error = AssertionError({\n            actual,\n            expected,\n            message,\n            showDiff: typeof actual !== \"undefined\" && typeof expected !== \"undefined\"\n        });\n\n        throw error;\n    }\n};\n\nexport default assert;\n","import { equal as deepEqual } from \"./fast-deep-equal\";\n\nimport assert from \"./assert\";\nimport IExpectation from \"./interfaces/expectation\";\nimport IBooleanExpectation from \"./interfaces/boolean-expectation\";\nimport INumberExpectation from \"./interfaces/number-expectation\";\nimport IStringExpectation from \"./interfaces/string-expectation\";\nimport IArrayExpectation from \"./interfaces/array-expectation\";\nimport IFunctionExpectatation from \"./interfaces/function-expectation\";\nimport IObjectExpectation from \"./interfaces/object-expectation\";\n\nexport default class Expectation<T>\n    implements\n        IExpectation<T>,\n        IBooleanExpectation,\n        INumberExpectation,\n        IStringExpectation,\n        IFunctionExpectatation,\n        IArrayExpectation<T>,\n        IObjectExpectation<T> {\n    private actual: boolean | number | string | Function | Array<T> | Object | T;\n\n    public constructor(actual: T) {\n        this.actual = actual;\n    }\n\n    /**\n     * Asserts that the tested item exists (is not null, undefined, or empty)\n     *\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toExist(message?: string): this {\n        assert({\n            assertion: typeof message === \"undefined\" || typeof message === \"string\",\n            message: \"[message] argument should be a string\"\n        });\n\n        if (Array.isArray(this.actual)) {\n            assert({\n                assertion: this.actual.length !== 0,\n                message: message || \"Expected array to exist\"\n            });\n        } else if (typeof this.actual === \"object\" && this.actual !== null) {\n            assert({\n                assertion: Object.getOwnPropertyNames(this.actual).length !== 0,\n                message: message || \"Expected object to exist\"\n            });\n        } else {\n            assert({\n                assertion: typeof this.actual !== \"undefined\" && this.actual !== null && this.actual !== \"\",\n                message: message || \"Expected item to exist\"\n            });\n        }\n\n        return this;\n    }\n\n    /**\n     * Asserts that the tested item does not exist (is null, undefined, or empty)\n     *\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toNotExist(message?: string): this {\n        assert({\n            assertion: typeof message === \"undefined\" || typeof message === \"string\",\n            message: \"[message] argument should be a string\"\n        });\n\n        if (Array.isArray(this.actual)) {\n            assert({\n                assertion: this.actual.length === 0,\n                message: message || \"Expected array to not exist\"\n            });\n        } else if (typeof this.actual === \"object\" && this.actual !== null) {\n            assert({\n                assertion: Object.getOwnPropertyNames(this.actual).length === 0,\n                message: message || \"Expected object to not exist\"\n            });\n        } else {\n            assert({\n                assertion: typeof this.actual === \"undefined\" || this.actual === null || this.actual === \"\",\n                message: message || \"Expected item to not exist\"\n            });\n        }\n\n        return this;\n    }\n\n    public toBe(value: boolean, message?: string): this;\n    public toBe(value: number, message?: string): this;\n    public toBe(value: string, message?: string): this;\n    public toBe(value: Function, message?: string): this;\n    public toBe(value: T[], message?: string): this;\n    public toBe(value: T, message?: string): this;\n    /**\n     * Asserts that the tested item is strictly equal to value\n     *\n     * @param {*} value\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toBe(value: any, message?: string): this {\n        assert({\n            assertion: typeof message === \"undefined\" || typeof message === \"string\",\n            message: \"[message] argument should be a string\"\n        });\n\n        assert({\n            actual: this.actual,\n            assertion: this.actual === value,\n            expected: value,\n            message: message || `Expected ${JSON.stringify(this.actual)} to be ${JSON.stringify(value)}`\n        });\n\n        return this;\n    }\n\n    public toNotBe(value: boolean, message?: string): this;\n    public toNotBe(value: number, message?: string): this;\n    public toNotBe(value: string, message?: string): this;\n    public toNotBe(value: Function, message?: string): this;\n    public toNotBe(value: T[], message?: string): this;\n    public toNotBe(value: T, message?: string): this;\n    /**\n     * Asserts that the tested item is not strictly equal to value\n     *\n     * @param {*} value\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toNotBe(value: any, message?: string): this {\n        assert({\n            assertion: typeof message === \"undefined\" || typeof message === \"string\",\n            message: \"[message] argument should be a string\"\n        });\n\n        assert({\n            actual: this.actual,\n            assertion: this.actual !== value,\n            expected: value,\n            message: message || `Expected ${JSON.stringify(this.actual)} to not be ${JSON.stringify(value)}`\n        });\n\n        return this;\n    }\n\n    public toEqual(value: boolean, message?: string): this;\n    public toEqual(value: number, message?: string): this;\n    public toEqual(value: string, message?: string): this;\n    public toEqual(value: Function, message?: string): this;\n    public toEqual(value: T[], message?: string): this;\n    public toEqual(value: T, message?: string): this;\n    /**\n     * Asserts that the tested item is deep equal to value\n     *\n     * @param {*} value\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toEqual(value: any, message?: string): this {\n        assert({\n            assertion: typeof message === \"undefined\" || typeof message === \"string\",\n            message: \"[message] argument should be a string\"\n        });\n\n        assert({\n            actual: this.actual,\n            assertion: deepEqual(this.actual, value),\n            expected: value,\n            message: message || `Expected ${JSON.stringify(this.actual)} to equal ${JSON.stringify(value)}`\n        });\n\n        return this;\n    }\n\n    public toNotEqual(value: boolean, message?: string): this;\n    public toNotEqual(value: number, message?: string): this;\n    public toNotEqual(value: string, message?: string): this;\n    public toNotEqual(value: Function, message?: string): this;\n    public toNotEqual(value: T[], message?: string): this;\n    public toNotEqual(value: T, message?: string): this;\n    /**\n     * Asserts that the tested item is not deep equal to value\n     *\n     * @param {*} value\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toNotEqual(value: any, message?: string): this {\n        assert({\n            assertion: typeof message === \"undefined\" || typeof message === \"string\",\n            message: \"[message] argument should be a string\"\n        });\n\n        assert({\n            actual: this.actual,\n            assertion: !deepEqual(this.actual, value),\n            expected: value,\n            message: message || `Expected ${JSON.stringify(this.actual)} to not equal ${JSON.stringify(value)}`\n        });\n\n        return this;\n    }\n\n    /**\n     * Asserts that the tested item is true\n     *\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toBeTrue(message?: string): this {\n        return this.toBe(true, message);\n    }\n\n    /**\n     * Asserts that the tested item is false\n     *\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toBeFalse(message?: string): this {\n        return this.toBe(false, message);\n    }\n\n    /**\n     * Asserts that the tested item is less than value\n     *\n     * @param {number} value\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toBeLessThan(value: number, message?: string): this {\n        assert({\n            assertion: typeof value === \"number\",\n            message: \"[value] argument should be a number\"\n        });\n\n        assert({\n            assertion: typeof message === \"undefined\" || typeof message === \"string\",\n            message: \"[message] argument should be a string\"\n        });\n\n        if (typeof this.actual !== \"number\") {\n            assert({\n                assertion: false,\n                message: \"Item being tested should be a number\"\n            });\n        } else {\n            assert({\n                assertion: this.actual < value,\n                message: message || `Expected ${this.actual} to be less than ${value}`\n            });\n        }\n\n        return this;\n    }\n\n    /**\n     * Asserts that the tested item is less than value\n     * Alias for toBeLessThan\n     *\n     * @param {number} value\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toBeFewerThan(value: number, message?: string): this {\n        return this.toBeLessThan(value, message);\n    }\n\n    /**\n     * Asserts that the tested item is less than or equal to value\n     *\n     * @param {number} value\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toBeLessThanOrEqualTo(value: number, message?: string): this {\n        assert({\n            assertion: typeof value === \"number\",\n            message: \"[value] argument should be a number\"\n        });\n\n        assert({\n            assertion: typeof message === \"undefined\" || typeof message === \"string\",\n            message: \"[message] argument should be a string\"\n        });\n\n        if (typeof this.actual !== \"number\") {\n            throw assert({\n                assertion: false,\n                message: \"Item being tested should be a number\"\n            });\n        }\n\n        assert({\n            assertion: this.actual <= value,\n            message: message || `Expected ${this.actual} to be less than or equal to ${value}`\n        });\n\n        return this;\n    }\n\n    /**\n     * Asserts that the tested item is less than or equal to value\n     * Alias for toBeLessThanOrEqualTo\n     *\n     * @param {number} value\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toBeFewerThanOrEqualTo(value: number, message?: string): this {\n        return this.toBeLessThanOrEqualTo(value, message);\n    }\n\n    /**\n     * Asserts that the tested item is greater than value\n     *\n     * @param {number} value\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toBeGreaterThan(value: number, message?: string): this {\n        assert({\n            assertion: typeof value === \"number\",\n            message: \"[value] argument should be a number\"\n        });\n\n        assert({\n            assertion: typeof message === \"undefined\" || typeof message === \"string\",\n            message: \"[message] argument should be a string\"\n        });\n\n        if (typeof this.actual !== \"number\") {\n            throw assert({\n                assertion: false,\n                message: \"Item being tested should be a number\"\n            });\n        }\n\n        assert({\n            assertion: this.actual > value,\n            message: message || `Expected ${this.actual} to be greater than ${value}`\n        });\n\n        return this;\n    }\n\n    /**\n     * Asserts that the tested item is greater than value\n     * Alias for toBeGreaterThan\n     *\n     * @param {number} value\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toBeMoreThan(value: number, message?: string): this {\n        return this.toBeGreaterThan(value, message);\n    }\n\n    /**\n     * Asserts that the tested item is greater than or equal to value\n     *\n     * @param {number} value\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toBeGreaterThanOrEqualTo(value: number, message?: string): this {\n        assert({\n            assertion: typeof value === \"number\",\n            message: \"[value] argument should be a number\"\n        });\n\n        assert({\n            assertion: typeof message === \"undefined\" || typeof message === \"string\",\n            message: \"[message] argument should be a string\"\n        });\n\n        if (typeof this.actual !== \"number\") {\n            throw assert({\n                assertion: false,\n                message: \"Item being tested should be a number\"\n            });\n        }\n\n        assert({\n            assertion: this.actual >= value,\n            message: message || `Expected ${this.actual} to be greater than or equal to ${value}`\n        });\n\n        return this;\n    }\n\n    /**\n     * Asserts that the tested item is greater than or equal to value\n     * Alias for toBeGreaterThanOrEqualTo\n     *\n     * @param {number} value\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toBeMoreThanOrEqualTo(value: number, message?: string): this {\n        return this.toBeGreaterThanOrEqualTo(value, message);\n    }\n\n    /**\n     * Asserts that the tested item matches the regular expression\n     *\n     * @param {RegExp} pattern\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toMatch(pattern: RegExp, message?: string): this {\n        assert({\n            assertion: pattern instanceof RegExp,\n            message: \"[pattern] argument should be a regular expression\"\n        });\n\n        assert({\n            assertion: typeof message === \"undefined\" || typeof message === \"string\",\n            message: \"[message] argument should be a string\"\n        });\n\n        if (typeof this.actual !== \"string\") {\n            throw assert({\n                assertion: false,\n                message: \"Item being tested should be a string\"\n            });\n        }\n\n        assert({\n            assertion: pattern.test(this.actual),\n            message: message || `Expected ${this.actual} to match ${pattern}`\n        });\n\n        return this;\n    }\n\n    /**\n     * Asserts that the tested item does not match the regular expression\n     *\n     * @param {RegExp} pattern\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toNotMatch(pattern: RegExp, message?: string): this {\n        assert({\n            assertion: pattern instanceof RegExp,\n            message: \"[pattern] argument should be a regular expression\"\n        });\n\n        assert({\n            assertion: typeof message === \"undefined\" || typeof message === \"string\",\n            message: \"[message] argument should be a string\"\n        });\n\n        if (typeof this.actual !== \"string\") {\n            throw assert({\n                assertion: false,\n                message: \"Item being tested should be a string\"\n            });\n        }\n\n        assert({\n            assertion: !pattern.test(this.actual),\n            message: message || `Expected ${this.actual} to match ${pattern}`\n        });\n\n        return this;\n    }\n\n    public toInclude(value: string, message?: string): this;\n    public toInclude(value: T, message?: string): this;\n    /**\n     * Asserts that the tested item includes value\n     *\n     * @param {*} value\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toInclude(value: any, message?: string): this {\n        assert({\n            assertion: typeof message === \"undefined\" || typeof message === \"string\",\n            message: \"[message] argument should be a string\"\n        });\n\n        assert({\n            assertion: typeof this.actual === \"string\" || Array.isArray(this.actual) || typeof this.actual === \"object\",\n            message: \"Item being tested should be a string, array, or object\"\n        });\n\n        if (typeof this.actual === \"string\") {\n            assert({\n                assertion: this.actual.indexOf(value) >= 0,\n                message: message || `Expected ${this.actual} to contain ${value}`\n            });\n        } else if (Array.isArray(this.actual)) {\n            // Assume the value is not included\n            let included: boolean = false;\n\n            for (let i = 0; i < this.actual.length; i++) {\n                if (deepEqual(this.actual[i], value)) {\n                    included = true;\n                    break; // We've found a match, so exit the loop\n                }\n            }\n\n            assert({\n                assertion: included,\n                message: message || `Expected ${JSON.stringify(this.actual)} to contain ${JSON.stringify(value)}`\n            });\n        } else if (typeof this.actual === \"object\") {\n            /*\n             * For this test, it's easier to assume that the value is present,\n             * then set \"included\" to \"false\" as soon as one part of the value\n             * is found to be missing\n             */\n            let included: boolean = true;\n\n            const valueProperties = Object.getOwnPropertyNames(value);\n\n            // Loop through the properties in the value\n            for (let i = 0; i < valueProperties.length; i++) {\n                // Check if this.actual has this property\n                if (!this.actual.hasOwnProperty(valueProperties[i])) {\n                    included = false;\n                    break; // Break the loop early as we've found a property that doesn't exist\n                }\n\n                // Now check that the value of the property is the same\n                if (!deepEqual((<any>this.actual)[valueProperties[i]], value[valueProperties[i]])) {\n                    included = false;\n                }\n            }\n\n            assert({\n                assertion: included,\n                message: message || `Expected ${JSON.stringify(this.actual)} to contain ${JSON.stringify(value)}`\n            });\n        }\n\n        return this;\n    }\n\n    public toContain(value: string, message?: string): this;\n    public toContain(value: T, message?: string): this;\n    /**\n     * Asserts that the tested item includes value\n     * Alias for toInclude\n     *\n     * @param {*} value\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toContain(value: any, message?: string): this {\n        return this.toInclude(value, message);\n    }\n\n    public toExclude(value: string, message?: string): this;\n    public toExclude(value: T, message?: string): this;\n    /**\n     * Asserts that the tested item does not include value\n     *\n     * @param {*} value\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toExclude(value: any, message?: string): this {\n        assert({\n            assertion: typeof message === \"undefined\" || typeof message === \"string\",\n            message: \"[message] argument should be a string\"\n        });\n\n        assert({\n            assertion: typeof this.actual === \"string\" || Array.isArray(this.actual) || typeof this.actual === \"object\",\n            message: \"Item being tested should be a string, array, or object\"\n        });\n\n        if (typeof this.actual === \"string\") {\n            assert({\n                assertion: this.actual.indexOf(value) === -1,\n                message: message || `Expected ${this.actual} to not contain ${value}`\n            });\n        } else if (Array.isArray(this.actual)) {\n            // Assume the value is not included\n            let included: boolean = false;\n\n            for (let i = 0; i < this.actual.length; i++) {\n                if (deepEqual(this.actual[i], value)) {\n                    included = true;\n                    break; // We've found a match, so exit the loop\n                }\n            }\n\n            assert({\n                assertion: !included,\n                message: message || `Expected ${JSON.stringify(this.actual)} to not contain ${JSON.stringify(value)}`\n            });\n        } else if (typeof this.actual === \"object\") {\n            // Assume the value is not included\n            let included: boolean = false;\n\n            const valueProperties = Object.getOwnPropertyNames(value);\n\n            // Loop through the properties in the value\n            for (let i = 0; i < valueProperties.length; i++) {\n                // Check if this.actual has this property\n                if (this.actual.hasOwnProperty(valueProperties[i])) {\n                    // Now check if the property is the same in value\n                    if (deepEqual((<any>this.actual)[valueProperties[i]], value[valueProperties[i]])) {\n                        included = true;\n                        break; // Break the loop early as we've found a property that doesn't exist\n                    }\n                }\n            }\n\n            assert({\n                assertion: !included,\n                message: message || `Expected ${JSON.stringify(this.actual)} to not contain ${JSON.stringify(value)}`\n            });\n        }\n\n        return this;\n    }\n\n    public toNotInclude(value: string, message?: string): this;\n    public toNotInclude(value: T, message?: string): this;\n    /**\n     * Asserts that the tested item does not include value\n     * Alias for toExclude\n     *\n     * @param {*} value\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toNotInclude(value: any, message?: string): this {\n        return this.toExclude(value, message);\n    }\n\n    public toNotContain(value: string, message?: string): this;\n    public toNotContain(value: T, message?: string): this;\n    /**\n     * Asserts that the tested item does not include value\n     * Alias for toExclude\n     *\n     * @param {*} value\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toNotContain(value: any, message?: string): this {\n        return this.toExclude(value, message);\n    }\n\n    public toThrow(error?: string, message?: string): this;\n    public toThrow(error?: RegExp, message?: string): this;\n    public toThrow(error?: Function, message?: string): this;\n    /**\n     * Asserts that the tested item throws an error\n     *\n     * @param {*} [error]\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toThrow(error?: any, message?: string): this {\n        assert({\n            assertion:\n                typeof error === \"undefined\" ||\n                typeof error === \"string\" ||\n                error instanceof RegExp ||\n                typeof error === \"function\",\n            message: \"[error] argument should be a string, regular expression, or function\"\n        });\n\n        assert({\n            assertion: typeof message === \"undefined\" || typeof message === \"string\",\n            message: \"[message] argument should be a string\"\n        });\n\n        if (typeof this.actual !== \"function\") {\n            throw assert({\n                assertion: false,\n                message: \"Item being tested should be a function\"\n            });\n        }\n\n        if (typeof error === \"undefined\") {\n            let threw: boolean = false;\n\n            try {\n                this.actual();\n            } catch (e) {\n                threw = true;\n            }\n\n            assert({\n                assertion: threw,\n                message: message || \"Expected function to throw\"\n            });\n        } else if (typeof error === \"string\") {\n            try {\n                this.actual();\n            } catch (e) {\n                assert({\n                    assertion: e.message === error,\n                    message: message || `Expected error message to be \"${error}\"\"`\n                });\n            }\n        } else if (error instanceof RegExp) {\n            try {\n                this.actual();\n            } catch (e) {\n                assert({\n                    assertion: error.test(e.message),\n                    message: message || `Expected error message to match ${error}`\n                });\n            }\n        } else if (typeof error === \"function\") {\n            try {\n                this.actual();\n            } catch (e) {\n                assert({\n                    assertion: e instanceof error,\n                    message: message || `Expected error to be ${error}`\n                });\n            }\n        }\n\n        return this;\n    }\n\n    /**\n     * Asserts that the tested item does not throw an error\n     *\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toNotThrow(message?: string): this {\n        assert({\n            assertion: typeof message === \"undefined\" || typeof message === \"string\",\n            message: \"[message] argument should be a string\"\n        });\n\n        if (typeof this.actual !== \"function\") {\n            throw assert({\n                assertion: false,\n                message: \"Item being tested should be a function\"\n            });\n        }\n\n        let threw: boolean = false;\n\n        try {\n            this.actual();\n        } catch (e) {\n            threw = true;\n        }\n\n        assert({\n            assertion: !threw,\n            message: message || \"Expected function to not throw\"\n        });\n\n        return this;\n    }\n\n    public toBeA(constructor: Function, message?: string): this;\n    public toBeA(constructor: string, message?: string): this;\n    /**\n     * Asserts that the tested item is of the type specified by constructor\n     *\n     * @param {*} constructor\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toBeA(constructor: any, message?: string): this {\n        assert({\n            assertion: typeof constructor === \"function\" || typeof constructor === \"string\",\n            message: \"[constructor] argument should be a function or string\"\n        });\n\n        assert({\n            assertion: typeof message === \"undefined\" || typeof message === \"string\",\n            message: \"[message] argument should be a string\"\n        });\n\n        if (typeof constructor === \"string\") {\n            assert({\n                actual: typeof this.actual,\n                assertion: typeof this.actual === constructor,\n                expected: constructor,\n                message: message || `Expected item to be a ${constructor}`\n            });\n        } else if (typeof constructor === \"function\") {\n            assert({\n                actual: typeof this.actual,\n                assertion: this.actual instanceof constructor,\n                expected: constructor,\n                message: message || `Expected item to be a ${constructor}`\n            });\n        }\n\n        return this;\n    }\n\n    public toBeAn(constructor: Function, message?: string): this;\n    public toBeAn(constructor: string, message?: string): this;\n    /**\n     * Asserts that the tested item is of the type specified by constructor\n     * Alias for toBeA\n     *\n     * @param {*} constructor\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toBeAn(constructor: any, message?: string): this {\n        return this.toBeA(constructor, message);\n    }\n\n    public toNotBeA(constructor: Function, message?: string): this;\n    public toNotBeA(constructor: string, message?: string): this;\n    /**\n     * Asserts that the tested item is not of the type specified by constructor\n     *\n     * @param {*} constructor\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toNotBeA(constructor: any, message?: string): this {\n        assert({\n            assertion: typeof constructor === \"function\" || typeof constructor === \"string\",\n            message: \"[constructor] argument should be a function or string\"\n        });\n\n        assert({\n            assertion: typeof message === \"undefined\" || typeof message === \"string\",\n            message: \"[message] argument should be a string\"\n        });\n\n        if (typeof constructor === \"string\") {\n            assert({\n                assertion: !(typeof this.actual === constructor),\n                message: message || `Expected item to not be a ${constructor}`\n            });\n        } else if (typeof constructor === \"function\") {\n            assert({\n                assertion: !(this.actual instanceof constructor),\n                message: message || `Expected item to not be a ${constructor}`\n            });\n        }\n\n        return this;\n    }\n\n    public toNotBeAn(constructor: Function, message?: string): this;\n    public toNotBeAn(constructor: string, message?: string): this;\n    /**\n     * Asserts that the tested item is not of the type specifed by constructor\n     *\n     * @param {*} constructor\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toNotBeAn(constructor: any, message?: string): this {\n        return this.toNotBeA(constructor, message);\n    }\n\n    public toIncludeKey(key: number, message?: string): this;\n    public toIncludeKey(key: string, message?: string): this;\n    /**\n     * Asserts that the tested item includes key\n     *\n     * @param {*} key\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toIncludeKey(key: any, message?: string): this {\n        assert({\n            assertion: typeof key === \"number\" || typeof key === \"string\",\n            message: \"[key] argument should be a number or string\"\n        });\n\n        assert({\n            assertion: typeof message === \"undefined\" || typeof message === \"string\",\n            message: \"[message] argument should be a string\"\n        });\n\n        assert({\n            assertion:\n                typeof this.actual === \"function\" || Array.isArray(this.actual) || typeof this.actual === \"object\",\n            message: \"Tested item should be a function, array, or object\"\n        });\n\n        if (typeof this.actual === \"function\") {\n            assert({\n                assertion: this.actual.hasOwnProperty(key),\n                message: message || `Expected function to have key ${key}`\n            });\n        } else if (Array.isArray(this.actual)) {\n            assert({\n                assertion: this.actual.hasOwnProperty(key),\n                message: message || `Expected array to have key ${key}`\n            });\n        } else if (typeof this.actual === \"object\") {\n            assert({\n                assertion: this.actual.hasOwnProperty(key),\n                message: message || `Expected object to have key ${key}`\n            });\n        }\n\n        return this;\n    }\n\n    public toContainKey(key: number, message?: string): this;\n    public toContainKey(key: string, message?: string): this;\n    /**\n     * Asserts that the tested item includes key\n     * Alias for toIncludeKey\n     *\n     * @param {*} key\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toContainKey(key: any, message?: string): this {\n        return this.toIncludeKey(key, message);\n    }\n\n    public toIncludeKeys(keys: number[], message?: string): this;\n    public toIncludeKeys(keys: string[], message?: string): this;\n    /**\n     * Asserts that the tested item includes keys\n     *\n     * @param {any[]} keys\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toIncludeKeys(keys: any[], message?: string): this {\n        assert({\n            assertion:\n                Array.isArray(keys) && keys.length > 0 && (typeof keys[0] === \"number\" || typeof keys[0] === \"string\"),\n            message: \"[keys] argument should be an array of numbers or strings\"\n        });\n\n        assert({\n            assertion: typeof message === \"undefined\" || typeof message === \"string\",\n            message: \"[message] argument should be a string\"\n        });\n\n        assert({\n            assertion:\n                typeof this.actual === \"function\" || Array.isArray(this.actual) || typeof this.actual === \"object\",\n            message: \"Tested item should be a function, array, or object\"\n        });\n\n        for (let i = 0; i < keys.length; i++) {\n            this.toIncludeKey(keys[i], message);\n        }\n\n        return this;\n    }\n\n    public toContainKeys(keys: number[], message?: string): this;\n    public toContainKeys(keys: string[], message?: string): this;\n    /**\n     * Asserts that the tested item includes keys\n     * Alias for toIncludeKeys\n     *\n     * @param {any[]} keys\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toContainKeys(keys: any[], message?: string): this {\n        return this.toIncludeKeys(keys, message);\n    }\n\n    public toExcludeKey(key: number, message?: string): this;\n    public toExcludeKey(key: string, message?: string): this;\n    /**\n     * Asserts that the tested item does not include key\n     *\n     * @param {*} key\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toExcludeKey(key: any, message?: string): this {\n        assert({\n            assertion: typeof key === \"number\" || typeof key === \"string\",\n            message: \"[key] argument should be a number or string\"\n        });\n\n        assert({\n            assertion: typeof message === \"undefined\" || typeof message === \"string\",\n            message: \"[message] argument should be a string\"\n        });\n\n        assert({\n            assertion:\n                typeof this.actual === \"function\" || Array.isArray(this.actual) || typeof this.actual === \"object\",\n            message: \"Tested item should be a function, array, or object\"\n        });\n\n        if (typeof this.actual === \"function\") {\n            assert({\n                assertion: !this.actual.hasOwnProperty(key),\n                message: message || `Expected function to not have key ${key}`\n            });\n        } else if (Array.isArray(this.actual)) {\n            assert({\n                assertion: !this.actual.hasOwnProperty(key),\n                message: message || `Expected array to not have key ${key}`\n            });\n        } else if (typeof this.actual === \"object\") {\n            assert({\n                assertion: !this.actual.hasOwnProperty(key),\n                message: message || `Expected object to not have key ${key}`\n            });\n        }\n\n        return this;\n    }\n\n    public toNotIncludeKey(key: number, message?: string): this;\n    public toNotIncludeKey(key: string, message?: string): this;\n    /**\n     * Asserts that the tested item does not include key\n     * Alias for toExcludeKey\n     *\n     * @param {*} key\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toNotIncludeKey(key: any, message?: string): this {\n        return this.toExcludeKey(key, message);\n    }\n\n    public toNotContainKey(key: number, message?: string): this;\n    public toNotContainKey(key: string, message?: string): this;\n    /**\n     * Asserts that the tested item does not include key\n     * Alias for toExcludeKey\n     *\n     * @param {*} key\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toNotContainKey(key: any, message?: string): this {\n        return this.toExcludeKey(key, message);\n    }\n\n    public toExcludeKeys(keys: number[], message?: string): this;\n    public toExcludeKeys(keys: string[], message?: string): this;\n    /**\n     * Asserts that the tested item does not include keys\n     *\n     * @param {any[]} keys\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toExcludeKeys(keys: any[], message?: string): this {\n        assert({\n            assertion:\n                Array.isArray(keys) && keys.length > 0 && (typeof keys[0] === \"number\" || typeof keys[0] === \"string\"),\n            message: \"[key] argument should be an array of numbers or strings\"\n        });\n\n        assert({\n            assertion: typeof message === \"undefined\" || typeof message === \"string\",\n            message: \"[message] argument should be a string\"\n        });\n\n        assert({\n            assertion:\n                typeof this.actual === \"function\" || Array.isArray(this.actual) || typeof this.actual === \"object\",\n            message: \"Tested item should be a function, array, or object\"\n        });\n\n        for (let i = 0; i < keys.length; i++) {\n            this.toExcludeKey(keys[i], message);\n        }\n\n        return this;\n    }\n\n    public toNotIncludeKeys(keys: number[], message?: string): this;\n    public toNotIncludeKeys(keys: string[], message?: string): this;\n    /**\n     * Asserts that the tested item does not include keys\n     * Alias for toExcludeKeys\n     *\n     * @param {any[]} keys\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toNotIncludeKeys(keys: any[], message?: string): this {\n        return this.toExcludeKeys(keys, message);\n    }\n\n    public toNotContainKeys(keys: number[], message?: string): this;\n    public toNotContainKeys(keys: string[], message?: string): this;\n    /**\n     * Asserts that the tested item does not include keys\n     * Alias for toExcludeKeys\n     *\n     * @param {any[]} keys\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toNotContainKeys(keys: any[], message?: string): this {\n        return this.toExcludeKeys(keys, message);\n    }\n\n    /**\n     * Asserts that the tested item has length of value\n     *\n     * @param {number} value\n     * @param {string} [message]\n     * @returns {this}\n     *\n     * @memberOf Expectation\n     */\n    public toHaveLength(value: number, message?: string): this {\n        assert({\n            assertion: typeof value === \"number\",\n            message: \"[value] argument should be a number\"\n        });\n\n        assert({\n            assertion: typeof message === \"undefined\" || typeof message === \"string\",\n            message: \"[message] argument should be a string\"\n        });\n\n        assert({\n            assertion: typeof this.actual === \"string\" || Array.isArray(this.actual),\n            message: `Item being tested should be a string or an array`\n        });\n\n        if (typeof this.actual === \"string\") {\n            assert({\n                assertion: this.actual.length === value,\n                message: message || `Expected string to have length ${value}`\n            });\n        }\n\n        if (Array.isArray(this.actual)) {\n            assert({\n                assertion: this.actual.length === value,\n                message: message || `Expected array to have length ${value}`\n            });\n        }\n\n        return this;\n    }\n}\n","import IExpect from \"./interfaces/expect\";\nimport Expectation from \"./expectation\";\nexport { default as assert } from \"./assert\";\n\n/**\n * Creates a new expectation, which allows assertions to be made on the item passed into it\n *\n * @template T\n * @param {T} actual\n * @returns {Expectation<T>}\n */\nconst expect: IExpect = <T>(actual: T): Expectation<T> => {\n    return new Expectation(actual);\n};\n\nexport default expect;\n","import expect from \"./ceylon/index\";\nimport assert, { IAssertOptions } from \"./ceylon/assert\";\nimport { equal as deepEqual } from \"./ceylon/fast-deep-equal\";\nimport AssertionError, { IAssertionErrorOptions } from \"./ceylon/assertion-error\";\nimport Expectation from \"./ceylon/expectation\";\n\nexport { assert, expect, Expectation, IAssertOptions, AssertionError, IAssertionErrorOptions, deepEqual };\nexport default expect;\n","import { expect, Expectation } from \"../index\";\n\ndescribe(\"expect\", () => {\n    it(\"creates a new Expectation object\", () => {\n        const sut = expect(true);\n\n        expect(sut).toExist();\n        expect(sut).toBeAn(Expectation);\n    });\n});\n","import { assert, expect } from \"../index\";\n\ndescribe(\"Assert\", () => {\n    it(\"does not throw when assertion passes\", () => {\n        assert({\n            assertion: true,\n            message: \"This should not throw\"\n        });\n    });\n\n    it(\"throws when the assertion fails\", () => {\n        expect(() =>\n            assert({\n                assertion: false,\n                message: \"This should throw\"\n            })\n        ).toThrow();\n    });\n\n    it(\"throws error with correct message property\", () => {\n        expect(() =>\n            assert({\n                assertion: false,\n                message: \"This should throw\"\n            })\n        ).toThrow(\"This should throw\");\n    });\n\n    it(\"throws error with showDiff set to false\", () => {\n        try {\n            assert({\n                assertion: false,\n                message: \"This should throw\"\n            });\n        } catch (e) {\n            expect(e[\"showDiff\"] as boolean).toBeFalse();\n        }\n    });\n\n    it(\"throws error with correct actual/expected/showDiff properties\", () => {\n        try {\n            assert({\n                actual: 1,\n                assertion: false,\n                expected: 2,\n                message: \"This should throw\"\n            });\n        } catch (e) {\n            expect(e[\"actual\"]).toBe(1);\n            expect(e[\"expected\"]).toBe(2);\n            expect(e[\"showDiff\"] as boolean).toBeTrue();\n        }\n    });\n});\n","import { expect, deepEqual } from \"../index\";\n\nfunction func1() {}\nfunction func2() {}\n\nlet tests: Array<{\n    description: string;\n    tests: Array<{ description: string; value1: any; value2: any; equal: boolean }>;\n}> = [\n    {\n        description: \"scalars\",\n        tests: [\n            {\n                description: \"equal numbers\",\n                value1: 1,\n                value2: 1,\n                equal: true\n            },\n            {\n                description: \"not equal numbers\",\n                value1: 1,\n                value2: 2,\n                equal: false\n            },\n            {\n                description: \"number and array are not equal\",\n                value1: 1,\n                value2: [],\n                equal: false\n            },\n            {\n                description: \"0 and null are not equal\",\n                value1: 0,\n                value2: null,\n                equal: false\n            },\n            {\n                description: \"equal strings\",\n                value1: \"a\",\n                value2: \"a\",\n                equal: true\n            },\n            {\n                description: \"not equal strings\",\n                value1: \"a\",\n                value2: \"b\",\n                equal: false\n            },\n            {\n                description: \"empty string and null are not equal\",\n                value1: \"\",\n                value2: null,\n                equal: false\n            },\n            {\n                description: \"null is equal to null\",\n                value1: null,\n                value2: null,\n                equal: true\n            },\n            {\n                description: \"equal booleans (true)\",\n                value1: true,\n                value2: true,\n                equal: true\n            },\n            {\n                description: \"equal booleans (false)\",\n                value1: false,\n                value2: false,\n                equal: true\n            },\n            {\n                description: \"not equal booleans\",\n                value1: true,\n                value2: false,\n                equal: false\n            },\n            {\n                description: \"1 and true are not equal\",\n                value1: 1,\n                value2: true,\n                equal: false\n            },\n            {\n                description: \"0 and false are not equal\",\n                value1: 0,\n                value2: false,\n                equal: false\n            },\n            {\n                description: \"NaN and NaN are equal\",\n                value1: NaN,\n                value2: NaN,\n                equal: true\n            },\n            {\n                description: \"0 and -0 are equal\",\n                value1: 0,\n                value2: -0,\n                equal: true\n            },\n            {\n                description: \"Infinity and Infinity are equal\",\n                value1: Infinity,\n                value2: Infinity,\n                equal: true\n            },\n            {\n                description: \"Infinity and -Infinity are not equal\",\n                value1: Infinity,\n                value2: -Infinity,\n                equal: false\n            }\n        ]\n    },\n\n    {\n        description: \"objects\",\n        tests: [\n            {\n                description: \"empty objects are equal\",\n                value1: {},\n                value2: {},\n                equal: true\n            },\n            {\n                description: 'equal objects (same properties \"order\")',\n                value1: { a: 1, b: \"2\" },\n                value2: { a: 1, b: \"2\" },\n                equal: true\n            },\n            {\n                description: 'equal objects (different properties \"order\")',\n                value1: { a: 1, b: \"2\" },\n                value2: { b: \"2\", a: 1 },\n                equal: true\n            },\n            {\n                description: \"not equal objects (extra property)\",\n                value1: { a: 1, b: \"2\" },\n                value2: { a: 1, b: \"2\", c: [] },\n                equal: false\n            },\n            {\n                description: \"not equal objects (different properties)\",\n                value1: { a: 1, b: \"2\", c: 3 },\n                value2: { a: 1, b: \"2\", d: 3 },\n                equal: false\n            },\n            {\n                description: \"not equal objects (different properties)\",\n                value1: { a: 1, b: \"2\", c: 3 },\n                value2: { a: 1, b: \"2\", d: 3 },\n                equal: false\n            },\n            {\n                description: \"equal objects (same sub-properties)\",\n                value1: { a: [{ b: \"c\" }] },\n                value2: { a: [{ b: \"c\" }] },\n                equal: true\n            },\n            {\n                description: \"not equal objects (different sub-property value)\",\n                value1: { a: [{ b: \"c\" }] },\n                value2: { a: [{ b: \"d\" }] },\n                equal: false\n            },\n            {\n                description: \"not equal objects (different sub-property)\",\n                value1: { a: [{ b: \"c\" }] },\n                value2: { a: [{ c: \"c\" }] },\n                equal: false\n            },\n            {\n                description: \"empty array and empty object are not equal\",\n                value1: {},\n                value2: [],\n                equal: false\n            },\n            {\n                description: \"object with extra undefined properties are not equal #1\",\n                value1: {},\n                value2: { foo: undefined },\n                equal: false\n            },\n            {\n                description: \"object with extra undefined properties are not equal #2\",\n                value1: { foo: undefined },\n                value2: {},\n                equal: false\n            },\n            {\n                description: \"object with extra undefined properties are not equal #3\",\n                value1: { foo: undefined },\n                value2: { bar: undefined },\n                equal: false\n            },\n            {\n                description: \"nulls are equal\",\n                value1: null,\n                value2: null,\n                equal: true\n            },\n            {\n                description: \"null and undefined are not equal\",\n                value1: null,\n                value2: undefined,\n                equal: false\n            },\n            {\n                description: \"null and empty object are not equal\",\n                value1: null,\n                value2: {},\n                equal: false\n            },\n            {\n                description: \"undefined and empty object are not equal\",\n                value1: undefined,\n                value2: {},\n                equal: false\n            }\n        ]\n    },\n\n    {\n        description: \"arrays\",\n        tests: [\n            {\n                description: \"two empty arrays are equal\",\n                value1: [],\n                value2: [],\n                equal: true\n            },\n            {\n                description: \"equal arrays\",\n                value1: [1, 2, 3],\n                value2: [1, 2, 3],\n                equal: true\n            },\n            {\n                description: \"not equal arrays (different item)\",\n                value1: [1, 2, 3],\n                value2: [1, 2, 4],\n                equal: false\n            },\n            {\n                description: \"not equal arrays (different length)\",\n                value1: [1, 2, 3],\n                value2: [1, 2],\n                equal: false\n            },\n            {\n                description: \"equal arrays of objects\",\n                value1: [{ a: \"a\" }, { b: \"b\" }],\n                value2: [{ a: \"a\" }, { b: \"b\" }],\n                equal: true\n            },\n            {\n                description: \"not equal arrays of objects\",\n                value1: [{ a: \"a\" }, { b: \"b\" }],\n                value2: [{ a: \"a\" }, { b: \"c\" }],\n                equal: false\n            },\n            {\n                description: \"pseudo array and equivalent array are not equal\",\n                value1: { \"0\": 0, \"1\": 1, length: 2 },\n                value2: [0, 1],\n                equal: false\n            }\n        ]\n    },\n    {\n        description: \"Date objects\",\n        tests: [\n            {\n                description: \"equal date objects\",\n                value1: new Date(\"2017-06-16T21:36:48.362Z\"),\n                value2: new Date(\"2017-06-16T21:36:48.362Z\"),\n                equal: true\n            },\n            {\n                description: \"not equal date objects\",\n                value1: new Date(\"2017-06-16T21:36:48.362Z\"),\n                value2: new Date(\"2017-01-01T00:00:00.000Z\"),\n                equal: false\n            },\n            {\n                description: \"date and string are not equal\",\n                value1: new Date(\"2017-06-16T21:36:48.362Z\"),\n                value2: \"2017-06-16T21:36:48.362Z\",\n                equal: false\n            },\n            {\n                description: \"date and object are not equal\",\n                value1: new Date(\"2017-06-16T21:36:48.362Z\"),\n                value2: {},\n                equal: false\n            }\n        ]\n    },\n    {\n        description: \"RegExp objects\",\n        tests: [\n            {\n                description: \"equal RegExp objects\",\n                value1: /foo/,\n                value2: /foo/,\n                equal: true\n            },\n            {\n                description: \"not equal RegExp objects (different pattern)\",\n                value1: /foo/,\n                value2: /bar/,\n                equal: false\n            },\n            {\n                description: \"not equal RegExp objects (different flags)\",\n                value1: /foo/,\n                value2: /foo/i,\n                equal: false\n            },\n            {\n                description: \"RegExp and string are not equal\",\n                value1: /foo/,\n                value2: \"foo\",\n                equal: false\n            },\n            {\n                description: \"RegExp and object are not equal\",\n                value1: /foo/,\n                value2: {},\n                equal: false\n            }\n        ]\n    },\n    {\n        description: \"functions\",\n        tests: [\n            {\n                description: \"same function is equal\",\n                value1: func1,\n                value2: func1,\n                equal: true\n            },\n            {\n                description: \"different functions are not equal\",\n                value1: func1,\n                value2: func2,\n                equal: false\n            }\n        ]\n    },\n    {\n        description: \"sample objects\",\n        tests: [\n            {\n                description: \"big object\",\n                value1: {\n                    prop1: \"value1\",\n                    prop2: \"value2\",\n                    prop3: \"value3\",\n                    prop4: {\n                        subProp1: \"sub value1\",\n                        subProp2: {\n                            subSubProp1: \"sub sub value1\",\n                            subSubProp2: [1, 2, { prop2: 1, prop: 2 }, 4, 5]\n                        }\n                    },\n                    prop5: 1000,\n                    prop6: new Date(2016, 2, 10)\n                },\n                value2: {\n                    prop5: 1000,\n                    prop3: \"value3\",\n                    prop1: \"value1\",\n                    prop2: \"value2\",\n                    prop6: new Date(\"2016/03/10\"),\n                    prop4: {\n                        subProp2: {\n                            subSubProp1: \"sub sub value1\",\n                            subSubProp2: [1, 2, { prop2: 1, prop: 2 }, 4, 5]\n                        },\n                        subProp1: \"sub value1\"\n                    }\n                },\n                equal: true\n            }\n        ]\n    }\n];\n\ndescribe(\"equal\", () => {\n    tests.forEach(suite => {\n        describe(suite.description, () => {\n            suite.tests.forEach((test: any) => {\n                it(test.description, () => {\n                    expect(test.equal).toEqual(deepEqual(test.value1, test.value2));\n                });\n            });\n        });\n    });\n});\n","import { expect, AssertionError } from \"../index\";\n\ndescribe(\"AssertionError\", () => {\n    it(\"returns an Error object\", () => {\n        const error = AssertionError({\n            message: \"Error message\"\n        });\n\n        expect(error).toBeAn(Error);\n    });\n\n    it(\"sets the error.message property\", () => {\n        const error = AssertionError({\n            message: \"Error message\"\n        });\n\n        expect(error.message).toBe(\"Error message\");\n    });\n\n    it(\"sets does not set the actual, expected, or showDiff properties when unspecified\", () => {\n        const error = AssertionError({\n            message: \"Error message\"\n        });\n\n        expect((<any>error)[\"actual\"]).toNotExist();\n        expect((<any>error)[\"expected\"]).toNotExist();\n        expect((<any>error)[\"showDiff\"]).toNotExist();\n    });\n\n    it(\"sets the actual, expected, and showDiff properties when specified\", () => {\n        const error = AssertionError({\n            actual: \"I ate an apple\",\n            expected: \"I ate an orange\",\n            message: \"Error message\",\n            showDiff: true\n        });\n\n        expect((<any>error)[\"actual\"]).toBe(\"I ate an apple\");\n        expect((<any>error)[\"expected\"]).toBe(\"I ate an orange\");\n        expect((<any>error)[\"showDiff\"] as boolean).toBeTrue();\n    });\n});\n","import \"@ca0v/ceylon/tests/index.spec\";\nimport \"@ca0v/ceylon/tests/assert.spec\";\nimport \"@ca0v/ceylon/tests/deep-equal.spec\";\nimport \"@ca0v/ceylon/tests/assertion-error.spec\";\n","/**\n * Executes a series of functions in a delayed manner\n * @param functions one function executes per interval\n * @param interval length of the interval in milliseconds\n * @param cycles number of types to run each function\n * @returns promise indicating the process is complete\n */\nexport function slowloop(functions: Array<Function>, interval = 1000, cycles = 1) {\n\tlet d = $.Deferred();\n\tlet index = 0;\n\tlet cycle = 0;\n\n\tif (!functions || 0 >= cycles) {\n\t\td.resolve();\n\t\treturn d;\n\t}\n\n\tlet h = setInterval(() => {\n\t\tif (index === functions.length) {\n\t\t\tindex = 0;\n\t\t\tif (++cycle === cycles) {\n\t\t\t\td.resolve();\n\t\t\t\tclearInterval(h);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\ttry {\n\t\t\td.notify({ index, cycle });\n\t\t\tfunctions[index++]();\n\t\t} catch (ex) {\n\t\t\tclearInterval(h);\n\t\t\td.reject(ex);\n\t\t}\n\t}, interval);\n\treturn d;\n}\n","import { slowloop } from \"../ol3-fun/slowloop\";\nimport { Suite, Func, AsyncFunc } from \"mocha\";\nimport { expect, assert, deepEqual } from \"@ca0v/ceylon/index\";\n\n// (title: string, fn: (this: Suite) => void): Suite\nexport function describe(title: string, fn: (this: Suite) => void): Suite {\n\tconsole.log(title || \"undocumented test group\");\n\treturn window.describe(title, fn);\n}\n\nexport function it(title: string, fn: Func | AsyncFunc) {\n\tconsole.log(title || \"undocumented test\");\n\treturn window.it(title, fn);\n}\n\n// can't figure out how to load \"should\" library (index.js seems amd compliant..should work)\nexport function should(result: boolean, message: string) {\n\tconsole.log(message || \"undocumented assertion\");\n\tif (!result) throw message;\n}\n\nexport function shouldEqual<T>(a: T, b: T, message?: string) {\n\tif (a != b) {\n\t\tlet msg = `\"${a}\" <> \"${b}\"`;\n\t\tmessage = (message ? message + \": \" : \"\") + msg;\n\t\tconsole.warn(msg);\n\t}\n\tshould(a == b, message);\n}\n\nexport function shouldThrow(fn: Function, message?: string) {\n\ttry {\n\t\tfn();\n\t} catch (ex) {\n\t\tshould(!!ex, ex);\n\t\treturn ex;\n\t}\n\tshould(false, `expected an exception${message ? \": \" + message : \"\"}`);\n}\n\nexport function stringify(o: Object) {\n\treturn JSON.stringify(o, null, \"\\t\");\n}\n\nexport { slowloop, expect, assert, deepEqual };\n","/**\n * Generate a UUID\n * @returns UUID\n *\n * Adapted from http://stackoverflow.com/a/2117523/526860\n */\nexport function uuid() {\n\treturn \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n\t\tvar r = (Math.random() * 16) | 0,\n\t\t\tv = c == \"x\" ? r : (r & 0x3) | 0x8;\n\t\treturn v.toString(16);\n\t});\n}\n\n/**\n * Converts a GetElementsBy* to a classic array\n * @param list HTML collection to be converted to standard array\n * @returns The @param list represented as a native array of elements\n */\nexport function asArray<T extends HTMLInputElement>(list: NodeList | HTMLCollectionOf<Element>) {\n\tlet result = <Array<T>>new Array(list.length);\n\tfor (let i = 0; i < list.length; i++) {\n\t\tresult[i] = <T>list[i];\n\t}\n\treturn result;\n}\n\n/***\n * ie11 compatible version of e.classList.toggle\n * if class exists then remove it and return false, if not, then add it and return true.\n * @param force true to add specified class value, false to remove it.\n * @returns true if className exists.\n */\nexport function toggle(e: HTMLElement, className: string, force?: boolean) {\n\tlet exists = e.classList.contains(className);\n\tif (exists && force !== true) {\n\t\te.classList.remove(className);\n\t\treturn false;\n\t}\n\tif (!exists && force !== false) {\n\t\te.classList.add(className);\n\t\treturn true;\n\t}\n\treturn exists;\n}\n\n/**\n * Converts a string representation of a value to it's desired type (e.g. parse(\"1\", 0) returns 1)\n * @param v string representation of desired return value\n * @param type desired type\n * @returns @param v converted to a @param type\n */\nexport function parse<T>(v: string, type: T): T {\n\tif (typeof type === \"string\") return <any>v;\n\tif (typeof type === \"number\") return <any>parseFloat(v);\n\tif (typeof type === \"boolean\") return <any>(v === \"1\" || v === \"true\");\n\tif (Array.isArray(type)) {\n\t\treturn <any>v.split(\",\").map(v => parse(v, (<any>type)[0]));\n\t}\n\tthrow `unknown type: ${type}`;\n}\n\n/**\n * Replaces the options elements with the actual query string parameter values (e.g. {a: 0, \"?a=10\"} becomes {a: 10})\n * @param options Attributes on this object with be assigned the value of the matching parameter in the query string\n * @param url The url to scan\n */\nexport function getQueryParameters(options: any, url = window.location.href): void {\n\tlet opts = <any>options;\n\tObject.keys(opts).forEach(k => {\n\t\tdoif(getParameterByName(k, url), v => {\n\t\t\tlet value = parse(v, opts[k]);\n\t\t\tif (value !== undefined) opts[k] = value;\n\t\t});\n\t});\n}\n\n/**\n * Returns individual query string value from a url\n * @param name Extract parameter of this name from the query string\n * @param url Search this url\n * @returns parameter value\n */\nexport function getParameterByName(name: string, url = window.location.href) {\n\tname = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n\tvar regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n\t\tresults = regex.exec(url);\n\tif (!results) return null;\n\tif (!results[2]) return \"\";\n\treturn decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n}\n\n/**\n * Only execute callback when @param v is truthy\n * @param v passing a non-trivial value will invoke the callback with this as the sole argument\n * @param cb callback to execute when the value is non-trivial (not null, not undefined)\n */\nexport function doif<T>(v: T | undefined | null, cb: (v: T) => void) {\n\tif (v !== undefined && v !== null) cb(v);\n}\n\n/**\n * shallow copies b into a, replacing any existing values in a\n * @param a target\n * @param b values to shallow copy into target\n */\nexport function mixin<A extends any, B extends any>(a: A, ...b: B[]) {\n\tb.forEach(b => {\n\t\tObject.keys(b).forEach(k => (a[k] = b[k]));\n\t});\n\treturn <A & B>a;\n}\n\n/**\n * shallow copies b into a, preserving any existing values in a\n * @param a target\n * @param b values to copy into target if they are not already present\n */\nexport function defaults<A extends any, B extends any>(a: A, ...b: B[]): A & B {\n\tb.forEach(b => {\n\t\tObject.keys(b)\n\t\t\t.filter(k => a[k] === undefined)\n\t\t\t.forEach(k => (a[k] = b[k]));\n\t});\n\treturn <A & B>a;\n}\n\n/**\n * delay execution of a method\n * @param func invoked after @param wait milliseconds\n * @param immediate true to invoke @param func before waiting\n */\nexport function debounce<T extends Function>(func: T, wait = 50, immediate = false): T {\n\tlet timeout: number;\n\treturn <T>(<any>((...args: any[]) => {\n\t\tlet later = () => {\n\t\t\ttimeout = NaN;\n\t\t\tif (!immediate) func.apply({}, args);\n\t\t};\n\t\tlet callNow = immediate && !timeout;\n\n\t\tclearTimeout(timeout);\n\t\ttimeout = window.setTimeout(later, wait);\n\t\tif (callNow) func.apply({}, args);\n\t}));\n}\n\n/**\n * poor $(html) substitute due to being\n * unable to create <td>, <tr> elements\n */\nexport function html(html: string) {\n\tlet a = document.createElement(\"div\");\n\ta.innerHTML = html;\n\treturn <HTMLElement>(a.firstElementChild || a.firstChild);\n}\n\n/**\n * returns all combinations of a1 with a2 (a1 X a2 pairs)\n * @param a1 1xN matrix of first elements\n * @param a2 1xN matrix of second elements\n * @returns 2xN^2 matrix of a1 x a2 combinations\n */\nexport function pair<A, B>(a1: A[], a2: B[]) {\n\tlet result: Array<[A, B]> = new Array(a1.length * a2.length);\n\tlet i = 0;\n\ta1.forEach(v1 => a2.forEach(v2 => (result[i++] = [v1, v2])));\n\treturn result;\n}\n\n/**\n * Returns an array [0..n)\n * @param n number of elements\n */\nexport function range(n: number) {\n\tvar result = new Array(n) as number[];\n\tfor (let i = 0; i < n; i++) result[i] = i;\n\treturn result;\n}\n\n/**\n * in-place shuffling of an array\n * @see http://stackoverflow.com/questions/2450954/how-to-randomize-shuffle-a-javascript-array\n * @param array array to randomize\n */\nexport function shuffle<T>(array: T[]) {\n\tlet currentIndex = array.length;\n\tlet temporaryValue: T;\n\tlet randomIndex: number;\n\n\t// While there remain elements to shuffle...\n\twhile (0 !== currentIndex) {\n\t\t// Pick a remaining element...\n\t\trandomIndex = Math.floor(Math.random() * currentIndex);\n\t\tcurrentIndex -= 1;\n\n\t\t// And swap it with the current element.\n\t\ttemporaryValue = array[currentIndex];\n\t\tarray[currentIndex] = array[randomIndex];\n\t\tarray[randomIndex] = temporaryValue;\n\t}\n\treturn array;\n}\n","/**\n * Adds exactly one instance of the CSS to the app with a mechanism\n * for disposing by invoking the destructor returned by this method.\n * Note the css will not be removed until the dependency count reaches\n * 0 meaning the number of calls to cssin('id') must match the number\n * of times the destructor is invoked.\n * let d1 = cssin('foo', '.foo { background: white }');\n * let d2 = cssin('foo', '.foo { background: white }');\n * d1(); // reduce dependency count\n * d2(); // really remove the css\n * @param name unique id for this style tag\n * @param css css content\n * @returns destructor\n */\nexport function cssin(name: string, css: string) {\n\tlet id = `style-${name}`;\n\tlet styleTag = <HTMLStyleElement>document.getElementById(id);\n\tif (!styleTag) {\n\t\tstyleTag = document.createElement(\"style\");\n\t\tstyleTag.id = id;\n\t\tstyleTag.type = \"text/css\";\n\t\tdocument.head.appendChild(styleTag);\n\t\tstyleTag.appendChild(document.createTextNode(css));\n\t}\n\n\tlet dataset = styleTag.dataset;\n\tdataset[\"count\"] = parseInt(dataset[\"count\"] || \"0\") + 1 + \"\";\n\n\treturn () => {\n\t\tdataset[\"count\"] = parseInt(dataset[\"count\"] || \"0\") - 1 + \"\";\n\t\tif (dataset[\"count\"] === \"0\") {\n\t\t\tstyleTag.remove();\n\t\t}\n\t};\n}\n\nexport function loadCss(options: { name: string; url?: string; css?: string }) {\n\tif (!options.name) throw \"must provide a name to prevent css duplication\";\n\tif (options.url && options.css) throw \"cannot provide both a url and a css\";\n\tif (options.css) return cssin(options.name, options.css);\n\tif (!options.url) throw \"must provide either a url or css option\";\n\n\tlet id = `style-${options.name}`;\n\tlet head = document.getElementsByTagName(\"head\")[0];\n\tlet link = <HTMLLinkElement>document.getElementById(id);\n\tif (!link) {\n\t\tlink = document.createElement(\"link\");\n\t\tlink.id = id;\n\t\tlink.type = \"text/css\";\n\t\tlink.rel = \"stylesheet\";\n\t\tlink.href = options.url;\n\t\thead.appendChild(link);\n\t}\n\tlet dataset = link.dataset;\n\tdataset[\"count\"] = parseInt(dataset[\"count\"] || \"0\") + 1 + \"\";\n\treturn () => {\n\t\tdataset[\"count\"] = parseInt(dataset[\"count\"] || \"0\") - 1 + \"\";\n\t\tif (dataset[\"count\"] === \"0\") {\n\t\t\tlink.remove();\n\t\t}\n\t};\n}\n","import * as ol from \"openlayers\";\nimport * as $ from \"jquery\";\nimport { defaults } from \"./common\";\n\n/**\n * A less disorienting way of changing the maps extent (maybe!)\n * Zoom out until new feature is visible\n * Zoom to that feature\n * @param map The openlayers map\n * @param feature The feature to zoom to\n * @param options Animation constraints\n */\nexport function zoomToFeature(\n\tmap: ol.Map,\n\tfeature: ol.Feature,\n\tops?: {\n\t\t// animation duration in milliseconds\n\t\tduration?: number;\n\t\t// number of pixels to pad around final extent\n\t\tpadding?: number;\n\t\t// maximum zoom level as a resolution\n\t\tminResolution?: number;\n\t}\n) {\n\tlet promise = $.Deferred();\n\tlet options = defaults(ops || {}, {\n\t\tduration: 1000,\n\t\tpadding: 256,\n\t\tminResolution: 2 * map.getView().getMinResolution()\n\t});\n\n\tlet view = map.getView();\n\tlet currentExtent = view.calculateExtent(map.getSize());\n\tlet targetExtent = feature.getGeometry().getExtent();\n\n\tlet doit = (duration: number) => {\n\t\tview.fit(targetExtent, {\n\t\t\tsize: map.getSize(),\n\t\t\tpadding: [options.padding, options.padding, options.padding, options.padding],\n\t\t\tminResolution: options.minResolution,\n\t\t\tduration: duration,\n\t\t\tcallback: () => promise.resolve()\n\t\t});\n\t};\n\n\tif (ol.extent.containsExtent(currentExtent, targetExtent)) {\n\t\t// new extent is contained within current extent, pan and zoom in\n\t\tdoit(options.duration);\n\t} else if (ol.extent.containsExtent(currentExtent, targetExtent)) {\n\t\t// new extent is contained within current extent, pan and zoom out\n\t\tdoit(options.duration);\n\t} else {\n\t\t// zoom out until target extent is in view\n\t\tlet fullExtent = ol.extent.createEmpty();\n\t\tol.extent.extend(fullExtent, currentExtent);\n\t\tol.extent.extend(fullExtent, targetExtent);\n\t\tlet dscale = ol.extent.getWidth(fullExtent) / ol.extent.getWidth(currentExtent);\n\t\tlet duration = 0.5 * options.duration;\n\t\tview.fit(fullExtent, {\n\t\t\tsize: map.getSize(),\n\t\t\tpadding: [options.padding, options.padding, options.padding, options.padding],\n\t\t\tminResolution: options.minResolution,\n\t\t\tduration: duration\n\t\t});\n\t\tsetTimeout(() => doit(0.5 * options.duration), duration);\n\t}\n\treturn promise;\n}\n","/**\n * Converts DMS to lonlat\n * ported from https://github.com/gmaclennan/parse-dms/blob/master/index.js\n * and https://stackoverflow.com/questions/37893131/how-to-convert-lat-long-from-decimal-degrees-to-dms-format\n */\n\ntype Direction = \"-\" | \"N\" | \"S\" | \"E\" | \"W\";\n\nfunction decDegFromMatch(m: Direction[]) {\n\tvar signIndex = {\n\t\t\"-\": -1,\n\t\tN: 1,\n\t\tS: -1,\n\t\tE: 1,\n\t\tW: -1\n\t};\n\n\tvar latLonIndex = {\n\t\t\"-\": \"\",\n\t\tN: \"lat\",\n\t\tS: \"lat\",\n\t\tE: \"lon\",\n\t\tW: \"lon\"\n\t};\n\tvar degrees, minutes, seconds, sign, latLon;\n\n\tsign = signIndex[m[2]] || signIndex[m[1]] || signIndex[m[6]] || 1;\n\tdegrees = Number(m[3]);\n\tminutes = m[4] ? Number(m[4]) : 0;\n\tseconds = m[5] ? Number(m[5]) : 0;\n\tlatLon = latLonIndex[m[1]] || latLonIndex[m[6]];\n\n\tif (!inRange(degrees, 0, 180)) throw \"Degrees out of range\";\n\tif (!inRange(minutes, 0, 60)) throw \"Minutes out of range\";\n\tif (!inRange(seconds, 0, 60)) throw \"Seconds out of range\";\n\n\treturn {\n\t\tdecDeg: sign * (degrees + minutes / 60 + seconds / 3600),\n\t\tlatLon: latLon\n\t};\n}\n\nfunction inRange(value: number, a: number, b: number) {\n\treturn value >= a && value <= b;\n}\n\nfunction toDegreesMinutesAndSeconds(coordinate: number) {\n\tlet absolute = Math.abs(coordinate);\n\tlet degrees = Math.floor(absolute);\n\tlet minutesNotTruncated = (absolute - degrees) * 60;\n\tlet minutes = Math.floor(minutesNotTruncated);\n\tlet seconds = Math.floor((minutesNotTruncated - minutes) * 60);\n\treturn `${degrees} ${minutes} ${seconds}`;\n}\n\nfunction fromLonLatToDms(lon: number, lat: number) {\n\tlet latitude = toDegreesMinutesAndSeconds(lat);\n\tlet latitudeCardinal = lat >= 0 ? \"N\" : \"S\";\n\tlet longitude = toDegreesMinutesAndSeconds(lon);\n\tlet longitudeCardinal = lon >= 0 ? \"E\" : \"W\";\n\treturn `${latitude} ${latitudeCardinal} ${longitude} ${longitudeCardinal}`;\n}\n\nfunction fromDmsToLonLat(dmsString: string): { lon: number; lat: number } | number {\n\tdmsString = dmsString.trim();\n\n\t// Inspired by https://gist.github.com/JeffJacobson/2955437\n\t// See https://regex101.com/r/kS2zR1/3\n\tvar dmsRe = /([NSEW])?(-)?(\\d+(?:\\.\\d+)?)[°º:d\\s]?\\s?(?:(\\d+(?:\\.\\d+)?)['’‘′:]\\s?(?:(\\d{1,2}(?:\\.\\d+)?)(?:\"|″|’’|'')?)?)?\\s?([NSEW])?/i;\n\n\tvar dmsString2;\n\n\tlet m1 = <Direction[]>dmsString.match(dmsRe);\n\n\tif (!m1) throw \"Could not parse string\";\n\n\t// If dmsString starts with a hemisphere letter, then the regex can also capture the\n\t// hemisphere letter for the second coordinate pair if also in the string\n\tif (m1[1]) {\n\t\tm1[6] = <any>undefined;\n\t\tdmsString2 = dmsString.substr(m1[0].length - 1).trim();\n\t} else {\n\t\tdmsString2 = dmsString.substr(m1[0].length).trim();\n\t}\n\n\tlet decDeg1 = decDegFromMatch(m1);\n\n\tlet m2 = <Direction[]>dmsString2.match(dmsRe);\n\n\tlet decDeg2 = m2 && decDegFromMatch(m2);\n\n\tif (typeof decDeg1.latLon === \"undefined\") {\n\t\tif (!isNaN(decDeg1.decDeg) && decDeg2 && isNaN(decDeg2.decDeg)) {\n\t\t\t// If we only have one coordinate but we have no hemisphere value,\n\t\t\t// just return the decDeg number\n\t\t\treturn decDeg1.decDeg;\n\t\t} else if (!isNaN(decDeg1.decDeg) && decDeg2 && !isNaN(decDeg2.decDeg)) {\n\t\t\t// If no hemisphere letter but we have two coordinates,\n\t\t\t// infer that the first is lat, the second lon\n\t\t\tdecDeg1.latLon = \"lat\";\n\t\t\tdecDeg2.latLon = \"lon\";\n\t\t} else {\n\t\t\tthrow \"Could not parse string\";\n\t\t}\n\t}\n\n\t// If we parsed the first coordinate as lat or lon, then assume the second is the other\n\tif (typeof decDeg2.latLon === \"undefined\") {\n\t\tdecDeg2.latLon = decDeg1.latLon === \"lat\" ? \"lon\" : \"lat\";\n\t}\n\n\treturn <{ lon: number; lat: number }>{\n\t\t[decDeg1.latLon]: decDeg1.decDeg,\n\t\t[decDeg2.latLon]: decDeg2.decDeg\n\t};\n}\n\n/**\n * Converts DMS<->LonLat\n * @param value A DMS string or lonlat coordinate to be converted\n */\nexport function parse(value: { lon: number; lat: number }): string;\nexport function parse(value: string): { lon: number; lat: number } | number;\nexport function parse(value: string | { lon: number; lat: number }): { lon: number; lat: number } | number | string {\n\tif (typeof value === \"string\") return fromDmsToLonLat(value);\n\treturn fromLonLatToDms(value.lon, value.lat);\n}\n","export function isPrimitive(a: any) {\n\tswitch (typeof a) {\n\t\tcase \"boolean\":\n\t\t\treturn true;\n\t\tcase \"number\":\n\t\t\treturn true;\n\t\tcase \"object\":\n\t\t\treturn null === a;\n\t\tcase \"string\":\n\t\t\treturn true;\n\t\tcase \"symbol\":\n\t\t\treturn true;\n\t\tcase \"undefined\":\n\t\t\treturn true;\n\t\tdefault:\n\t\t\tthrow `unknown type: ${typeof a}`;\n\t}\n}\n","import { isPrimitive } from \"./is-primitive\";\n\n/**\n * Determine if an object refers back to itself\n */\nexport function isCyclic(a: any) {\n\tif (isPrimitive(a)) return false;\n\n\tlet test = (o: any, history: Array<object>): boolean => {\n\t\tif (isPrimitive(o)) return false;\n\t\tif (0 <= history.indexOf(o)) {\n\t\t\treturn true;\n\t\t}\n\t\treturn Object.keys(o).some(k => test(o[k], [o].concat(history)));\n\t};\n\n\treturn Object.keys(a).some(k => test(a[k], [a]));\n}\n","// from https://github.com/unclechu/node-deep-extend/blob/master/lib/deep-extend.js\n\nimport { Dictionary } from \"./dictionary\";\nimport { isCyclic } from \"./is-cyclic\";\nimport { isPrimitive } from \"./is-primitive\";\n\n/**\n * Each merge action is recorded in a trace item\n */\nexport interface TraceItem {\n\tpath?: Path;\n\ttarget: Object;\n\tkey: string | number;\n\tvalue: any;\n\twas: any;\n}\n\nfunction isArrayLike(o: any) {\n\tlet keys = Object.keys(o);\n\treturn keys.every(k => k === parseInt(k, 10).toString());\n}\n\n/**\n * Internally tracks visited objects for cycle detection\n */\ntype History = Array<object>;\ntype Path = Array<any>;\n\n/**\n * deep mixin, replacing items in a with items in b\n * array items with an \"id\" are used to identify pairs, otherwise b overwrites a\n * @param a object to extend\n * @param b data to inject into the object\n * @param trace optional change tracking\n * @param history object added here are not visited\n */\nexport function extend<A extends object>(a: A, b?: Partial<A>, trace?: Array<TraceItem>, history: History = []) {\n\tif (!b) {\n\t\tb = <A>a;\n\t\ta = <any>{};\n\t}\n\tlet merger = new Merger(trace, history);\n\treturn <A>merger.deepExtend(a, b, []);\n}\n\nfunction isUndefined(a: any) {\n\treturn typeof a === \"undefined\";\n}\n\nfunction isArray(val: any) {\n\treturn Array.isArray(val);\n}\n\nfunction isHash(val: any) {\n\treturn !isPrimitive(val) && !canClone(val) && !isArray(val);\n}\n\nfunction canClone(val: any) {\n\tif (val instanceof Date) return true;\n\tif (val instanceof RegExp) return true;\n\treturn false;\n}\n\nfunction clone(val: any): any {\n\tif (val instanceof Date) return new Date(val.getTime());\n\tif (val instanceof RegExp) return new RegExp(val.source);\n\tthrow `unclonable type encounted: ${typeof val}`;\n}\n\n/**\n * Hepler class for managing the trace\n */\nclass Merger {\n\tprivate trace(item: TraceItem) {\n\t\tif (this.traceItems) {\n\t\t\tthis.traceItems.push(item);\n\t\t}\n\t}\n\n\tconstructor(public traceItems: Array<TraceItem> | null | undefined, public history: History) {}\n\n\t/**\n\t * @param target Object to be extended\n\t * @param source Object with values to be copied into target\n\t * @returns extended object\n\t */\n\tpublic deepExtend<T extends any, U extends any>(target: T, source: U, path: Path) {\n\t\tif (<any>target === source) return target; // nothing left to merge\n\n\t\tif (!target || (!isHash(target) && !isArray(target))) {\n\t\t\tthrow \"first argument must be an object\";\n\t\t}\n\t\tif (!source || (!isHash(source) && !isArray(source))) {\n\t\t\tthrow \"second argument must be an object\";\n\t\t}\n\n\t\t/**\n\t\t * ignore functions\n\t\t */\n\t\tif (typeof source === \"function\") {\n\t\t\treturn target;\n\t\t}\n\n\t\t/**\n\t\t * only track objects that trigger a recursion\n\t\t */\n\t\tthis.push(source);\n\n\t\t/**\n\t\t * copy arrays into array\n\t\t */\n\t\tif (isArray(source)) {\n\t\t\tif (!isArray(target)) {\n\t\t\t\tthrow \"attempting to merge an array into a non-array\";\n\t\t\t}\n\t\t\tthis.mergeArray(\"id\", <Array<any>>(<any>target), <Array<any>>(<any>source), path);\n\t\t\treturn target;\n\t\t} else if (isArray(target)) {\n\t\t\tif (!isArrayLike(source)) {\n\t\t\t\tthrow \"attempting to merge a non-array into an array\";\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * copy the values from source into the target\n\t\t */\n\t\tObject.keys(source).forEach(k => this.mergeChild(k, target, source[k], path.slice()));\n\n\t\treturn target;\n\t}\n\n\tprivate cloneArray(val: Array<any>, path: Path): Array<any> {\n\t\tthis.push(val);\n\t\treturn val.map(v => {\n\t\t\tif (isPrimitive(v)) return v;\n\t\t\tif (isHash(v)) return this.deepExtend({}, v, path);\n\t\t\tif (isArray(v)) return this.cloneArray(v, path);\n\t\t\tif (canClone(v)) return clone(v);\n\t\t\tthrow `unknown type encountered: ${typeof v}`;\n\t\t});\n\t}\n\n\tprivate push(a: any) {\n\t\tif (isPrimitive(a)) return;\n\t\tif (-1 < this.history.indexOf(a)) {\n\t\t\tif (isCyclic(a)) {\n\t\t\t\tthrow `circular reference detected`;\n\t\t\t}\n\t\t} else this.history.push(a);\n\t}\n\n\tprivate mergeChild(key: string | number, target: any, sourceValue: any, path: Path): void {\n\t\tlet targetValue = target[key];\n\t\t/**\n\t\t * nothing to do for this key\n\t\t */\n\t\tif (sourceValue === targetValue) return;\n\n\t\t/**\n\t\t * if new value is primitive create/update the target value\n\t\t */\n\t\tif (isPrimitive(sourceValue)) {\n\t\t\t// record change\n\t\t\tpath.push(key);\n\t\t\tthis.trace({\n\t\t\t\tpath: path,\n\t\t\t\tkey: key,\n\t\t\t\ttarget: target,\n\t\t\t\twas: targetValue,\n\t\t\t\tvalue: sourceValue\n\t\t\t});\n\t\t\ttarget[key] = sourceValue;\n\t\t\treturn;\n\t\t}\n\t\t/**\n\t\t * Maybe it's a pseudo-primitive that we can clone (Date or RegEx)\n\t\t */\n\t\tif (canClone(sourceValue)) {\n\t\t\tsourceValue = clone(sourceValue);\n\t\t\t// record change\n\t\t\tpath.push(key);\n\t\t\tthis.trace({\n\t\t\t\tpath: path,\n\t\t\t\tkey: key,\n\t\t\t\ttarget: target,\n\t\t\t\twas: targetValue,\n\t\t\t\tvalue: sourceValue\n\t\t\t});\n\t\t\ttarget[key] = sourceValue;\n\t\t\treturn;\n\t\t}\n\t\t/**\n\t\t * if new value is an array, merge with existing array or create a new property\n\t\t */\n\t\tif (isArray(sourceValue)) {\n\t\t\t/**\n\t\t\t * we're dealing with objects (two arrays) that deepExtend understands\n\t\t\t */\n\t\t\tif (isArray(targetValue)) {\n\t\t\t\tthis.deepExtendWithKey(targetValue, sourceValue, path, key);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\t/**\n\t\t\t * create/update the target with the source array\n\t\t\t */\n\t\t\tsourceValue = this.cloneArray(sourceValue, path);\n\t\t\tpath.push(key);\n\t\t\tthis.trace({\n\t\t\t\tpath: path,\n\t\t\t\tkey: key,\n\t\t\t\ttarget: target,\n\t\t\t\twas: targetValue,\n\t\t\t\tvalue: sourceValue\n\t\t\t});\n\t\t\ttarget[key] = sourceValue;\n\t\t\treturn;\n\t\t}\n\t\t/**\n\t\t * source is not primitive, not a clonable primitive and not an array\n\t\t * so it must be an object with keys\n\t\t */\n\t\tif (!isHash(sourceValue)) {\n\t\t\tthrow `unexpected source type: ${typeof sourceValue}`;\n\t\t}\n\t\t/**\n\t\t * if the target is not a hash object then create/update it\n\t\t */\n\t\tif (!isHash(targetValue)) {\n\t\t\t// clone the source\n\t\t\tlet merger = new Merger(null, this.history);\n\t\t\tsourceValue = merger.deepExtend({}, sourceValue, path);\n\t\t\tpath.push(key);\n\t\t\tthis.trace({\n\t\t\t\tpath: path,\n\t\t\t\tkey: key,\n\t\t\t\ttarget: target,\n\t\t\t\twas: targetValue,\n\t\t\t\tvalue: sourceValue\n\t\t\t});\n\t\t\ttarget[key] = sourceValue;\n\t\t\treturn;\n\t\t}\n\t\t/**\n\t\t * Both source and target are known by deepExtend...\n\t\t */\n\t\tthis.deepExtendWithKey(targetValue, sourceValue, path, key);\n\t\treturn;\n\t}\n\n\tdeepExtendWithKey(targetValue: any, sourceValue: any, path: any[], key: string | number): any {\n\t\tlet index = path.push(key);\n\t\tthis.deepExtend(targetValue, sourceValue, path);\n\t\t// no changes, remove key from path\n\t\tif (index === path.length) path.pop();\n\t}\n\n\tprivate mergeArray(key: string, target: Array<any>, source: Array<any>, path: Path) {\n\t\t// skip trivial arrays\n\t\tif (!isArray(target)) throw \"target must be an array\";\n\t\tif (!isArray(source)) throw \"input must be an array\";\n\t\tif (!source.length) return target;\n\n\t\t// quickly find keyed targets\n\t\tlet hash = <Dictionary<number>>{};\n\t\ttarget.forEach((item, i) => {\n\t\t\tif (!item[key]) return;\n\t\t\thash[item[key]] = i;\n\t\t});\n\n\t\tsource.forEach((sourceItem, i) => {\n\t\t\tlet sourceKey = sourceItem[key];\n\t\t\tlet targetIndex = hash[sourceKey];\n\n\t\t\t/**\n\t\t\t * No \"id\" so perform a naive update/create on the target\n\t\t\t */\n\t\t\tif (isUndefined(sourceKey)) {\n\t\t\t\tif (isHash(target[i]) && !!target[i][key]) {\n\t\t\t\t\tthrow \"cannot replace an identified array item with a non-identified array item\";\n\t\t\t\t}\n\t\t\t\tthis.mergeChild(i, target, sourceItem, path.slice());\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * not target so add it to the end of the array\n\t\t\t */\n\t\t\tif (isUndefined(targetIndex)) {\n\t\t\t\tthis.mergeChild(target.length, target, sourceItem, path.slice());\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/**\n\t\t\t * The target item exists so need to merge the source item\n\t\t\t */\n\t\t\tthis.mergeChild(targetIndex, target, sourceItem, path.slice());\n\t\t\treturn;\n\t\t});\n\n\t\treturn target;\n\t}\n}\n","/**\n * Stores associated data in an in-memory repository using a WeakMap\n */\nexport class Extensions {\n\tprivate hash = new WeakMap(null);\n\n\tpublic isExtended(o: any) {\n\t\treturn this.hash.has(o);\n\t}\n\n\t/**\n    Forces the existence of an extension container for an object\n    @param o the object of interest\n    @param [ext] sets these value on the extension object\n    @returns the extension object\n    */\n\textend<T extends object, U extends any>(o: T, ext?: U) {\n\t\tlet hashData = this.hash.get(o);\n\t\tif (!hashData) {\n\t\t\thashData = {};\n\t\t\tthis.hash.set(o, hashData);\n\t\t}\n\n\t\t// update the extension values\n\t\text && Object.keys(ext).forEach(k => (hashData[k] = ext[k]));\n\n\t\treturn <U>hashData;\n\t}\n\n\t/**\n    Ensures extensions are shared across objects\n    */\n\tbind(o1: any, o2: any) {\n\t\tif (this.isExtended(o1)) {\n\t\t\tif (this.isExtended(o2)) {\n\t\t\t\tif (this.hash.get(o1) === this.hash.get(o2)) return;\n\t\t\t\tthrow \"both objects already bound\";\n\t\t\t} else {\n\t\t\t\tthis.hash.set(o2, this.extend(o1));\n\t\t\t}\n\t\t} else {\n\t\t\tthis.hash.set(o1, this.extend(o2));\n\t\t}\n\t}\n}\n","/**\n * decouples API from implementation\n */\nimport {\n\tasArray,\n\tdebounce,\n\tdefaults,\n\tdoif,\n\tgetParameterByName,\n\tgetQueryParameters,\n\thtml,\n\tmixin,\n\tpair,\n\tparse,\n\trange,\n\tshuffle,\n\ttoggle,\n\tuuid\n} from \"./ol3-fun/common\";\nimport { cssin, loadCss } from \"./ol3-fun/css\";\nimport { zoomToFeature } from \"./ol3-fun/navigation\";\nimport { parse as dmsParse } from \"./ol3-fun/parse-dms\";\nimport { slowloop } from \"./ol3-fun/slowloop\";\nimport { extend as deepExtend } from \"./ol3-fun/deep-extend\";\nimport { Extensions } from \"./ol3-fun/extensions\";\n\nlet index = {\n\tasArray,\n\tcssin,\n\tloadCss,\n\tdebounce,\n\tdefaults,\n\tdoif,\n\tdeepExtend,\n\tgetParameterByName,\n\tgetQueryParameters,\n\thtml,\n\tmixin,\n\tpair,\n\tparse,\n\trange,\n\tshuffle,\n\ttoggle,\n\tuuid,\n\tslowloop,\n\tdms: {\n\t\tparse: dmsParse,\n\t\tfromDms: (dms: string) => dmsParse(dms) as { lon: number; lat: number },\n\t\tfromLonLat: (o: { lon: number; lat: number }) => dmsParse(o) as string\n\t},\n\tnavigation: {\n\t\tzoomToFeature\n\t},\n\tExtensions: Extensions\n};\n\nexport = index;\n","import { describe, it, should, shouldEqual, assert, expect, shouldThrow, slowloop, stringify } from \"../base\";\nimport * as API from \"../../index\";\n\ndescribe(\"Test Harness API\", () => {\n\tit(\"full api exists\", () => {\n\t\tshouldEqual(\n\t\t\t[describe, it, should, shouldEqual, shouldThrow, assert, expect, slowloop, stringify].every(\n\t\t\t\tf => typeof f === \"function\"\n\t\t\t),\n\t\t\ttrue,\n\t\t\t\"API functions exist\"\n\t\t);\n\t});\n});\n\ndescribe(\"API\", () => {\n\tit(\"full api exists\", () => {\n\t\tshouldEqual(\n\t\t\t[\n\t\t\t\tAPI.asArray,\n\t\t\t\tAPI.cssin,\n\t\t\t\tAPI.debounce,\n\t\t\t\tAPI.defaults,\n\t\t\t\tAPI.dms.parse,\n\t\t\t\tAPI.doif,\n\t\t\t\tAPI.getParameterByName,\n\t\t\t\tAPI.getQueryParameters,\n\t\t\t\tAPI.html,\n\t\t\t\tAPI.mixin,\n\t\t\t\tAPI.navigation.zoomToFeature,\n\t\t\t\tAPI.pair,\n\t\t\t\tAPI.parse,\n\t\t\t\tAPI.range,\n\t\t\t\tAPI.shuffle,\n\t\t\t\tAPI.slowloop,\n\t\t\t\tAPI.toggle,\n\t\t\t\tAPI.uuid\n\t\t\t].every(f => typeof f === \"function\"),\n\t\t\ttrue,\n\t\t\t\"API functions exist\"\n\t\t);\n\t});\n});\n","// unsure how to do this using standard syntax and typings don't seem to correlate with the \"expect\" I'm getting\n// // Type definitions for Expect 1.20, expect.version = '0.3.1' so I might be loading the wrong defs!\n//import expect from \"expect\";\n//import * as expect from \"expect\"; // only works when using karma+webpack\nimport { should, shouldEqual } from \"../base\";\n\nimport {\n\tasArray,\n\tpair,\n\tparse,\n\trange,\n\tshuffle,\n\thtml,\n\ttoggle,\n\tuuid,\n\tgetQueryParameters,\n\tgetParameterByName,\n\tdoif,\n\tmixin,\n\tdefaults\n} from \"../../ol3-fun/common\";\n\nfunction sum(list: number[]) {\n\treturn list.reduce((a, b) => a + b, 0);\n}\n\ndescribe(\"asArray tests\", () => {\n\tit(\"asArray\", done => {\n\t\tif (!document) return;\n\t\tdocument.body.appendChild(document.createElement(\"div\"));\n\t\tlet list = document.getElementsByTagName(\"div\");\n\t\tlet result = asArray(<any>list);\n\t\tshould(result.length === list.length, \"array size matches list size\");\n\t\tdone();\n\t});\n});\n\ndescribe(\"uuid tests\", () => {\n\tit(\"uuid\", () => {\n\t\tshould(uuid().length === 36, \"uuid has 36 characters\");\n\t});\n});\n\ndescribe(\"pair tests\", () => {\n\tit(\"empty test\", () => {\n\t\tshould(0 === pair([], []).length, \"empty result\");\n\t\tshould(0 === pair([1], []).length, \"empty result\");\n\t\tshould(0 === pair([], [1]).length, \"empty result\");\n\t});\n\n\tit(\"ensures all combinations\", () => {\n\t\tlet A = [1, 3, 5],\n\t\t\tB = [7, 11, 13],\n\t\t\tresult = pair(A, B);\n\t\tshould(\n\t\t\tA.length * sum(B) + B.length * sum(A) === sum(result.map(v => v[0] + v[1])),\n\t\t\t\"create product from two vectors\"\n\t\t);\n\t});\n});\n\ndescribe(\"range tests\", () => {\n\tit(\"empty test\", () => {\n\t\tshould(0 === range(0).length, \"empty result\");\n\t});\n\n\tit(\"size tests\", () => {\n\t\tshould(1 === range(1).length, \"single item\");\n\t\tshould(10 === range(10).length, \"ten items\");\n\t});\n\n\tit(\"content tests\", () => {\n\t\tshould(45 === sum(range(10)), \"range '10' contains 0..9\");\n\t});\n});\n\ndescribe(\"shuffle tests\", () => {\n\tit(\"empty test\", () => {\n\t\tshould(0 === shuffle([]).length, \"empty result\");\n\t});\n\n\tit(\"size tests\", () => {\n\t\tshould(1 === shuffle(range(1)).length, \"single item\");\n\t\tshould(10 === shuffle(range(10)).length, \"ten items\");\n\t});\n\n\tit(\"content tests\", () => {\n\t\tshould(45 === sum(shuffle(range(10))), \"range '10' contains 0..9\");\n\t});\n});\n\ndescribe(\"toggle tests\", () => {\n\tit(\"toggle\", () => {\n\t\tlet div = document.createElement(\"div\");\n\t\tshould(div.className === \"\", \"div contains no className\");\n\t\ttoggle(div, \"foo\");\n\t\tshould(div.className === \"foo\", \"toggle adds\");\n\t\ttoggle(div, \"foo\");\n\t\tshould(div.className === \"\", \"second toggles removes\");\n\t\ttoggle(div, \"foo\", true);\n\t\tshould(div.className === \"foo\", \"forces foo to exist when it does not exist\");\n\t\ttoggle(div, \"foo\", true);\n\t\tshould(div.className === \"foo\", \"forces foo to exist when it already exists\");\n\t\ttoggle(div, \"foo\", false);\n\t\tshould(div.className === \"\", \"forces foo to not exist\");\n\t\ttoggle(div, \"foo\", false);\n\t\tshould(div.className === \"\", \"forces foo to not exist\");\n\t});\n});\n\ndescribe(\"parse tests\", () => {\n\tit(\"parse\", () => {\n\t\tlet num = 0;\n\t\tlet bool = false;\n\t\tshould(parse(\"\", \"\").toString() === \"\", \"empty string\");\n\t\tshould(parse(\"1\", \"\").toString() === \"1\", \"numeric string\");\n\t\tshould(parse(\"1\", num) === 1, \"numeric string as number returns number\");\n\t\tshould(parse(\"0\", bool) === false, \"0 as boolean is false\");\n\t\tshould(parse(\"1\", bool as boolean) === true, \"1 as boolean is true\");\n\t\tshould(parse(\"false\", bool) === false, \"'false' as boolean is false\");\n\t\tshould(parse(\"true\", bool as boolean) === true, \"'true' as boolean is true\");\n\t\tshould(parse(\"1\", num) === 1, \"numeric string as number returns number\");\n\t\tshould(parse(\"1\", num) === 1, \"numeric string as number returns number\");\n\t\tshould(parse(\"1,2,3\", [num])[1] === 2, \"parse into numeric array\");\n\t});\n});\n\ndescribe(\"getQueryParameters tests\", () => {\n\tit(\"getQueryParameters\", () => {\n\t\tlet options: any = { a: \"\" };\n\t\tgetQueryParameters(options, \"foo?a=1&b=2\");\n\t\tshouldEqual(options.a, \"1\", \"a=1 extracted\");\n\t\tshouldEqual((<any>options).b, undefined, \"b not assigned\");\n\t\toptions = { b: \"\" };\n\t\tgetQueryParameters(options, \"foo?a=1&b=2\");\n\t\tshouldEqual(options.b, \"2\", \"b=2 extracted\");\n\t\tshouldEqual(options.a, undefined, \"a not assigned\");\n\t\toptions.a = options.b = options.c = \"<null>\";\n\t\tgetQueryParameters(options, \"foo?a=1&b=2\");\n\t\tshouldEqual(options.a, \"1\", \"a=1 extracted\");\n\t\tshouldEqual(options.b, \"2\", \"b=2 extracted\");\n\t\tshouldEqual(options.c, \"<null>\", \"c not assigned, original value untouched\");\n\t});\n});\n\ndescribe(\"getParameterByName tests\", () => {\n\tit(\"getParameterByName\", () => {\n\t\tshouldEqual(getParameterByName(\"a\", \"foo?a=1\"), \"1\", \"a=1\");\n\t\tshouldEqual(getParameterByName(\"b\", \"foo?a=1\"), null, \"b does not exist\");\n\t});\n});\n\ndescribe(\"doif tests\", () => {\n\tlet die = (n: any) => {\n\t\tthrow `doif callback not expected to execute: ${n}`;\n\t};\n\tlet spawn = () => {\n\t\tlet v = true;\n\t\treturn () => (v = !v);\n\t};\n\n\tit(\"doif false tests\", () => {\n\t\tdoif(undefined, die);\n\t\tdoif(null, die);\n\t});\n\n\tit(\"doif empty tests\", () => {\n\t\tlet c = spawn();\n\t\tdoif(0, c);\n\t\tshouldEqual(c(), true, \"0 invokes doif\");\n\t\tdoif(false, c);\n\t\tshouldEqual(c(), true, \"false invokes doif\");\n\t\tdoif({}, c);\n\t\tshouldEqual(c(), true, \"{} invokes doif\");\n\t});\n\n\tit(\"doif value tests\", () => {\n\t\tdoif(0, v => shouldEqual(v, 0, \"0\"));\n\t\tdoif({ a: 100 }, v => shouldEqual(v.a, 100, \"a = 100\"));\n\t});\n});\n\ndescribe(\"mixin tests\", () => {\n\tit(\"simple mixins\", () => {\n\t\tshouldEqual(mixin({ a: 1 }, { b: 2 }).a, 1, \"a=1\");\n\t\tshouldEqual(mixin({ a: 1 }, { b: 2 }).b, 2, \"b=2\");\n\t\tshouldEqual((<any>mixin({ a: 1 }, { b: 2 })).c, undefined, \"c undefined\");\n\t\tshouldEqual(mixin({ a: 1 }, {}).a, 1, \"a=1\");\n\t\tshouldEqual(mixin({}, { b: 2 }).b, 2, \"b=2\");\n\t});\n\n\tit(\"nested mixins\", () => {\n\t\tshouldEqual(\n\t\t\tmixin({ vermont: { burlington: true } }, { [\"south carolina\"]: { greenville: true } })[\"south carolina\"]\n\t\t\t\t.greenville,\n\t\t\ttrue,\n\t\t\t\"greenville is in south carolina\"\n\t\t);\n\t\tshouldEqual(\n\t\t\tmixin({ vermont: { burlington: true } }, { vermont: { greenville: false } }).vermont.greenville,\n\t\t\tfalse,\n\t\t\t\"greenville is not in vermont\"\n\t\t);\n\t\tshouldEqual(\n\t\t\tmixin({ vermont: { burlington: true } }, { vermont: { greenville: false } }).vermont.burlington,\n\t\t\tundefined,\n\t\t\t\"second vermont completely wipes out 1st\"\n\t\t);\n\t});\n});\n\ndescribe(\"defaults tests\", () => {\n\tit(\"defaults\", () => {\n\t\tshouldEqual(defaults({ a: 1 }, { a: 2, b: 3 }).a, 1, \"a = 1\");\n\t\tshouldEqual(defaults({ a: 1 }, { a: 2, b: 3 }).b, 3, \"b = 3\");\n\t\tshouldEqual(defaults({}, { a: 2, b: 3 }).a, 2, \"a = 2\");\n\t});\n});\n\ndescribe(\"html tests\", () => {\n\tit(\"tableless tr test\", () => {\n\t\tlet markup = \"<tr>A<td>B</td></tr>\";\n\t\tlet tr = <HTMLTableRowElement>html(markup);\n\t\tshould(tr.nodeValue === \"AB\", \"setting innerHTML on a 'div' will not assign tr elements\");\n\t});\n\n\tit(\"table tr test\", () => {\n\t\tlet markup = \"<table><tbody><tr><td>Test</td></tr></tbody></table>\";\n\t\tlet table = <HTMLTableElement>html(markup);\n\t\tshould(table.outerHTML === markup, \"preserves tr when within a table\");\n\t});\n\n\tit(\"canvas test\", () => {\n\t\tlet markup = `<canvas width=\"100\" height=\"100\"></canvas>`;\n\t\tlet canvas = <HTMLCanvasElement>html(markup);\n\t\tshould(canvas.outerHTML === markup, \"canvas markup preserved\");\n\t\tshould(!!canvas.getContext(\"2d\"), \"cnvas has 2d context\");\n\t});\n});\n","import { describe, it, should, shouldEqual, slowloop } from \"../base\";\nimport { range } from \"ol3-fun/common\";\n\ndescribe(\"slowloop\", () => {\n\tit(\"slowloop empty\", done => {\n\t\ttry {\n\t\t\tslowloop(null);\n\t\t\tshould(false, \"slowloop requires an array\");\n\t\t} catch {\n\t\t\tdone();\n\t\t}\n\t});\n\n\tit(\"slowloop with progress\", () => {\n\t\tlet progressCount = 0;\n\t\treturn slowloop(range(7).map(n => () => {}), 0, 5)\n\t\t\t.progress(args => {\n\t\t\t\tconsole.log(args);\n\t\t\t\tprogressCount++;\n\t\t\t})\n\t\t\t.then(() => {\n\t\t\t\tshouldEqual(progressCount, 7 * 5, \"progress callbacks\");\n\t\t\t});\n\t});\n\n\tit(\"slowloop with exceptions\", () => {\n\t\treturn slowloop([\n\t\t\t() => {\n\t\t\t\tthrow \"exception occured in slowloop\";\n\t\t\t}\n\t\t])\n\t\t\t.then(() => should(false, \"failure expected\"))\n\t\t\t.catch(ex => should(!!ex, ex));\n\t});\n\n\tit(\"slowloop with abort\", () => {\n\t\treturn slowloop(\n\t\t\t[\n\t\t\t\t() => {\n\t\t\t\t\tshould(false, \"aborted from inside\");\n\t\t\t\t}\n\t\t\t],\n\t\t\t10\n\t\t)\n\t\t\t.reject(\"aborted from outside\")\n\t\t\t.catch(ex => shouldEqual(ex, \"aborted from outside\", \"aborted from outside\"));\n\t});\n\n\tit(\"slowloop fast\", done => {\n\t\tlet count = 0;\n\t\tlet inc = () => count++;\n\t\tslowloop([inc, inc, inc], 0, 100).then(() => {\n\t\t\tshouldEqual(count, 300, \"0 ms * 100 iterations * 3 functions => 300 invocations\");\n\t\t\tdone();\n\t\t});\n\t}).timeout(2000);\n\n\tit(\"slowloop iterations\", done => {\n\t\tlet count = 0;\n\t\tlet inc = () => count++;\n\t\tslowloop([inc]).then(() => {\n\t\t\tshouldEqual(count, 1, \"defaults to a single iteration\");\n\t\t\tslowloop([inc], 0, 2).then(() => {\n\t\t\t\tshouldEqual(count, 3, \"performs two iterations\");\n\t\t\t\tslowloop([inc], 0, 0).then(() => {\n\t\t\t\t\tshouldEqual(count, 3, \"performs 0 iterations\");\n\t\t\t\t\tdone();\n\t\t\t\t});\n\t\t\t});\n\t\t});\n\t});\n});\n","import { should, shouldEqual, stringify, shouldThrow, deepEqual } from \"../base\";\nimport { extend as deepExtend, TraceItem } from \"../../ol3-fun/deep-extend\";\nimport { range } from \"ol3-fun/common\";\n\ndescribe(\"utils/deep-extend\", () => {\n\tit(\"trivial merges\", () => {\n\t\tshouldEqual(stringify(deepExtend({}, {})), stringify({}), \"empty objects\");\n\t\tshouldEqual(stringify(deepExtend([], [])), stringify([]), \"empty arrays\");\n\t\tshouldEqual(stringify(deepExtend([], {})), stringify([]), \"empty arrays with empty object\");\n\t\tshouldEqual(stringify(deepExtend([,], [, ,])), stringify([,]), \"arrays with empty items\");\n\t\tlet o = { a: 1 };\n\t\tshouldEqual(o, deepExtend(o, o), \"merges same object\");\n\t\tshould(o !== deepExtend(o), \"clones when second argument not provided\");\n\t});\n\n\tit(\"invalid merges\", () => {\n\t\tshouldThrow(() => deepExtend(<any>{}, []), \"array->object considered an error\");\n\t\tshouldThrow(() => deepExtend(<any>{ a: 1 }, []), \"{a:1} and []\");\n\t\tshouldThrow(() => deepExtend(<any>[], { a: 1 }), \"[] and {a:1}\");\n\t\tshouldThrow(() => deepExtend(<any>1, <any>2), \"primitives\");\n\t\tshouldThrow(() => deepExtend(new Date(2000, 1, 1), new Date(2000, 1, 2)), \"clonable primitives\");\n\t\tlet a = { a: 1 };\n\t\tlet b = { b: a };\n\t\t(<any>a).b = b;\n\t\tshouldEqual(shouldThrow(() => deepExtend(b), \"b->a->b\"), \"circular reference detected\");\n\t});\n\n\tit(\"merges with duplicate objects that might be detected as recursive\", () => {\n\t\tlet o = { a: { date: new Date(Date.now() - 1000), address: { street: \"main\" } } };\n\t\tlet p = { o1: o, o2: o };\n\t\tshouldEqual(stringify(deepExtend(p)), stringify(p), \"two children pointing to the same object\");\n\t\tlet q = { p1: p, p2: [p], p3: [{ id: \"P\", value: p }] };\n\t\tlet actual = stringify(deepExtend(q, <any>deepExtend(p, <any>o)));\n\t\tshould(!!actual, \"complex linked\");\n\t});\n\n\tit(\"simple data merges\", () => {\n\t\tlet o = deepExtend({ v1: 1 });\n\t\tshouldEqual(o.v1, 1, \"adds v1\");\n\t\tdeepExtend(o, { v1: 2 });\n\t\tshouldEqual(o.v1, 2, \"updates v1\");\n\t});\n\n\tit(\"simple array merges\", () => {\n\t\tshouldEqual(stringify(deepExtend([1], [])), stringify([1]), \"[1] + []\");\n\t\tshouldEqual(stringify(deepExtend([1], [2])), stringify([2]), \"[1<-2]\");\n\t\tshouldEqual(stringify(deepExtend([1, 2, 3], [2])), stringify([2, 2, 3]), \"[1<-2,2,3]]\");\n\t\tshouldEqual(stringify(deepExtend([2], [1, 2, 3])), stringify([1, 2, 3]), \"[2<-1, 2, 3]\");\n\t\tshouldEqual(stringify(deepExtend([, , , 4], [1, 2, 3])), stringify([1, 2, 3, 4]), \"array can have empty items\");\n\t\tshould(deepEqual(deepExtend([1, 2, 3], { 1: 100 }), [1, 100, 3]), \"array<-object\");\n\t\tshould(deepEqual(deepExtend([{ id: 1 }], [{ id: 2 }]), [{ id: 1 }, { id: 2 }]), \"[1] + [2] with ids\");\n\t});\n\n\tit(\"preserves array ordering\", () => {\n\t\tshouldEqual(deepExtend([{ id: 1 }], [{ id: 1 }, { id: 2 }])[0].id, 1, \"first item id\");\n\t\tshouldEqual(deepExtend([{ id: 2 }], [{ id: 1 }, { id: 2 }])[0].id, 2, \"first item id\");\n\t\tshouldEqual(deepExtend([<any>{ id: 1 }, { id: 3 }], [{ id: 2 }, { id: 1, v: 1 }])[0].v, 1, \"first item id\");\n\t});\n\n\tit(\"clones objects with primitives\", () => {\n\t\tlet source = { v1: { v2: { v3: 1 } } };\n\t\tlet o = deepExtend(source);\n\t\tshouldEqual(o.v1.v2.v3, 1, \"properly extends {}\");\n\t\tshould(source.v1 !== o.v1, \"properly clones objects\");\n\t});\n\n\tit(\"clones dates\", () => {\n\t\tlet source = { date: new Date() };\n\t\tlet o = deepExtend(source);\n\t\tshould(source.date !== o.date, \"dates are clones\");\n\t\tshouldEqual(source.date.getUTCDate(), o.date.getUTCDate(), \"date values are preserved\");\n\t});\n\n\tit(\"clones nested objects\", () => {\n\t\tlet source = { v1: { v2: { v3: 1 } } };\n\t\tlet o = deepExtend(source);\n\t\tshould(source !== o, \"clones source\");\n\t\tshouldEqual(source.v1.v2.v3, o.v1.v2.v3, \"properly extends v3\");\n\t\tshould(source.v1 !== o.v1, \"properly clones v1\");\n\t\tshould(source.v1.v2 !== o.v1.v2, \"properly clones v1.v2\");\n\t});\n\n\tit(\"clones arrays\", () => {\n\t\tlet source = { v1: range(1).map(i => ({ id: i + 1, value: i })) };\n\t\tlet o = deepExtend(source);\n\t\tshould(source !== o, \"clones source\");\n\t\tshould(source.v1 !== o.v1, \"clones v1\");\n\t\tshould(source.v1[0].value === o.v1[0].value, \"extends v1[1].value\");\n\t\tshould(source.v1[0] !== o.v1[0], \"clones v1[1]\");\n\t});\n\n\tit(\"confirms references are preserved\", () => {\n\t\tlet x = { foo: { bar: \"foo\" }, array: [{ id: \"a\", value: \"ax\" }] };\n\t\tlet y = { foo: { bar: \"bar\" }, array: [{ id: \"a\", value: \"ay\" }] };\n\t\tlet xfoo = x.foo;\n\t\tlet xarray = x.array[0];\n\t\tlet z = deepExtend(x, y);\n\t\tshouldEqual(x, z, \"returns x\");\n\t\tshouldEqual(xfoo, z.foo, \"reference foo preserved\");\n\t\tshouldEqual(xarray.value, \"ay\", \"existing array references are preserved\");\n\t});\n\n\tit(\"confirms array merge is 'id' aware\", () => {\n\t\tlet o1 = {\n\t\t\tvalues: [\n\t\t\t\t{\n\t\t\t\t\tid: \"v1\",\n\t\t\t\t\tvalue: { v1: 1 }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: \"v2\",\n\t\t\t\t\tvalue: { v2: 1 }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: \"v9\",\n\t\t\t\t\tvalue: { v9: 1 }\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t\tlet o2 = {\n\t\t\tvalues: [\n\t\t\t\t{\n\t\t\t\t\tid: \"v1\",\n\t\t\t\t\tvalue: { v1: 2 }\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tid: \"v9\",\n\t\t\t\t\tvalue: { v9: 2 }\n\t\t\t\t}\n\t\t\t]\n\t\t};\n\n\t\tlet o = deepExtend(o1);\n\t\tshouldEqual(o.values[0].value.v1, 1, \"object is clone of o1, v1\");\n\t\tshouldEqual(o.values[1].value.v2, 1, \"object is clone of o1, v2\");\n\t\tshouldEqual(o.values[2].value.v9, 1, \"object is clone of o1, v9\");\n\n\t\tdeepExtend(o, o2);\n\t\tshouldEqual(o.values[0].value.v1, 2, \"merge replaces v1\");\n\t\tshouldEqual(o.values[1].value.v2, 1, \"merge preserves v2\");\n\t\tshouldEqual(o.values[2].value.v9, 2, \"merge replaces v9\");\n\t});\n\n\tit(\"confirms array references are preserved\", () => {\n\t\tlet x = { foo: { bar: \"foo\" } };\n\t\tlet y = { foo: { bar: \"bar\" } };\n\t\tlet xfoo = x.foo;\n\t\tlet z = deepExtend(x, y);\n\t\tshouldEqual(x, z, \"returns x\");\n\t\tshouldEqual(xfoo, z.foo, \"reference foo preserved\");\n\t});\n\n\tit(\"confirms trace on simple array merging\", () => {\n\t\tlet trace: Array<TraceItem> = [];\n\t\tlet result = deepExtend([1, 2, 5], [, 3], trace);\n\t\tshouldEqual(stringify(result), stringify([1, 3, 5]), \"confirm array extended\");\n\t\tshouldEqual(trace.length, 1, \"length: 2<-3\");\n\t\tshouldEqual(stringify(trace[0].path), stringify([1]), \"path: target[1]\");\n\t\tshouldEqual(trace[0].key, 1, \"key: target[*1*] was 2 and is now 3\");\n\t\tshouldEqual(trace[0].was, 2, \"was: target[1] was *2* and is now 3\");\n\t\tshouldEqual(trace[0].value, 3, \"value: target[1] was 2 and is now *3*\");\n\t});\n\n\tit(\"confirms trace diff on simple array\", () => {\n\t\tlet trace: Array<TraceItem> = [];\n\t\tdeepExtend([1, 2, 5], [, 3], trace);\n\t\tshouldEqual(stringify(diff(trace)), stringify({ 1: 3 }), \"simple array trace diff\");\n\t});\n\n\tit(\"confirms trace diff on simple array against array-like object\", () => {\n\t\tlet trace: Array<TraceItem> = [];\n\t\tdeepExtend([1, 2, 5], { 1: 3 }, trace);\n\t\tshouldEqual(stringify(diff(trace)), stringify({ 1: 3 }), \"simple array trace diff\");\n\t});\n\n\tit(\"confirms trace is empty when merging duplicate objects\", () => {\n\t\tlet trace: Array<TraceItem> = [];\n\t\tdeepExtend({}, {}, trace);\n\t\tshouldEqual(trace.length, 0, \"no activity 0\");\n\t\tdeepExtend({ a: 1 }, { a: 1 }, trace);\n\t\tshouldEqual(trace.length, 0, \"no activity 1\");\n\t\tdeepExtend({ a: 1, b: [1] }, { a: 1, b: [1] }, trace);\n\t\tshouldEqual(trace.length, 0, \"no activity 2\");\n\t\tdeepExtend({ a: 1, b: [1], c: {} }, { a: 1, b: [1], c: {} }, trace);\n\t\tshouldEqual(trace.length, 0, \"no activity 3\");\n\t\tdeepExtend({ a: 1, b: [1], c: { d: 1 } }, { a: 1, b: [1], c: { d: 1 } }, trace);\n\t\tshouldEqual(trace.length, 0, \"no activity 4\");\n\t\tdeepExtend({ a: [1, 2, 3] }, { a: [1, 2, 3] }, (trace = []));\n\t\tshouldEqual(trace.length, 0, \"no activity 5\");\n\t\tdeepExtend({ a: [1, 2, [3]] }, { a: [1, 2, [3]] }, (trace = []));\n\t\tshouldEqual(trace.length, 0, \"no activity 6\");\n\t});\n\n\tit(\"confirms trace count is 1 when exactly one change is merged\", () => {\n\t\tlet trace: Array<TraceItem> = [];\n\t\tdeepExtend({ a: 1, b: [1], c: { d: 1 } }, { a: 2, b: [1], c: { d: 1 } }, (trace = []));\n\t\tshouldEqual(trace.length, 1, \"a:1->2\");\n\t\tdeepExtend({ a: 1, b: [1], c: { d: 1 } }, { a: 1, b: [2], c: { d: 1 } }, (trace = []));\n\t\tshouldEqual(trace.length, 1, \"b:1->2\");\n\t\tdeepExtend({ a: 1, b: [1], c: { d: 1 } }, { a: 1, b: [1], c: { d: 2 } }, (trace = []));\n\t\tshouldEqual(trace.length, 1, \"d:1->2\");\n\t\tdeepExtend({ a: [1, 2, 3] }, { a: [1, 2, 30] }, (trace = []));\n\t\tshouldEqual(trace.length, 1, \"3->30\");\n\t\tdeepExtend({ a: [1, 2, [3]] }, { a: [1, 2, [3, 4]] }, (trace = []));\n\t\tshouldEqual(trace.length, 1, \"[3]->[3,4]\");\n\t});\n\n\tit(\"confirms trace count is 2 when exactly two changes is merged\", () => {\n\t\tlet trace: Array<TraceItem> = [];\n\t\tdeepExtend({ a: 1, b: [1], c: { d: 1 } }, { a: 2, b: [1, 2], c: { d: 1 } }, (trace = []));\n\t\tshouldEqual(trace.length, 2, \"a:1->2, b:adds 2\");\n\t\tdeepExtend({ a: 1, b: [1], c: { d: 1 } }, { a: 1, b: [2, 1], c: { d: 1 } }, (trace = []));\n\t\tshouldEqual(trace.length, 2, \"b:1->2,adds 1\");\n\t\tdeepExtend(<any>{ a: 1, b: [1], c: { d: 1 } }, { a: 1, b: [1], c: { d: 2, e: 3 } }, (trace = []));\n\t\tshouldEqual(trace.length, 2, \"c.d:1->2, c.e:added\");\n\t\tdeepExtend({ a: [1, 2, 3] }, { a: [10, 2, 30] }, (trace = []));\n\t\tshouldEqual(trace.length, 2, \"1->10, 3->30\");\n\t\tdeepExtend({ a: [1, 2, [3]] }, { a: [1, 2, [3, 4], 5] }, (trace = []));\n\t\tshouldEqual(trace.length, 2, \"[3]->[3,4], 4 added\");\n\t});\n\n\tit(\"confirms trace diff when exactly one change is made\", () => {\n\t\tlet trace: Array<TraceItem> = [];\n\t\tdeepExtend({ a: 1, b: [1], c: { d: 1 } }, { a: 2, b: [1], c: { d: 1 } }, (trace = []));\n\t\tshouldEqual(stringify(diff(trace)), stringify({ a: 2 }), \"a:1->2\");\n\t\tdeepExtend({ a: 1, b: [1], c: { d: 1 } }, { a: 1, b: [2], c: { d: 1 } }, (trace = []));\n\t\tshouldEqual(stringify(diff(trace)), stringify({ b: { 0: 2 } }), \"b:1->2\");\n\t\tdeepExtend({ a: 1, b: [1], c: { d: 1 } }, { a: 1, b: [1], c: { d: 2 } }, (trace = []));\n\t\tshouldEqual(stringify(diff(trace)), stringify({ c: { d: 2 } }), \"d:1->2\");\n\t\tdeepExtend({ a: [1, 2, 3] }, { a: [1, 2, 30] }, (trace = []));\n\t\tshouldEqual(stringify(diff(trace)), stringify({ a: { 2: 30 } }), \"a[2]:3->30\");\n\t\tdeepExtend({ a: [1, 2, [3]] }, { a: [1, 2, [3, 4]] }, (trace = []));\n\t\tshouldEqual(stringify(diff(trace)), stringify({ a: { 2: { 1: 4 } } }), \"[3]->[3,4]\");\n\t});\n\n\tit(\"confirms trace diff when exactly two changes are made\", () => {\n\t\tlet trace: Array<TraceItem> = [];\n\t\tdeepExtend({ a: [1, 2, [\"3\"]] }, { a: [1, 2, [\"A\", \"B\"]] }, (trace = []));\n\t\t// this should not pass..a[2][0]<-A, A[2][1]<-B is {a: {2: {0: \"A\", 1: \"B\"}}}\n\t\t//shouldEqual(stringify(diff(trace)), stringify({ a: { 2: { 0: { 0: \"A\", 1: \"B\" } } } }), \"a[2]:[3]<-[A,B]\");\n\t\t// this should not fail...\n\t\tshouldEqual(stringify(diff(trace)), stringify({ a: { 2: { 0: \"A\", 1: \"B\" } } }), \"a[2]:[3]<-[A,B]\");\n\t});\n\n\tit(\"confirms trace content\", () => {\n\t\tlet trace = <Array<TraceItem>>[];\n\n\t\tlet target = deepExtend(\n\t\t\t<any>{\n\t\t\t\tfoo: 1,\n\t\t\t\tbar: 2\n\t\t\t},\n\t\t\t{\n\t\t\t\tfoo: 1,\n\t\t\t\tproperty: \"should fire 'add' event with this object and string path to it\",\n\t\t\t\tobject: {\n\t\t\t\t\tp1: \"p1\",\n\t\t\t\t\tp2: 2,\n\t\t\t\t\ta1: [1, 2, 3],\n\t\t\t\t\ta2: [{ id: \"v1\", value: 1 }]\n\t\t\t\t}\n\t\t\t},\n\t\t\ttrace\n\t\t);\n\n\t\tshouldEqual(trace.length, 2, \"property added, object added\");\n\t\tshouldEqual(trace.length, trace.filter(t => t.value !== t.was).length, \"no trivial trace elements\");\n\t\tshouldEqual(trace.map(t => t.key).join(\" \"), \"property object\", \"changes are depth first\");\n\n\t\t// property\n\t\tlet t = trace.shift();\n\t\tshouldEqual(t.key, \"property\", \"property\");\n\t\tshouldEqual(t.value, target.property, \"target.property\");\n\n\t\t// object\n\t\tt = trace.shift();\n\t\tshouldEqual(t.key, \"object\", \"object\");\n\t\tshouldEqual(t.value, target.object, \"target.object\");\n\t});\n\n\tit(\"generates empty diff from the trace\", () => {\n\t\tlet trace = <Array<TraceItem>>[];\n\t\tlet a = {\n\t\t\tpersonalInfo: {\n\t\t\t\temail: \"aliceames@email.org\",\n\t\t\t\tlastName: \"Ames\",\n\t\t\t\tfirstName: \"Alice\"\n\t\t\t},\n\t\t\tname: \"name\"\n\t\t};\n\t\tlet b = {\n\t\t\tname: \"name\",\n\t\t\tpersonalInfo: {\n\t\t\t\tfirstName: \"Alice\",\n\t\t\t\tlastName: \"Ames\",\n\t\t\t\temail: \"aliceames@email.org\"\n\t\t\t}\n\t\t};\n\t\tlet expected = {};\n\t\tdeepExtend(a, b, (trace = []));\n\t\tconsole.log(\"trace\", stringify(trace));\n\t\tshouldEqual(stringify(diff(trace)), stringify(expected));\n\t});\n\n\tit(\"generates a diff from the trace\", () => {\n\t\tlet trace = <Array<TraceItem>>[];\n\t\tlet a = {\n\t\t\tname: \"name\",\n\t\t\tpersonalInfo: {\n\t\t\t\tfirstName: \"Alice\",\n\t\t\t\tlastName: \"Ames\"\n\t\t\t}\n\t\t};\n\t\tlet b = {\n\t\t\tname: \"name\",\n\t\t\tpersonalInfo: {\n\t\t\t\tfirstName: \"Alice\",\n\t\t\t\tlastName: \"Ames\",\n\t\t\t\temail: \"aliceames@email.org\"\n\t\t\t}\n\t\t};\n\t\tlet expected = {\n\t\t\tpersonalInfo: {\n\t\t\t\temail: \"aliceames@email.org\"\n\t\t\t}\n\t\t};\n\t\tdeepExtend(a, b, (trace = []));\n\t\tconsole.log(\"trace\", stringify(trace));\n\t\t/**\n\t\t * I want a minimal version of b, in this case it should drop the name\n\t\t */\n\t\tshouldEqual(stringify(diff(trace)), stringify(expected));\n\t});\n});\n\nfunction forcePath(o: any, path: Array<string>) {\n\tlet node = o;\n\tpath.forEach(n => (node = node[n] = node[n] || <any>{}));\n\treturn node;\n}\n\nfunction diff(trace: Array<TraceItem>) {\n\tlet result = <any>{};\n\ttrace.forEach(t => {\n\t\tlet path = t.path.slice();\n\t\tlet key = t.key;\n\t\tconsole.assert(key === path.pop());\n\t\tforcePath(result, path)[key] = t.value;\n\t});\n\treturn result;\n}\n","import { describe, it, should, shouldEqual, shouldThrow } from \"../base\";\nimport { Extensions } from \"../../index\";\nimport { range, shuffle } from \"../../ol3-fun/common\";\n\ndescribe(\"data/extensions\", () => {\n\tit(\"ensures the api\", () => {\n\t\tlet x = new Extensions();\n\t\tshouldEqual(typeof x.extend, \"function\", \"extend method\");\n\t\tshouldEqual(typeof x.bind, \"function\", \"bind method\");\n\t\tshouldEqual(typeof x.isExtended, \"function\", \"isExtended method\");\n\t});\n\n\tit(\"ensures no side-effects on the object\", () => {\n\t\tlet x = new Extensions();\n\t\tlet o = {};\n\t\tlet expected = JSON.stringify(o);\n\t\tx.extend(o, { custom: \"data\" });\n\t\tlet actual = JSON.stringify(o);\n\t\tshouldEqual(expected, actual, \"no side-effects\");\n\t});\n\n\tit(\"ensures two objects can be bound to same extension data\", () => {\n\t\tlet x = new Extensions();\n\t\tlet math = x.extend(Math, { sqrt2: Math.sqrt(2) });\n\t\tshould(!!(<any>x.extend(Math)).sqrt2, \"Math.sqrt2\");\n\t\tx.bind(Number, Math);\n\t\tshouldEqual(Math.round(math.sqrt2 * (<any>x.extend(Number)).sqrt2), 2, \"sqrt2*sqrt2 = 2\");\n\t});\n\n\tit(\"ensures two extensions can bind data to the same object\", () => {\n\t\tlet ext1 = new Extensions();\n\t\tlet ext2 = new Extensions();\n\t\tlet o = {};\n\t\text1.extend(o, { ext: 1 });\n\t\text2.extend(o, { ext: 2 });\n\t\tshouldEqual((<any>ext1.extend(o)).ext, 1, \"ext1\");\n\t\tshouldEqual((<any>ext2.extend(o)).ext, 2, \"ext2\");\n\t});\n\n\tit(\"ensures two extended objects cannot be bound\", () => {\n\t\tlet x = new Extensions();\n\t\tlet o = {};\n\t\tlet p = {};\n\t\tx.extend(o);\n\t\tx.extend(p);\n\t\tshouldThrow(() => x.bind(o, p), \"cannot bind extended objects\");\n\t});\n\n\tit(\"ensures isExtended returns true iff it is extended\", () => {\n\t\tlet x1 = new Extensions();\n\t\tlet x2 = new Extensions();\n\t\tlet o = {};\n\t\tshould(!x1.isExtended(o), \"not extended in x1\");\n\t\tx1.extend(o);\n\t\tshould(x1.isExtended(o), \"extended in x1\");\n\t\tshould(!x2.isExtended(o), \"not extended in x2\");\n\t\tx2.extend(o);\n\t\tshould(x2.isExtended(o), \"extended in x2\");\n\t});\n\n\tit(\"extension references are preserved\", () => {\n\t\tlet x = new Extensions();\n\t\tlet o = {};\n\t\tlet p = <any>x.extend(o);\n\t\tx.extend(o, { name: \"P\" });\n\t\tshouldEqual(p.name, \"P\", \"extension references are preserved\");\n\t});\n\n\tit(\"binds two objects to the same extension\", () => {\n\t\tlet x = new Extensions();\n\t\tlet o1 = { id: 1 };\n\t\tlet o2 = Object.create({ id: 2 });\n\n\t\tx.bind(o1, o2);\n\t\tx.extend(o1, { foo: \"foo1\" });\n\t\tshouldEqual((<any>x.extend(o1)).foo, \"foo1\");\n\t\tx.extend(o2, { foo: \"foo2\" });\n\t\tshouldEqual((<any>x.extend(o1)).foo, \"foo2\");\n\t});\n\n\tit(\"extension integrity testing (100 objects X 10 extensions)\", () => {\n\t\tlet x = range(10).map(n => new Extensions());\n\t\tlet data = range(1000).map(n => Object.create({ id: n }));\n\t\tdata.map((d, i) => x[i % 10].extend(d, { data: shuffle(range(1000)) }));\n\t\tdata.forEach((d, i) => {\n\t\t\tlet data = (<{ data: Array<number> }>x[i % 10].extend(d)).data;\n\t\t\tdata = data.filter(v => v <= d.id);\n\t\t\tx[i % 10].extend(d, { data });\n\t\t});\n\t\tlet sums = data.map((d, i) => {\n\t\t\tlet ext = x[i % 10].extend(d) as { data: Array<number> };\n\t\t\tshouldEqual(ext.data.length, i + 1, `extension data has ${i + 1} items`);\n\t\t\treturn ext.data.reduce((a, b) => a + b, 0);\n\t\t});\n\t\tconsole.log(sums);\n\t\t// CODEFIGHTS: what is the closed expression for this?\n\t\tshouldEqual(sums.reduce((a, b) => a + b, 0), 166666500);\n\t});\n\n\tit(\"extensions performance testing (1 million accesses)\", () => {\n\t\t// how to capture memory?\n\t\tlet x = new Extensions();\n\t\tlet data = range(500000).map(n => ({ id: n }));\n\t\tlet counter = { count: 0 };\n\t\tdata.forEach(d => x.extend(d, { counter }));\n\t\tdata.forEach(d => (<{ counter: { count: number } }>x.extend(d)).counter.count++);\n\t\tshouldEqual(counter.count, data.length, `accessed ${data.length} items`);\n\t}).timeout(1000);\n});\n","import { describe, it, should, shouldEqual, shouldThrow } from \"../base\";\nimport { isPrimitive } from \"../../ol3-fun/is-primitive\";\n\ndescribe(\"is-primitive\", () => {\n\tit(\"true tests\", () => {\n\t\t[\"A\", 1, true, null, undefined, Symbol(0)].forEach(v =>\n\t\t\tshould(isPrimitive(v), `${v && v.toString ? v.toString() : <any>v} is primitive`)\n\t\t);\n\t});\n\n\tit(\"false tests\", () => {\n\t\t[new Date(), new RegExp(\"\"), {}, []].forEach(v =>\n\t\t\tshould(!isPrimitive(v), `${v && v.toString ? v.toString() : <any>v} is primitive`)\n\t\t);\n\t});\n});\n","import { describe, it, should, shouldEqual, shouldThrow, stringify } from \"../base\";\nimport { isCyclic } from \"../../ol3-fun/is-cyclic\";\n\ndescribe(\"is-cycle\", () => {\n\tit(\"false tests\", () => {\n\t\tlet a = {};\n\t\tlet b = { a: a };\n\n\t\tshould(\n\t\t\t!isCyclic({\n\t\t\t\ta,\n\t\t\t\tb\n\t\t\t}),\n\t\t\t\"nothing in this graph refers back to an ancestor of itself\"\n\t\t);\n\t});\n\n\tit(\"true tests\", () => {\n\t\tlet a = { b: <any>\"\" };\n\t\tlet b = { a: a };\n\t\ta.b = b;\n\n\t\tshould(isCyclic(b), \"b->a->b\");\n\t\tshould(isCyclic({ b }), \"{}->b->a->b\");\n\t\tshouldThrow(() => stringify(b), \"cycles cannot be serialized\");\n\t});\n});\n","import { should } from \"../base\";\nimport * as ol from \"openlayers\";\n\ndescribe(\"ol/Map\", () => {\n    it(\"ol/Map\", () => {\n        should(!!ol.Map, \"Map\");\n    });\n});\n","import { describe, it, should } from \"../base\";\nimport { parse } from \"ol3-fun/parse-dms\";\n\ndescribe(\"parse-dms\", () => {\n\tit(\"parse\", () => {\n\t\tlet dms = parse(`10 5'2\" 10`);\n\t\tif (typeof dms === \"number\") throw \"lat-lon expected\";\n\t\tshould(dms.lat === 10.08388888888889, \"10 degrees 5 minutes 2 seconds\");\n\t\tshould(dms.lon === 10, \"10 degrees 0 minutes 0 seconds\");\n\t});\n});\n","/**\n * https://developers.google.com/maps/documentation/utilities/polylinealgorithm?csw=1\n * https://github.com/DeMoehn/Cloudant-nyctaxi/blob/2e48cb6c53bd4ac4f58d50d9302f00fc72f6681e/app/js/polyline.js\n */\nclass PolylineEncoder {\n\n    private encodeCoordinate(coordinate: number, factor: number) {\n        coordinate = Math.round(coordinate * factor);\n        coordinate <<= 1;\n        if (coordinate < 0) {\n            coordinate = ~coordinate;\n        }\n        let output = '';\n        while (coordinate >= 0x20) {\n            output += String.fromCharCode((0x20 | (coordinate & 0x1f)) + 0x3f);\n            coordinate >>= 5;\n        }\n        output += String.fromCharCode(coordinate + 0x3f);\n        return output;\n    }\n\n    decode(str: string, precision = 5) {\n        let index = 0,\n            lat = 0,\n            lng = 0,\n            coordinates = <number[][]>[],\n            latitude_change: number,\n            longitude_change: number,\n            factor = Math.pow(10, precision);\n\n        while (index < str.length) {\n\n            let byte = 0;\n            let shift = 0;\n            let result = 0;\n\n            do {\n                byte = str.charCodeAt(index++) - 0x3f;\n                result |= (byte & 0x1f) << shift;\n                shift += 5;\n            } while (byte >= 0x20);\n\n            let latitude_change = ((result & 1) ? ~(result >> 1) : (result >> 1));\n\n            shift = result = 0;\n\n            do {\n                byte = str.charCodeAt(index++) - 0x3f;\n                result |= (byte & 0x1f) << shift;\n                shift += 5;\n            } while (byte >= 0x20);\n\n            longitude_change = ((result & 1) ? ~(result >> 1) : (result >> 1));\n\n            lat += latitude_change;\n            lng += longitude_change;\n\n            coordinates.push([lat / factor, lng / factor]);\n        }\n\n        return coordinates;\n    }\n\n    encode(coordinates: number[][], precision = 5) {\n        if (!coordinates.length) return '';\n\n        let factor = Math.pow(10, precision),\n            output = this.encodeCoordinate(coordinates[0][0], factor) + this.encodeCoordinate(coordinates[0][1], factor);\n\n        for (let i = 1; i < coordinates.length; i++) {\n            let a = coordinates[i], \n            b = coordinates[i - 1];\n            output += this.encodeCoordinate(a[0] - b[0], factor);\n            output += this.encodeCoordinate(a[1] - b[1], factor);\n        }\n\n        return output;\n    }\n\n}\n\nexport = PolylineEncoder;","/**\n * Use [ol.format.Polyline](http://openlayers.org/en/master/apidoc/ol.format.Polyline.html)\n */\n\nimport ol = require(\"openlayers\");\n\ninterface Polyline extends ol.format.Polyline {\n    decodeDeltas(code: string, stride: number, factor: number): number[];\n    encodeDeltas(points: number[], stride: number, factor: number): string;\n}\n\nconst Polyline = <Polyline><any>ol.format.Polyline;\n\nclass PolylineEncoder {\n\n    constructor(public precision = 5, public stride = 2) {\n    }\n\n    private flatten(points: number[][]) {\n        let nums = new Array(points.length * this.stride);\n        let i = 0;\n        points.forEach(p => p.map(p => nums[i++] = p));\n        return nums;\n    }\n\n    private unflatten(nums: number[]) {\n        let points = <number[][]>new Array(nums.length / this.stride);\n        for (let i = 0; i < nums.length / this.stride; i++) {\n            points[i] = nums.slice(i * this.stride, (i + 1) * this.stride);\n        }\n        return points;\n    }\n\n    round(nums: number[]) {\n        let factor = Math.pow(10, this.precision);\n        return nums.map(n => Math.round(n * factor) / factor);\n    }\n\n    decode(str: string) {\n        let nums = Polyline.decodeDeltas(str, this.stride, Math.pow(10, this.precision));\n        return this.unflatten(this.round(nums));\n    }\n\n    encode(points: number[][]) {\n        return Polyline.encodeDeltas(this.flatten(points), this.stride, Math.pow(10, this.precision));\n    }\n\n}\n\nexport = PolylineEncoder;\n","import { should, shouldEqual, stringify } from \"../base\";\nimport GooglePolylineEncoder = require(\"ol3-fun/google-polyline\");\nimport PolylineEncoder = require(\"ol3-fun/ol3-polyline\");\nimport { pair, range } from \"ol3-fun/common\";\n\ndescribe(\"GooglePolylineEncoder\", () => {\n    it(\"GooglePolylineEncoder\", () => {\n        should(!!GooglePolylineEncoder, \"GooglePolylineEncoder\");\n    });\n\n    let points = pair(range(10), range(10));\n    let poly = new GooglePolylineEncoder();\n\n    let encoded = poly.encode(points);\n    let decoded = poly.decode(encoded);\n\n    shouldEqual(encoded.length, 533, \"encoding is 533 characters\");\n    shouldEqual(stringify(decoded), stringify(points), \"encode->decode\");\n});\n\ndescribe(\"PolylineEncoder\", () => {\n    it(\"PolylineEncoder\", () => {\n        should(!!PolylineEncoder, \"PolylineEncoder\");\n    });\n\n    let points = pair(range(10), range(10));\n    let poly = new PolylineEncoder(); // default precision is 5\n\n    let encoded = poly.encode(points);\n    let decoded = poly.decode(encoded);\n\n    shouldEqual(encoded.length, 533, \"encoding is 533 characters\");\n    shouldEqual(stringify(decoded), stringify(points), \"encode->decode\");\n\n    poly = new PolylineEncoder(6);\n\n    encoded = poly.encode(points);\n    decoded = poly.decode(encoded);\n\n    shouldEqual(encoded.length, 632, \"encoding is 632 characters\");\n    shouldEqual(stringify(decoded), stringify(points), \"encode->decode\");\n\n});\n","import ol = require(\"openlayers\");\n\nfunction getStyle(feature: ol.Feature) {\n\tlet style = feature.getStyle() as\n\t\t| ol.style.Style\n\t\t| ol.style.Style[]\n\t\t| ol.FeatureStyleFunction\n\t\t| ol.StyleFunction\n\t\t| null;\n\tif (!style) {\n\t\tlet styleFn = feature.getStyleFunction();\n\t\tif (styleFn) {\n\t\t\tstyle = styleFn(0);\n\t\t}\n\t}\n\tif (!style) {\n\t\tstyle = new ol.style.Style({\n\t\t\ttext: new ol.style.Text({\n\t\t\t\ttext: \"?\"\n\t\t\t})\n\t\t});\n\t}\n\tif (!Array.isArray(style)) style = <any>[style];\n\treturn <ol.style.Style[]>style;\n}\n\n/**\n * Converts a feature to an image\n */\nclass Snapshot {\n\t/**\n\t * @param canvas Canvas which will contain the feature\n\t * @param feature Feature to render on the canvas, the style must be assigned to the style\n\t */\n\tstatic render(canvas: HTMLCanvasElement, feature: ol.Feature) {\n\t\t// clone the feature to the geometry can be modified\n\t\tfeature = feature.clone();\n\t\tlet geom = feature.getGeometry() as ol.geom.Polygon;\n\t\tlet extent = geom.getExtent();\n\n\t\tlet [cx, cy] = ol.extent.getCenter(extent);\n\t\tlet [w, h] = [ol.extent.getWidth(extent), ol.extent.getHeight(extent)];\n\t\tlet isPoint = w === 0 || h === 0;\n\t\tlet ff = 1 / (window.devicePixelRatio || 1);\n\t\tlet scale = isPoint ? 1 : Math.min((ff * canvas.width) / w, (ff * canvas.height) / h);\n\t\tgeom.translate(-cx, -cy); // center at 0,0\n\t\tgeom.scale(scale, -scale); // fill the canvas, flipping the y axis\n\t\tgeom.translate(Math.ceil((ff * canvas.width) / 2), Math.ceil((ff * canvas.height) / 2)); // move center to center of canvas\n\n\t\tlet ctx = canvas.getContext(\"2d\");\n\t\tif (!ctx) throw \"unable to get canvas context\";\n\t\tlet vtx = ol.render.toContext(ctx);\n\t\tlet styles = <ol.style.Style[]>(<any>getStyle(feature));\n\t\tif (!Array.isArray(styles)) styles = <any>[styles];\n\t\tstyles.forEach(style => vtx.drawFeature(feature, style));\n\t}\n\n\t/**\n\t * @param feature Feature to render as image data\n\t * @return convert features into data:image/png;base64;\n\t */\n\tstatic snapshot(feature: ol.Feature, size = 128) {\n\t\tlet canvas = document.createElement(\"canvas\");\n\t\tcanvas.width = canvas.height = size;\n\t\tthis.render(canvas, feature);\n\t\treturn canvas.toDataURL();\n\t}\n}\n\nexport = Snapshot;\n","import { describe, it, should, stringify, shouldEqual } from \"../base\";\nimport Snapshot = require(\"ol3-fun/snapshot\");\nimport ol = require(\"openlayers\");\nimport { html } from \"ol3-fun/common\";\n\nconst pointData =\n\t\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAFdUlEQVR4Xu1aXUybVRh+3hiWxiX+ZNSMECvjJxiqyaROyq5M2MWUZGyDLEZg0WzhJ2QELharjmbWGgqOOTRxTMDIGHpBpIwE40Un3ujA0EmUYkhcRpoJRObfJkJG9Ji3+1gWoP2+rudrSvq9l/2e857nPOc5/yUkeVCStx+GAIYDklwBYwgkuQGMSdAYAsYQSHIFjCGQ5AYwVgFjCBhDIMkViPsQEEKkANgFIB2AGcCjAP4AsADgOoBxIlqJV7/ETQAhRCWAlwA8D+DBCA38G8DXAD4jok/1FkJ3AYQQVgDdAAruozHfAqgloh/uo6ymIroKIIQ4DOBjAA9oYrMx6F8AVUTEeaSHLgIIITjvOwBel8jYTURNEvOFUuklQDMAh2yyAJqJ6A2ZeaULIIR4GUCfTJJrch0ion5Z+aUKIIRIA/CzyiwfK/d/AGQQES+bMYdsAc4D4OVO7/iEiF6VUYk0AYQQvMyNyiClMUc+EX2vERsWJlOAqHp/enoaY2NjmJubQ1paGgoKCpCbmxtNe3qI6JVoCmyElSKAsuz9CiBVC6GzZ8+ioaEBt2/fvgvfsmUL2tvbUVNToyUFYxaI6DGt4HA4WQLw3v47LWQ6OjpQW1sbFnru3DlUVVVpScWYZ4hoQitYTwfwjq9HjQjbPTMzE8vLy2GhJpMJS0tLaqlWvzuIqEUrWE8BGgC8p0ZkYGAApaWlajAIIVQxCuArIirSCtZTgDcBuNWInDp1CsePH1eDRSPA70S0TTVhBICsOYAH9YdqRLxeLw4ePKgGi0aAL4noBdWEcRCAW/W5GpHZ2VlkZWXJnAP4qNyhVm+k77IckKVsgVW58Cwfaanr7OzE0aNHVfMogGwiuqoVrNscwImFEDMAntBCpr+/H/X19Zifn78LT09Px5kzZ1BWVqYlBWOuE9HjWsHhcFIcoAjQCUBz162srGB0dBRXrlxBfn4+7HY7UlL4ulBzfERE1ZrRYYAyBXgOwFishKIov4uIxqPAbwiVJoDigosA9sVKSkP5QSI6oAGnCpEtwJMAflKtNTbAfwDyiGg6tjR3SksVQHEBX4XxlZhe8RoRtcpKLl0AJjY+Pt5jMpn4fICtW7ciIyMjIt+ZmZkQzmzmd5KI0U5EvO2WFnoIwHvddT3Ep8Dq6vWT9tDQEEpKSkINunbt2jqxFhYW4Ha7MTg4OB8MBrMBLEprvR5DAMD7gUDgWF5e3l2efO5vaWnB7t27UVRUhMnJSRARrFYr+vr6sH37drALcnJyYLFYQuUWFxdDYjQ3Nwuz2Uw3b96E0+l8GsBkwgvg9/uPDQ8PM+He1NTUhzweT0lhYSFaW1tx48YN8DcOm82GiooKNDY2btgmi8XyZzAYfMTv94fKOJ1OP4BnN5MAfE2Grq6uwyyA3W7/y+v1Pswu4JiamkJxcTF/DzmAY//+/di27c4B79KlS6Hfjxw5glu3bqGurg69vb1Sh63UZErPrBsCq+TZ4nwbdPr06W+6u7t/GxkZ2Xf58uWQ1VcF2Lt3L5qamrw7duw4UF5ezlvmoMvlsigO4MliaDM5YJXrFwBGXC7Xu9zjNputgj/4fL4Lq4BVAViMPXv2VFRWVl5wOBxwOBxXT548maUIsOnmgHsJP+VyuX5kB3g8nom2trZfAoFA8VoHqAjwNgDnZnLA2h477/P5Ku+dA6xW64TP59sZzgEnTpyYcLvdO7Ozs0MridPp5JtgKa9CLKQecwCfBfhMwLY/tGbd5p0Ov/AeU3rxA+Uxhd8SAwB4m8ui2QHUKa9Mbyn/KHkxTM6YDKGHADERindhQ4B4K55o9RkOSLQeiTcfwwHxVjzR6jMckGg9Em8+hgPirXii1Zf0DvgfGiXvUAsr6xQAAAAASUVORK5CYII=\";\nconst circleData =\n\t\"data:image/png;base64,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\";\n\nfunction show(data: string) {\n\tdocument.body.appendChild(html(`<img src=\"${data}\" />`));\n}\n\nfunction circle(radius = 1, points = 36) {\n\tif (points < 3) throw \"a circle must contain at least three points\";\n\tif (radius <= 0) throw \"a circle must have a positive radius\";\n\tlet a = 0;\n\tlet dr = (2 * Math.PI) / (points - 1);\n\tlet result = new Array(points) as Array<[number, number]>;\n\tfor (let i = 0; i < points - 1; i++) {\n\t\tresult[i] = [radius * Math.sin(a), radius * Math.cos(a)];\n\t\ta += dr;\n\t}\n\tresult[result.length - 1] = result[0]; // properly close\n\treturn result;\n}\n\ndescribe(\"Snapshot\", () => {\n\tit(\"Snapshot\", () => {\n\t\tshould(!!Snapshot, \"Snapshot\");\n\t\tshould(!!Snapshot.render, \"Snapshot.render\");\n\t\tshould(!!Snapshot.snapshot, \"Snapshot.snapshot\");\n\t});\n\n\tit(\"Converts a point to image data\", () => {\n\t\tlet feature = new ol.Feature(new ol.geom.Point([0, 0]));\n\t\tfeature.setStyle(\n\t\t\tnew ol.style.Style({\n\t\t\t\timage: new ol.style.Circle({\n\t\t\t\t\tradius: 10,\n\t\t\t\t\tfill: new ol.style.Fill({ color: \"black\" }),\n\t\t\t\t\tstroke: new ol.style.Stroke({\n\t\t\t\t\t\tcolor: \"white\",\n\t\t\t\t\t\twidth: 10\n\t\t\t\t\t})\n\t\t\t\t}),\n\t\t\t\ttext: new ol.style.Text({\n\t\t\t\t\ttext: \"Point\",\n\t\t\t\t\tfill: new ol.style.Fill({\n\t\t\t\t\t\tcolor: \"white\"\n\t\t\t\t\t}),\n\t\t\t\t\tstroke: new ol.style.Stroke({\n\t\t\t\t\t\tcolor: \"black\",\n\t\t\t\t\t\twidth: 2\n\t\t\t\t\t}),\n\t\t\t\t\toffsetY: 16\n\t\t\t\t})\n\t\t\t})\n\t\t);\n\t\tlet data = Snapshot.snapshot(feature, 64);\n\t\tshow(data);\n\n\t\tif (1 === window.devicePixelRatio) {\n\t\t\tif (data !== pointData) show(pointData);\n\t\t\tshouldEqual(data, pointData, \"point data as expected\");\n\t\t}\n\t});\n\n\tit(\"Converts a triangle to image data\", () => {\n\t\tlet points = circle(50, 4);\n\t\tlet feature = new ol.Feature(new ol.geom.Polygon([points]));\n\t\tfeature.setStyle(createStyle(\"Triangle\"));\n\t\tlet data = Snapshot.snapshot(feature, 64);\n\t\tshow(data);\n\t});\n\n\tit(\"Converts a diamond to image data\", () => {\n\t\tlet points = circle(50, 5);\n\t\tlet feature = new ol.Feature(new ol.geom.Polygon([points]));\n\t\tfeature.setStyle(createStyle(\"Diamond\"));\n\t\tlet data = Snapshot.snapshot(feature, 64);\n\t\tshow(data);\n\t});\n\n\tit(\"Converts a polygon to image data\", () => {\n\t\tlet geom = new ol.geom.Polygon([circle(3 + 100 * Math.random())]);\n\t\tlet feature = new ol.Feature(geom);\n\t\tshouldEqual(feature.getGeometry(), geom, \"geom still assigned\");\n\n\t\tfeature.setStyle(createStyle(\"Circle\"));\n\n\t\tlet originalCoordinates = stringify(geom.getCoordinates());\n\t\tlet data = Snapshot.snapshot(feature, 64);\n\t\tconsole.log(data);\n\t\tshould(!!data, \"snapshot returns data\");\n\t\tshow(data);\n\t\tlet finalCoordinates = stringify(geom.getCoordinates());\n\t\tshouldEqual(originalCoordinates, finalCoordinates, \"coordinates unchanged\");\n\t\tshouldEqual(feature.getGeometry(), geom, \"geom still assigned\");\n\n\t\tif (1 === window.devicePixelRatio) {\n\t\t\tif (data !== pointData) show(circleData);\n\t\t\tshouldEqual(data, circleData, \"circle data as expected\");\n\t\t}\n\t});\n});\n\nfunction createStyle(text = \"\"): ol.style.Style | ol.style.Style[] | ol.FeatureStyleFunction | ol.StyleFunction {\n\treturn new ol.style.Style({\n\t\tfill: new ol.style.Fill({\n\t\t\tcolor: \"black\"\n\t\t}),\n\t\tstroke: new ol.style.Stroke({\n\t\t\tcolor: \"blue\",\n\t\t\twidth: 3\n\t\t}),\n\t\ttext: new ol.style.Text({\n\t\t\ttext: text,\n\t\t\tfill: new ol.style.Fill({\n\t\t\t\tcolor: \"white\"\n\t\t\t}),\n\t\t\tstroke: new ol.style.Stroke({\n\t\t\t\tcolor: \"black\",\n\t\t\t\twidth: 2\n\t\t\t}),\n\t\t\toffsetY: 16\n\t\t})\n\t});\n}\n","import * as ol from \"openlayers\";\nimport { should } from \"../base\";\nimport { zoomToFeature } from \"ol3-fun/navigation\";\n\ndescribe(\"zoomToFeature\", () => {\n    it(\"zoomToFeature\", (done) => {\n        should(!!zoomToFeature, \"zoomToFeature\");\n        let map = new ol.Map({\n            view: new ol.View({\n                zoom: 0,\n                center: [0, 0]\n            })\n        });\n        let feature = new ol.Feature();\n        let geom = new ol.geom.Point([100, 100]);\n        feature.setGeometry(geom);\n\n        map.once(\"postrender\", () => {\n            let res = map.getView().getResolution();\n            let zoom = map.getView().getZoom();\n            zoomToFeature(map, feature, {\n                duration: 200,\n                minResolution: res / 4,\n            }).then(() => {\n                let [cx, cy] = map.getView().getCenter();\n                should(map.getView().getZoom() === zoom + 2, \"zoom in two because minRes is 1/4 of initial res\");\n                should(cx === 100, \"center-x\");\n                should(cy === 100, \"center-y\");\n                done();\n            });\n        });\n    });\n});\n","import \"./spec/packages\";\nimport \"./spec/api\";\nimport \"./spec/common\";\nimport \"./spec/slowloop\";\nimport \"./spec/deep-extend\";\nimport \"./spec/extensions\";\nimport \"./spec/is-primitive\";\nimport \"./spec/is-cycle\";\nimport \"./spec/openlayers-test\";\nimport \"./spec/parse-dms\";\nimport \"./spec/polyline\";\nimport \"./spec/snapshot\";\nimport \"./spec/zoom-to-feature\";\n","import \"ol3-fun/tests/index\";\r\n","/**\r\n * \r\n * @param obj The target object\r\n * @param prop The property name\r\n * @param value The property value\r\n */\r\nexport function assign(obj: any, prop: string, value: any) {\r\n    if (value === null) return;\r\n    if (value === undefined) return;\r\n\r\n    if (typeof value === \"object\") {\r\n        if (Object.keys(value).length === 0) return;\r\n    }\r\n\r\n    if (prop === \"image\") {\r\n        if (value.hasOwnProperty(\"radius\")) {\r\n            prop = \"circle\";\r\n        }\r\n\r\n        if (value.hasOwnProperty(\"points\")) {\r\n            let points = value[\"points\"];\r\n            if (points < Infinity) {\r\n                prop = \"star\";\r\n            }\r\n        }\r\n    }\r\n    obj[prop] = value;\r\n}\r\n","declare var window: any;\r\n/**\r\n// ol/style/Style will only load when using webpack...the common-js syntax isn't amd-compatible and \r\n// TSC may transpile most of this code but with the \".js\" in the MID's it might not work and some commonjs syntax in dependent projects won't work w/ TSC\r\n// I tried @babel/plugin-transform-modules-amd but it also preserves the \".js\" extensions so I might be stuck with webpack or rollup for concatination.\r\n// There is a legacy build process that will produce ol.js (600kb), which can be used for AMD tests but not webpack\r\n// SUMMARY: use ol.js for AMD, use node_modules/ol for webpack until ol is converted to ts, at which point\r\n// I'll have the option of doing module-based builds akin to webpack...other options is to modify TSC to build commonjs\r\n// and then transpile again via webpack.  That's probably the best option for 2018.import { should } from \"should\";\r\n */\r\n//import Style from \"ol/style/Style\";\r\n\r\nimport { assign } from \"../../ol3-symbolizer/common/assign\";\r\nimport { mixin, defaults } from \"ol3-fun/index\"; // replace with ol-fun/mixin\r\nimport { describe, it, should } from \"ol3-fun/tests/base\";\r\n\r\ndescribe(\"assign tests\", function() {\r\n\tit(\"assign empty\", function() {\r\n\t\t// todo: how to use should to expect an exception?\r\n\t});\r\n\r\n\tit(\"assign number\", function() {\r\n\t\tlet target = <any>{};\r\n\t\tassign(target, \"a\", 100);\r\n\t\tshould(target.a === 100, \"\"); // how to show message on failure?\r\n\t});\r\n\r\n\tit(\"assign object\", function() {\r\n\t\tlet target = <any>{};\r\n\t\tassign(target, \"a\", { a: 100 });\r\n\t\tshould(target.a.a === 100, \"\"); // how to show message on failure?\r\n\t});\r\n});\r\n\r\ndescribe(\"defaults tests\", () => {\r\n\tit(\"defaults number\", () => {\r\n\t\tshould(defaults({}, { a: 100 }).a === 100, \"\");\r\n\t\tshould(defaults(defaults({}, { a: 100 }), { a: 200 }).a === 100, \"\");\r\n\t\tlet a = defaults({}, { a: 1 });\r\n\t\tshould(a === defaults(a, { a: 2 }), \"\");\r\n\t});\r\n});\r\n\r\ndescribe(\"mixin tests\", () => {\r\n\tit(\"mixin number\", () => {\r\n\t\tshould(mixin({}, { a: 100 }).a === 100, \"\");\r\n\t\tshould(mixin(mixin({}, { a: 100 }), { a: 200 }).a === 200, \"\");\r\n\t\tlet a = mixin({}, { a: 1 });\r\n\t\tshould(a === mixin(a, { a: 2 }), \"\");\r\n\t});\r\n});\r\n\r\ndescribe(\"test accessing openlayers using amd\", function() {\r\n\tit(\"log ol.style.Style\", function() {\r\n\t\trequire([\"openlayers\"], (ol: any) => {\r\n\t\t\tlet style = ol.style.Style;\r\n\t\t\tshould(!!style, \"\");\r\n\t\t\tconsole.log(style.toString());\r\n\t\t});\r\n\t});\r\n});\r\n","//from dojox gfx.canvas:\r\nvar dasharray = {\r\n\tsolid: \"none\",\r\n\tshortdash: [4, 1],\r\n\tshortdot: [1, 1],\r\n\tshortdashdot: [4, 1, 1, 1],\r\n\tshortdashdotdot: [4, 1, 1, 1, 1, 1],\r\n\tdot: [1, 3],\r\n\tdash: [4, 3],\r\n\tlongdash: [8, 3],\r\n\tdashdot: [4, 3, 1, 3],\r\n\tlongdashdot: [8, 3, 1, 3],\r\n\tlongdashdotdot: [8, 3, 1, 3, 1, 3]\r\n};\r\n\r\nexport = dasharray;","import { Format } from \"../@types/formats\";\r\n\r\nexport class Shapeshifter {\r\n\t/**\r\n\t * @param style does this style represent a cross?\r\n\t */\r\n\tstatic is(style: Format.Style) {\r\n\t\t//  \"points\": 4,\"radius\": >0,\"radius2\": 0,\"angle\": 0\r\n\t\tif (!style) return false;\r\n\t\tif (!!style.cross) return true;\r\n\t\tif (!style.star) return false;\r\n\t\tif (!style.star.radius) return false;\r\n\t\tif (4 !== style.star.points) return false;\r\n\t\tif (0 != style.star.radius2) return false;\r\n\t\tif (0 != style.star.angle) return false;\r\n\t\treturn true;\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @param style return this style as a cross json encoding\r\n\t */\r\n\tstatic as(style: Format.Style) {\r\n\t\tlet star = style.star;\r\n\t\tif (!star) throw \"star expected\";\r\n\r\n\t\tlet result: Format.Style = {\r\n\t\t\tcross: {\r\n\t\t\t\tsize: (star.radius || 24) * 2,\r\n\t\t\t\topacity: star.opacity,\r\n\t\t\t\trotateWithView: star.rotateWithView,\r\n\t\t\t\trotation: star.rotation,\r\n\t\t\t\tscale: star.scale,\r\n\t\t\t\tsnapToPixel: star.snapToPixel,\r\n\t\t\t\tstroke: star.stroke\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tstatic inverse(style: Format.Style) {\r\n\t\tlet cross = style.cross;\r\n\t\tif (!cross) return style;\r\n\r\n\t\treturn <Format.Style>{\r\n\t\t\tstar: {\r\n\t\t\t\tradius: cross.size / 2,\r\n\t\t\t\tradius2: 0,\r\n\t\t\t\tpoints: 4,\r\n\t\t\t\tangle: 0,\r\n\t\t\t\topacity: cross.opacity,\r\n\t\t\t\trotateWithView: cross.rotateWithView,\r\n\t\t\t\trotation: cross.rotation,\r\n\t\t\t\tscale: cross.scale,\r\n\t\t\t\tsnapToPixel: cross.snapToPixel,\r\n\t\t\t\tstroke: cross.stroke\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n}\r\n","import { Format } from \"../@types/formats\";\r\n\r\nexport class Shapeshifter {\r\n\t/**\r\n\t * @param style does this style represent a square?\r\n\t */\r\n\tstatic is(style: Format.Style) {\r\n\t\t//  \"points\": 4,\"radius\": >0,\"radius2\": 0,\"angle\": 0\r\n\t\tif (!style) return false;\r\n\t\tif (!!style.square) return true;\r\n\t\tif (!style.star) return false;\r\n\t\tif (!style.star.radius) return false;\r\n\t\tif (4 !== style.star.points) return false;\r\n\t\tif (undefined !== style.star.radius2) return false;\r\n\t\tif (0.7853981633974483 != style.star.angle) return false;\r\n\t\treturn true;\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @param style return this style as a cross json encoding\r\n\t */\r\n\tstatic as(style: Format.Style) {\r\n\t\tlet star = style.star;\r\n\t\tif (!star) throw \"star expected\";\r\n\r\n\t\tlet result: Format.Style = {\r\n\t\t\tsquare: {\r\n\t\t\t\tsize: (star.radius || 24) * 2,\r\n\t\t\t\tfill: star.fill,\r\n\t\t\t\topacity: star.opacity,\r\n\t\t\t\trotateWithView: star.rotateWithView,\r\n\t\t\t\trotation: star.rotation,\r\n\t\t\t\tscale: star.scale,\r\n\t\t\t\tsnapToPixel: star.snapToPixel,\r\n\t\t\t\tstroke: star.stroke\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tstatic inverse(style: Format.Style) {\r\n\t\tlet square = style.square;\r\n\t\tif (!square) return style;\r\n\r\n\t\treturn <Format.Style>{\r\n\t\t\tstar: {\r\n\t\t\t\tradius: square.size / 2,\r\n\t\t\t\tradius2: undefined,\r\n\t\t\t\tpoints: 4,\r\n\t\t\t\tangle: 0.7853981633974483,\r\n\t\t\t\tfill: square.fill,\r\n\t\t\t\topacity: square.opacity,\r\n\t\t\t\trotateWithView: square.rotateWithView,\r\n\t\t\t\trotation: square.rotation,\r\n\t\t\t\tscale: square.scale,\r\n\t\t\t\tsnapToPixel: square.snapToPixel,\r\n\t\t\t\tstroke: square.stroke\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n}\r\n","import { Format } from \"../@types/formats\";\r\n\r\nexport class Shapeshifter {\r\n\t/**\r\n\t * @param style does this style represent a diamond?\r\n\t */\r\n\tstatic is(style: Format.Style) {\r\n\t\t//  \"points\": 4,\"radius\": >0,\"radius2\": 0,\"angle\": 0\r\n\t\tif (!style) return false;\r\n\t\tif (!!style.diamond) return true;\r\n\t\tif (!style.star) return false;\r\n\t\tif (!style.star.radius) return false;\r\n\t\tif (4 !== style.star.points) return false;\r\n\t\tif (undefined !== style.star.radius2) return false;\r\n\t\tif (0 != style.star.angle) return false;\r\n\t\treturn true;\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @param style return this style as a cross json encoding\r\n\t */\r\n\tstatic as(style: Format.Style) {\r\n\t\tlet star = style.star;\r\n\t\tif (!star) throw \"star expected\";\r\n\r\n\t\tlet result: Format.Style = {\r\n\t\t\tdiamond: {\r\n\t\t\t\tsize: (star.radius || 24) * 2,\r\n\t\t\t\tfill: star.fill,\r\n\t\t\t\topacity: star.opacity,\r\n\t\t\t\trotateWithView: star.rotateWithView,\r\n\t\t\t\trotation: star.rotation,\r\n\t\t\t\tscale: star.scale,\r\n\t\t\t\tsnapToPixel: star.snapToPixel,\r\n\t\t\t\tstroke: star.stroke\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tstatic inverse(style: Format.Style) {\r\n\t\tlet diamond = style.diamond;\r\n\t\tif (!diamond) return style;\r\n\r\n\t\treturn <Format.Style>{\r\n\t\t\tstar: {\r\n\t\t\t\tradius: diamond.size / 2,\r\n\t\t\t\tradius2: undefined,\r\n\t\t\t\tpoints: 4,\r\n\t\t\t\tangle: 0,\r\n\t\t\t\tfill: diamond.fill,\r\n\t\t\t\topacity: diamond.opacity,\r\n\t\t\t\trotateWithView: diamond.rotateWithView,\r\n\t\t\t\trotation: diamond.rotation,\r\n\t\t\t\tscale: diamond.scale,\r\n\t\t\t\tsnapToPixel: diamond.snapToPixel,\r\n\t\t\t\tstroke: diamond.stroke\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n}\r\n","import { Format } from \"../@types/formats\";\r\n\r\nexport class Shapeshifter {\r\n\t/**\r\n\t * @param style does this style represent a triangle?\r\n\t */\r\n\tstatic is(style: Format.Style) {\r\n\t\tif (!style) return false;\r\n\t\tif (!!style.triangle) return true;\r\n\t\tif (!style.star) return false;\r\n\t\tif (!style.star.radius) return false;\r\n\t\tif (3 !== style.star.points) return false;\r\n\t\tif (undefined != style.star.radius2) return false;\r\n\t\tif (0 != style.star.angle) return false;\r\n\t\treturn true;\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @param style return this style as a cross json encoding\r\n\t */\r\n\tstatic as(style: Format.Style) {\r\n\t\tlet star = style.star;\r\n\t\tif (!star) throw \"star expected\";\r\n\r\n\t\tlet result: Format.Style = {\r\n\t\t\ttriangle: {\r\n\t\t\t\tsize: (star.radius || 10) * 2,\r\n\t\t\t\tfill: star.fill,\r\n\t\t\t\topacity: star.opacity,\r\n\t\t\t\trotateWithView: star.rotateWithView,\r\n\t\t\t\trotation: star.rotation,\r\n\t\t\t\tscale: star.scale,\r\n\t\t\t\tsnapToPixel: star.snapToPixel,\r\n\t\t\t\tstroke: star.stroke\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tstatic inverse(style: Format.Style) {\r\n\t\tlet triangle = style.triangle;\r\n\t\tif (!triangle) return style;\r\n\r\n\t\treturn <Format.Style>{\r\n\t\t\tstar: {\r\n\t\t\t\tradius: triangle.size / 2,\r\n\t\t\t\tradius2: undefined,\r\n\t\t\t\tpoints: 3,\r\n\t\t\t\tangle: 0,\r\n\t\t\t\tfill: triangle.fill,\r\n\t\t\t\topacity: triangle.opacity,\r\n\t\t\t\trotateWithView: triangle.rotateWithView,\r\n\t\t\t\trotation: triangle.rotation,\r\n\t\t\t\tscale: triangle.scale,\r\n\t\t\t\tsnapToPixel: triangle.snapToPixel,\r\n\t\t\t\tstroke: triangle.stroke\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n}\r\n","import { Format } from \"../@types/formats\";\r\n\r\nexport class Shapeshifter {\r\n\t/**\r\n\t * @param style does this style represent a X?\r\n\t */\r\n\tstatic is(style: Format.Style) {\r\n\t\tif (!style) return false;\r\n\t\tif (!!style.x) return true;\r\n\t\tif (!style.star) return false;\r\n\t\tif (!style.star.radius) return false;\r\n\t\tif (4 !== style.star.points) return false;\r\n\t\tif (0 != style.star.radius2) return false;\r\n\t\tif (0.7853981633974483 != style.star.angle) return false;\r\n\t\treturn true;\r\n\t}\r\n\r\n\t/**\r\n\t *\r\n\t * @param style return this style as a cross json encoding\r\n\t */\r\n\tstatic as(style: Format.Style) {\r\n\t\tlet star = style.star;\r\n\t\tif (!star) throw \"star expected\";\r\n\r\n\t\tlet result: Format.Style = {\r\n\t\t\tx: {\r\n\t\t\t\tsize: (star.radius || 24) * 2,\r\n\t\t\t\topacity: star.opacity,\r\n\t\t\t\trotateWithView: star.rotateWithView,\r\n\t\t\t\trotation: star.rotation,\r\n\t\t\t\tscale: star.scale,\r\n\t\t\t\tsnapToPixel: star.snapToPixel,\r\n\t\t\t\tstroke: star.stroke\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\treturn result;\r\n\t}\r\n\r\n\tstatic inverse(style: Format.Style) {\r\n\t\tlet x = style.x;\r\n\t\tif (!x) return style;\r\n\r\n\t\treturn <Format.Style>{\r\n\t\t\tstar: {\r\n\t\t\t\tradius: x.size / 2,\r\n\t\t\t\tradius2: 0,\r\n\t\t\t\tpoints: 4,\r\n\t\t\t\tangle: 0.7853981633974483,\r\n\t\t\t\topacity: x.opacity,\r\n\t\t\t\trotateWithView: x.rotateWithView,\r\n\t\t\t\trotation: x.rotation,\r\n\t\t\t\tscale: x.scale,\r\n\t\t\t\tsnapToPixel: x.snapToPixel,\r\n\t\t\t\tstroke: x.stroke\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n}\r\n","import ol = require(\"openlayers\");\r\nimport Serializer = require(\"./@types/base\");\r\nimport { assign } from \"../common/assign\";\r\nimport { mixin, doif } from \"ol3-fun/index\";\r\n\r\nimport { Format } from \"./@types/formats\";\r\nimport { Shapeshifter as CrossShapeshifter } from \"./plugins/as-cross\";\r\nimport { Shapeshifter as SquareShapeshifter } from \"./plugins/as-square\";\r\nimport { Shapeshifter as DiamondShapeshifter } from \"./plugins/as-diamond\";\r\nimport { Shapeshifter as TriangleShapeshifter } from \"./plugins/as-triangle\";\r\nimport { Shapeshifter as XShapeshifter } from \"./plugins/as-x\";\r\n\r\nfunction getContext(canvas: HTMLCanvasElement) {\r\n\tlet ctx = canvas.getContext(\"2d\");\r\n\tif (!ctx) throw \"unable to get 2d context\";\r\n\treturn ctx as CanvasRenderingContext2D;\r\n}\r\n\r\n// Class\r\ninterface Path2D {\r\n\taddPath(path: Path2D, transform?: SVGMatrix): void;\r\n\tclosePath(): void;\r\n\tmoveTo(x: number, y: number): void;\r\n\tlineTo(x: number, y: number): void;\r\n\tbezierCurveTo(cp1x: number, cp1y: number, cp2x: number, cp2y: number, x: number, y: number): void;\r\n\tquadraticCurveTo(cpx: number, cpy: number, x: number, y: number): void;\r\n\tarc(x: number, y: number, radius: number, startAngle: number, endAngle: number, anticlockwise?: boolean): void;\r\n\tarcTo(x1: number, y1: number, x2: number, y2: number, radius: number): void;\r\n\t/*ellipse(x: number, y: number, radiusX: number, radiusY: number, rotation: number, startAngle: number, endAngle: number, anticlockwise?: boolean): void;*/\r\n\trect(x: number, y: number, w: number, h: number): void;\r\n}\r\n\r\nexport class StyleConverter implements Serializer.IConverter<Format.Style> {\r\n\tprivate converters: Array<{\r\n\t\tis: (s: Format.Style) => boolean;\r\n\t\tas: (s: Format.Style) => Format.Style;\r\n\t\tinverse: (s: Format.Style) => Format.Style;\r\n\t}>;\r\n\r\n\t/**\r\n\t * Register shape shifters\r\n\t */\r\n\tconstructor() {\r\n\t\tthis.converters = [];\r\n\t\tthis.converters.push(CrossShapeshifter);\r\n\t\tthis.converters.push(SquareShapeshifter);\r\n\t\tthis.converters.push(DiamondShapeshifter);\r\n\t\tthis.converters.push(TriangleShapeshifter);\r\n\t\tthis.converters.push(XShapeshifter);\r\n\t\t//this.converters.push(StarShapeshifter);\r\n\t}\r\n\r\n\tfromJson(json: Format.Style) {\r\n\t\tthis.converters.some(c => c.is(json) && c.inverse && !!(json = c.inverse(json)));\r\n\t\treturn this.deserializeStyle(json);\r\n\t}\r\n\r\n\ttoJson(style: ol.style.Style) {\r\n\t\t// to be encoded as a collection of encoders, each in it's own module\r\n\t\tlet result = this.serializeStyle(style);\r\n\t\tthis.converters.some(c => c.is(result) && c.as && !!(result = c.as(result)));\r\n\t\treturn result;\r\n\t}\r\n\r\n\t/**\r\n\t * uses the interior point of a polygon when rendering a 'point' style\r\n\t */\r\n\tpublic getGeometry(feature: ol.Feature | ol.render.Feature) {\r\n\t\tlet geom = feature.getGeometry();\r\n\t\tif (geom instanceof ol.geom.Polygon) {\r\n\t\t\tgeom = geom.getInteriorPoint();\r\n\t\t}\r\n\t\treturn geom;\r\n\t}\r\n\r\n\tprivate serializeStyle(style: ol.style.Style & any): Format.Style {\r\n\t\tif (!style) throw \"style require\";\r\n\t\tlet s = <Format.Style>{};\r\n\r\n\t\tif (typeof style === \"string\") throw style;\r\n\t\tif (typeof style === \"number\") throw style;\r\n\r\n\t\tif (style.getColor) mixin(s, this.serializeColor(style.getColor()));\r\n\t\tif (style.getImage) assign(s, \"image\", this.serializeImage(style.getImage()));\r\n\t\tif (style.getFill) assign(s, \"fill\", this.serializeFill(style.getFill()));\r\n\t\tif (style.getOpacity) assign(s, \"opacity\", style.getOpacity());\r\n\t\tif (style.getStroke) assign(s, \"stroke\", this.serializeStroke(style.getStroke()));\r\n\t\tif (style.getText) assign(s, \"text\", this.serializeText(style.getText()));\r\n\t\tif (style.getWidth) assign(s, \"width\", style.getWidth());\r\n\t\tif (style.getOffsetX) assign(s, \"offset-x\", style.getOffsetX());\r\n\t\tif (style.getOffsetY) assign(s, \"offset-y\", style.getOffsetY());\r\n\t\tif (style.getWidth) assign(s, \"width\", style.getWidth());\r\n\t\tif (style.getFont) assign(s, \"font\", style.getFont());\r\n\t\tif (style.getRadius) assign(s, \"radius\", style.getRadius());\r\n\t\tif (style.getRadius2) assign(s, \"radius2\", style.getRadius2());\r\n\t\tif (style.getPoints) assign(s, \"points\", style.getPoints());\r\n\t\tif (style.getAngle) assign(s, \"angle\", style.getAngle());\r\n\t\tif (style.getRotation) assign(s, \"rotation\", style.getRotation());\r\n\t\tif (style.getOrigin) assign(s, \"origin\", style.getOrigin());\r\n\t\tif (style.getScale) assign(s, \"scale\", style.getScale());\r\n\t\tif (style.getSize) assign(s, \"size\", style.getSize());\r\n\r\n\t\tif (style.getAnchor) {\r\n\t\t\tassign(s, \"anchor\", style.getAnchor());\r\n\t\t\t\"anchorXUnits,anchorYUnits,anchorOrigin\".split(\",\").forEach(k => {\r\n\t\t\t\tassign(s, k, style[`${k}_`]);\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\t// \"svg\"\r\n\t\tif (style.path) {\r\n\t\t\tif (style.path) assign(s, \"path\", style.path);\r\n\t\t\tif (style.getImageSize) assign(s, \"imgSize\", style.getImageSize());\r\n\t\t\tif (style.stroke) assign(s, \"stroke\", style.stroke);\r\n\t\t\tif (style.fill) assign(s, \"fill\", style.fill);\r\n\t\t\tif (style.scale) assign(s, \"scale\", style.scale); // getScale and getImgSize are modified in deserializer\r\n\t\t\tif (style.imgSize) assign(s, \"imgSize\", style.imgSize);\r\n\t\t}\r\n\r\n\t\t// \"icon\"\r\n\t\tif (style.getSrc) assign(s, \"src\", style.getSrc());\r\n\r\n\t\treturn s;\r\n\t}\r\n\r\n\tprivate serializeImage(style: any) {\r\n\t\tif (!style) return null;\r\n\t\tif (typeof style === \"string\") throw style;\r\n\t\tif (typeof style === \"number\") throw style;\r\n\t\treturn this.serializeStyle(style);\r\n\t}\r\n\r\n\tprivate serializeStroke(style: any) {\r\n\t\tif (!style) return null;\r\n\t\tif (typeof style === \"string\") throw style;\r\n\t\tif (typeof style === \"number\") throw style;\r\n\t\treturn this.serializeStyle(style);\r\n\t}\r\n\r\n\tprivate serializeText(style: string) {\r\n\t\treturn style;\r\n\t}\r\n\r\n\tprivate serializeColor(color: string | [number, number, number, number] | CanvasGradient | CanvasPattern): Object {\r\n\t\tif (color instanceof Array) {\r\n\t\t\treturn {\r\n\t\t\t\tcolor: ol.color.asString(color)\r\n\t\t\t};\r\n\t\t} else if (color instanceof CanvasGradient) {\r\n\t\t\treturn {\r\n\t\t\t\tgradient: color\r\n\t\t\t};\r\n\t\t} else if (color instanceof CanvasPattern) {\r\n\t\t\treturn {\r\n\t\t\t\tpattern: color\r\n\t\t\t};\r\n\t\t} else if (typeof color === \"string\") {\r\n\t\t\treturn {\r\n\t\t\t\tcolor: color\r\n\t\t\t};\r\n\t\t}\r\n\t\tthrow \"unknown color type\";\r\n\t}\r\n\r\n\tprivate serializeFill(fill: ol.style.Fill) {\r\n\t\tif (!fill) return null;\r\n\t\treturn this.serializeStyle(fill);\r\n\t}\r\n\r\n\tprivate deserializeStyle(json: Format.Style) {\r\n\t\tlet image: ol.style.Image | undefined;\r\n\t\tlet text: ol.style.Text | undefined;\r\n\t\tlet fill: ol.style.Fill | undefined;\r\n\t\tlet stroke: ol.style.Stroke | undefined;\r\n\r\n\t\tif (json.circle) image = this.deserializeCircle(json.circle);\r\n\t\telse if (json.star) image = this.deserializeStar(json.star);\r\n\t\telse if (json.icon) image = this.deserializeIcon(json.icon);\r\n\t\telse if (json.svg) image = this.deserializeSvg(json.svg);\r\n\t\telse if (json.image && (json.image.img || json.image.path)) image = this.deserializeSvg(json.image);\r\n\t\telse if (json.image && json.image.src) image = this.deserializeIcon(json.image);\r\n\t\telse if (json.image) throw \"unknown image type\";\r\n\t\tif (json.text) text = this.deserializeText(json.text);\r\n\t\tif (json.fill) fill = this.deserializeFill(json.fill);\r\n\t\tif (json.stroke) stroke = this.deserializeStroke(json.stroke);\r\n\r\n\t\tlet s = new ol.style.Style({\r\n\t\t\timage: image,\r\n\t\t\ttext: text,\r\n\t\t\tfill: fill,\r\n\t\t\tstroke: stroke\r\n\t\t});\r\n\r\n\t\timage && s.setGeometry(feature => this.getGeometry(feature));\r\n\r\n\t\treturn s;\r\n\t}\r\n\r\n\tprivate deserializeText(json: Format.Text) {\r\n\t\tjson.rotation = json.rotation || 0;\r\n\t\tjson.scale = json.scale || 1;\r\n\r\n\t\tlet [x, y] = [json[\"offset-x\"] || 0, json[\"offset-y\"] || 0];\r\n\t\t{\r\n\t\t\tlet p = new ol.geom.Point([x, y]);\r\n\t\t\tp.rotate(json.rotation, [0, 0]);\r\n\t\t\tp.scale(json.scale, json.scale);\r\n\t\t\t[x, y] = p.getCoordinates();\r\n\t\t}\r\n\r\n\t\treturn new ol.style.Text({\r\n\t\t\tfill: json.fill && this.deserializeFill(json.fill),\r\n\t\t\tstroke: json.stroke && this.deserializeStroke(json.stroke),\r\n\t\t\ttext: json.text,\r\n\t\t\tfont: json.font,\r\n\t\t\toffsetX: x,\r\n\t\t\toffsetY: y,\r\n\t\t\trotation: json.rotation,\r\n\t\t\tscale: json.scale\r\n\t\t});\r\n\t}\r\n\r\n\tprivate deserializeCircle(json: Format.Circle) {\r\n\t\tlet image = new ol.style.Circle({\r\n\t\t\tradius: json.radius,\r\n\t\t\tfill: json.fill && this.deserializeFill(json.fill),\r\n\t\t\tstroke: json.stroke && this.deserializeStroke(json.stroke)\r\n\t\t});\r\n\t\timage.setOpacity(json.opacity || 1);\r\n\t\treturn image;\r\n\t}\r\n\r\n\tprivate deserializeStar(json: Format.Star) {\r\n\t\tlet image = new ol.style.RegularShape({\r\n\t\t\tradius: json.radius || 10,\r\n\t\t\tradius2: json.radius2,\r\n\t\t\tpoints: json.points || 5,\r\n\t\t\tangle: json.angle,\r\n\t\t\tfill: json.fill && this.deserializeFill(json.fill),\r\n\t\t\tstroke: json.stroke && this.deserializeStroke(json.stroke)\r\n\t\t});\r\n\r\n\t\tdoif(json.rotation, v => image.setRotation(v));\r\n\t\tdoif(json.opacity, v => image.setOpacity(v));\r\n\r\n\t\treturn image;\r\n\t}\r\n\r\n\tprivate deserializeIcon(json: Format.Icon) {\r\n\t\tif (!json.anchor) {\r\n\t\t\tjson.anchor = [json[\"anchor-x\"] || 0.5, json[\"anchor-y\"] || 0.5];\r\n\t\t}\r\n\r\n\t\tlet image = new ol.style.Icon(<any>{\r\n\t\t\tanchor: json.anchor || [0.5, 0.5],\r\n\t\t\tanchorOrigin: json.anchorOrigin || \"top-left\",\r\n\t\t\tanchorXUnits: json.anchorXUnits || \"fraction\",\r\n\t\t\tanchorYUnits: json.anchorYUnits || \"fraction\",\r\n\t\t\t//crossOrigin?: string;\r\n\t\t\timg: undefined,\r\n\t\t\timgSize: undefined,\r\n\t\t\toffset: json.offset,\r\n\t\t\toffsetOrigin: json.offsetOrigin,\r\n\t\t\topacity: json.opacity,\r\n\t\t\tscale: json.scale,\r\n\t\t\tsnapToPixel: json.snapToPixel,\r\n\t\t\trotateWithView: json.rotateWithView,\r\n\t\t\trotation: json.rotation,\r\n\t\t\tsize: json.size,\r\n\t\t\tsrc: json.src,\r\n\t\t\tcolor: json.color\r\n\t\t});\r\n\t\timage.load();\r\n\t\treturn image;\r\n\t}\r\n\r\n\tprivate deserializeSvg(json: Partial<Format.Svg & Format.Icon>) {\r\n\t\tjson.rotation = json.rotation || 0;\r\n\t\tjson.scale = json.scale || 1;\r\n\r\n\t\tif (json.img) {\r\n\t\t\tlet symbol = <SVGSymbolElement>(<any>document.getElementById(json.img));\r\n\t\t\tif (!symbol) {\r\n\t\t\t\tthrow `unable to find svg element: ${json.img}`;\r\n\t\t\t}\r\n\t\t\tif (symbol) {\r\n\t\t\t\t// but just grab the path is probably good enough\r\n\t\t\t\tlet path = <SVGPathElement>symbol.getElementsByTagName(\"path\")[0];\r\n\t\t\t\tif (path) {\r\n\t\t\t\t\tif (symbol.viewBox) {\r\n\t\t\t\t\t\tif (!json.imgSize) {\r\n\t\t\t\t\t\t\tjson.imgSize = [symbol.viewBox.baseVal.width, symbol.viewBox.baseVal.height];\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tjson.path = (json.path || \"\") + path.getAttribute(\"d\");\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet canvas = document.createElement(\"canvas\");\r\n\t\tif (json.path) {\r\n\t\t\t{\r\n\t\t\t\tif (!json.imgSize) throw \"imgSize require\";\r\n\t\t\t\t// rotate a rectangle and get the resulting extent\r\n\t\t\t\t[canvas.width, canvas.height] = json.imgSize.map(v => v * (json.scale || 1));\r\n\r\n\t\t\t\tif (json.stroke && json.stroke.width) {\r\n\t\t\t\t\tlet dx = 2 * json.stroke.width * json.scale;\r\n\t\t\t\t\tcanvas.width += dx;\r\n\t\t\t\t\tcanvas.height += dx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tlet ctx = getContext(canvas);\r\n\t\t\tlet path2d = new Path2D(json.path);\r\n\r\n\t\t\t// rotate  before it is in the canvas (avoids pixelation)\r\n\t\t\tctx.translate(canvas.width / 2, canvas.height / 2);\r\n\t\t\tctx.scale(json.scale, json.scale);\r\n\t\t\tctx.translate(-json.imgSize[0] / 2, -json.imgSize[1] / 2);\r\n\r\n\t\t\tif (json.fill && json.fill.color) {\r\n\t\t\t\tctx.fillStyle = json.fill.color;\r\n\t\t\t\tctx.fill(path2d);\r\n\t\t\t}\r\n\t\t\tif (json.stroke && json.stroke.color && json.stroke.width) {\r\n\t\t\t\tctx.strokeStyle = json.stroke.color;\r\n\t\t\t\tctx.lineWidth = json.stroke.width;\r\n\t\t\t\tctx.stroke(path2d);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tlet icon = new ol.style.Icon(<any>{\r\n\t\t\timg: canvas,\r\n\t\t\timgSize: [canvas.width, canvas.height],\r\n\t\t\trotation: json.rotation,\r\n\t\t\tscale: 1,\r\n\t\t\tanchor: json.anchor || [canvas.width / 2, canvas.height],\r\n\t\t\tanchorOrigin: json.anchorOrigin,\r\n\t\t\tanchorXUnits: json.anchorXUnits || \"pixels\",\r\n\t\t\tanchorYUnits: json.anchorYUnits || \"pixels\",\r\n\t\t\t//crossOrigin?: string;\r\n\t\t\toffset: json.offset,\r\n\t\t\toffsetOrigin: json.offsetOrigin,\r\n\t\t\topacity: json.opacity,\r\n\t\t\tsnapToPixel: json.snapToPixel,\r\n\t\t\trotateWithView: json.rotateWithView,\r\n\t\t\tsize: [canvas.width, canvas.height],\r\n\t\t\tsrc: undefined\r\n\t\t});\r\n\r\n\t\treturn mixin(icon, {\r\n\t\t\tpath: json.path,\r\n\t\t\tstroke: json.stroke,\r\n\t\t\tfill: json.fill,\r\n\t\t\tscale: json.scale,\r\n\t\t\timgSize: json.imgSize\r\n\t\t});\r\n\t}\r\n\r\n\tprivate deserializeFill(json: any) {\r\n\t\tlet fill = new ol.style.Fill({\r\n\t\t\tcolor: json && this.deserializeColor(json)\r\n\t\t});\r\n\t\treturn fill;\r\n\t}\r\n\r\n\tprivate deserializeStroke(json: any) {\r\n\t\tlet stroke = new ol.style.Stroke();\r\n\t\tdoif(json.color, v => stroke.setColor(v));\r\n\t\tdoif(json.lineCap, v => stroke.setLineCap(v));\r\n\t\tdoif(json.lineDash, v => stroke.setLineDash(v));\r\n\t\tdoif(json.lineJoin, v => stroke.setLineJoin(v));\r\n\t\tdoif(json.miterLimit, v => stroke.setMiterLimit(v));\r\n\t\tdoif(json.width, v => stroke.setWidth(v));\r\n\t\treturn stroke;\r\n\t}\r\n\r\n\tprivate deserializeColor(fill: Format.Fill) {\r\n\t\tif (fill.color) {\r\n\t\t\treturn fill.color;\r\n\t\t}\r\n\r\n\t\tif (fill.gradient) {\r\n\t\t\tlet type = <string>fill.gradient.type;\r\n\t\t\tlet gradient: CanvasGradient;\r\n\r\n\t\t\tif (0 === type.indexOf(\"linear(\")) {\r\n\t\t\t\tgradient = this.deserializeLinearGradient(fill.gradient);\r\n\t\t\t} else if (0 === type.indexOf(\"radial(\")) {\r\n\t\t\t\tgradient = this.deserializeRadialGradient(fill.gradient);\r\n\t\t\t} else throw `unknown gradient type: ${type}`;\r\n\r\n\t\t\tif (fill.gradient.stops) {\r\n\t\t\t\t// preserve\r\n\t\t\t\tmixin(gradient, {\r\n\t\t\t\t\tstops: fill.gradient.stops\r\n\t\t\t\t});\r\n\r\n\t\t\t\tlet stops = <string[]>fill.gradient.stops.split(\";\");\r\n\t\t\t\tstops = stops.map(v => v.trim());\r\n\r\n\t\t\t\tstops.forEach(colorstop => {\r\n\t\t\t\t\tlet stop = colorstop.match(/ \\d+%/m);\r\n\t\t\t\t\tif (stop && stop.length) {\r\n\t\t\t\t\t\tlet color = colorstop.substr(0, colorstop.length - stop[0].length);\r\n\t\t\t\t\t\tgradient.addColorStop(parseInt(stop[0]) / 100, color);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\treturn gradient;\r\n\t\t}\r\n\r\n\t\tif (fill.pattern) {\r\n\t\t\tlet repitition = fill.pattern.repitition;\r\n\t\t\tlet canvas = <HTMLCanvasElement>document.createElement(\"canvas\");\r\n\r\n\t\t\tlet spacing = (canvas.width = canvas.height = fill.pattern.spacing || 6);\r\n\r\n\t\t\tlet context = getContext(canvas);\r\n\t\t\tcontext.fillStyle = fill.pattern.color;\r\n\r\n\t\t\tswitch (fill.pattern.orientation) {\r\n\t\t\t\tcase \"horizontal\":\r\n\t\t\t\t\tfor (var i = 0; i < spacing; i++) {\r\n\t\t\t\t\t\tcontext.fillRect(i, 0, 1, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"vertical\":\r\n\t\t\t\t\tfor (var i = 0; i < spacing; i++) {\r\n\t\t\t\t\t\tcontext.fillRect(0, i, 1, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"cross\":\r\n\t\t\t\t\tfor (var i = 0; i < spacing; i++) {\r\n\t\t\t\t\t\tcontext.fillRect(i, 0, 1, 1);\r\n\t\t\t\t\t\tcontext.fillRect(0, i, 1, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"forward\":\r\n\t\t\t\t\tfor (var i = 0; i < spacing; i++) {\r\n\t\t\t\t\t\tcontext.fillRect(i, i, 1, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"backward\":\r\n\t\t\t\t\tfor (var i = 0; i < spacing; i++) {\r\n\t\t\t\t\t\tcontext.fillRect(spacing - 1 - i, i, 1, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"diagonal\":\r\n\t\t\t\t\tfor (var i = 0; i < spacing; i++) {\r\n\t\t\t\t\t\tcontext.fillRect(i, i, 1, 1);\r\n\t\t\t\t\t\tcontext.fillRect(spacing - 1 - i, i, 1, 1);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\treturn mixin(context.createPattern(canvas, repitition || \"\"), fill.pattern);\r\n\t\t}\r\n\r\n\t\tif (fill.image) {\r\n\t\t\tlet canvas = <HTMLCanvasElement>document.createElement(\"canvas\");\r\n\t\t\tif (!fill.image.imgSize) throw \"imgSize required\";\r\n\t\t\tif (!fill.image.imageData) throw \"imageData required\";\r\n\t\t\tlet [w, h] = ([canvas.width, canvas.height] = fill.image.imgSize);\r\n\t\t\tlet context = getContext(canvas);\r\n\t\t\tlet image = document.createElement(\"img\");\r\n\t\t\timage.src = fill.image.imageData;\r\n\t\t\timage.onload = () => context.drawImage(image, 0, 0, w, h);\r\n\t\t\treturn \"rgba(255,255,255,0.1)\"; // TODO\r\n\t\t}\r\n\r\n\t\tthrow \"invalid color configuration\";\r\n\t}\r\n\r\n\tprivate deserializeLinearGradient(json: any) {\r\n\t\tlet rx = /\\w+\\((.*)\\)/m;\r\n\t\tlet [x0, y0, x1, y1] = JSON.parse(json.type.replace(rx, \"[$1]\"));\r\n\r\n\t\tlet canvas = document.createElement(\"canvas\");\r\n\r\n\t\t// not correct, assumes points reside on edge\r\n\t\tcanvas.width = Math.max(x0, x1);\r\n\t\tcanvas.height = Math.max(y0, y1);\r\n\r\n\t\tvar context = getContext(canvas);\r\n\r\n\t\tlet gradient = context.createLinearGradient(x0, y0, x1, y1);\r\n\t\tmixin(gradient, {\r\n\t\t\ttype: `linear(${[x0, y0, x1, y1].join(\",\")})`\r\n\t\t});\r\n\t\treturn gradient;\r\n\t}\r\n\r\n\tprivate deserializeRadialGradient(json: any) {\r\n\t\tlet rx = /radial\\((.*)\\)/m;\r\n\t\tlet [x0, y0, r0, x1, y1, r1] = JSON.parse(json.type.replace(rx, \"[$1]\"));\r\n\r\n\t\tlet canvas = document.createElement(\"canvas\");\r\n\r\n\t\t// not correct, assumes radial centered\r\n\t\tcanvas.width = 2 * Math.max(x0, x1);\r\n\t\tcanvas.height = 2 * Math.max(y0, y1);\r\n\r\n\t\tvar context = getContext(canvas);\r\n\r\n\t\tlet gradient = context.createRadialGradient(x0, y0, r0, x1, y1, r1);\r\n\t\tmixin(gradient, {\r\n\t\t\ttype: `radial(${[x0, y0, r0, x1, y1, r1].join(\",\")})`\r\n\t\t});\r\n\r\n\t\treturn gradient;\r\n\t}\r\n}\r\n","import * as Dashes from \"../../ol3-symbolizer/styles/stroke/linedash\";\r\nimport { describe, it, should, shouldEqual, stringify } from \"ol3-fun/tests/base\";\r\nimport { StyleConverter } from \"../../ol3-symbolizer/format/ol3-symbolizer\";\r\nimport { Format } from \"../../ol3-symbolizer/format/@types/formats\";\r\n\r\ndescribe(\"ol3-symbolizer\", () => {\r\n\tlet converter = new StyleConverter();\r\n\r\n\tdescribe(\"OL Format Tests\", () => {\r\n\t\tit(\"Ensures interface does not break\", () => {\r\n\t\t\tlet circle = <Format.Circle>{};\r\n\t\t\tcircle.fill;\r\n\t\t\tcircle.opacity;\r\n\t\t\tcircle.radius;\r\n\t\t\tcircle.snapToPixel;\r\n\t\t\tcircle.stroke;\r\n\r\n\t\t\tlet color = <Format.Color>{};\r\n\t\t\tcolor === [1] || color == \"\";\r\n\r\n\t\t\tlet fill = <Format.Fill>{};\r\n\t\t\tfill.color;\r\n\t\t\tfill.gradient;\r\n\t\t\tfill.image;\r\n\t\t\tfill.pattern;\r\n\r\n\t\t\tlet icon = <Format.Icon>{};\r\n\t\t\ticon[\"anchor-x\"];\r\n\t\t\ticon[\"anchor-y\"];\r\n\t\t\ticon.anchor;\r\n\t\t\ticon.anchorOrigin;\r\n\t\t\ticon.anchorXUnits;\r\n\t\t\ticon.anchorYUnits;\r\n\t\t\ticon.color;\r\n\t\t\ticon.crossOrigin;\r\n\t\t\ticon.offset;\r\n\t\t\ticon.offsetOrigin;\r\n\t\t\ticon.opacity;\r\n\t\t\ticon.rotateWithView;\r\n\t\t\ticon.rotation;\r\n\t\t\ticon.scale;\r\n\t\t\ticon.size;\r\n\t\t\ticon.snapToPixel;\r\n\t\t\ticon.src;\r\n\r\n\t\t\tlet image = <Format.Image>{};\r\n\t\t\timage.opacity;\r\n\t\t\timage.rotateWithView;\r\n\t\t\timage.rotation;\r\n\t\t\timage.scale;\r\n\t\t\timage.snapToPixel;\r\n\r\n\t\t\t// etc.\r\n\t\t});\r\n\t});\r\n\r\n\tdescribe(\"OL StyleConverter API Tests\", () => {\r\n\t\tit(\"StyleConverter API\", () => {\r\n\t\t\tlet converter = new StyleConverter();\r\n\t\t\tshould(typeof converter.fromJson === \"function\", \"fromJson exists\");\r\n\t\t\tshould(typeof converter.toJson === \"function\", \"toJson exists\");\r\n\t\t});\r\n\t});\r\n\r\n\tdescribe(\"OL StyleConverter Json Tests\", () => {\r\n\t\tit(\"Circle Tests\", () => {\r\n\t\t\tlet baseline: Format.Style = {\r\n\t\t\t\tcircle: {\r\n\t\t\t\t\tfill: {\r\n\t\t\t\t\t\tcolor: \"rgba(197,37,84,0.90)\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\topacity: 1,\r\n\t\t\t\t\tstroke: {\r\n\t\t\t\t\t\tcolor: \"rgba(227,83,105,1)\",\r\n\t\t\t\t\t\twidth: 4.4\r\n\t\t\t\t\t},\r\n\t\t\t\t\tradius: 7.3\r\n\t\t\t\t},\r\n\t\t\t\ttext: {\r\n\t\t\t\t\tfill: {\r\n\t\t\t\t\t\tcolor: \"rgba(205,86,109,0.9)\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstroke: {\r\n\t\t\t\t\t\tcolor: \"rgba(252,175,131,0.5)\",\r\n\t\t\t\t\t\twidth: 2\r\n\t\t\t\t\t},\r\n\t\t\t\t\ttext: \"Test\",\r\n\t\t\t\t\t\"offset-x\": 0,\r\n\t\t\t\t\t\"offset-y\": 20,\r\n\t\t\t\t\tfont: \"18px fantasy\"\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tlet style = converter.fromJson(baseline);\r\n\r\n\t\t\tlet circleStyle = style.getImage() as ol.style.Circle;\r\n\t\t\tshould(circleStyle !== null, \"getImage returns a style\");\r\n\t\t\tshouldEqual(circleStyle.getRadius(), baseline.circle.radius, \"getImage is a circle and radius\");\r\n\r\n\t\t\tlet circleJson = converter.toJson(style);\r\n\t\t\tshould(circleJson.circle !== null, \"json contains a circle\");\r\n\t\t\tshouldEqual(circleJson.circle.radius, baseline.circle.radius, \"circle radius\");\r\n\t\t});\r\n\r\n\t\tit(\"Star Tests\", () => {\r\n\t\t\tlet baseline: Format.Style = {\r\n\t\t\t\tstar: {\r\n\t\t\t\t\tfill: {\r\n\t\t\t\t\t\tcolor: \"rgba(54,47,234,1)\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstroke: {\r\n\t\t\t\t\t\tcolor: \"rgba(75,92,105,0.85)\",\r\n\t\t\t\t\t\twidth: 4\r\n\t\t\t\t\t},\r\n\t\t\t\t\tradius: 9,\r\n\t\t\t\t\tradius2: 0,\r\n\t\t\t\t\tpoints: 6\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tlet style = converter.fromJson(baseline);\r\n\r\n\t\t\tlet starStyle = style.getImage() as ol.style.RegularShape;\r\n\t\t\tshould(starStyle !== null, \"getImage returns a style\");\r\n\t\t\tshouldEqual(starStyle.getRadius(), baseline.star.radius, \"starStyle radius\");\r\n\t\t\tshouldEqual(starStyle.getRadius2(), baseline.star.radius2, \"starStyle radius2\");\r\n\t\t\tshouldEqual(starStyle.getPoints(), baseline.star.points, \"starStyle points\");\r\n\r\n\t\t\tlet starJson = converter.toJson(style);\r\n\t\t\tshould(starJson.star !== null, \"json contains a star\");\r\n\t\t\tshouldEqual(starJson.star.radius, baseline.star.radius, \"starJson radius\");\r\n\t\t\tshouldEqual(starJson.star.radius2, baseline.star.radius2, \"starJson radius2\");\r\n\t\t\tshouldEqual(starJson.star.points, baseline.star.points, \"starJson point count\"); // <-- failing, 3 != 6\r\n\t\t});\r\n\r\n\t\tit(\"Fill Test\", () => {\r\n\t\t\tlet baseline: Format.Style = {\r\n\t\t\t\tfill: {\r\n\t\t\t\t\tgradient: {\r\n\t\t\t\t\t\ttype: \"linear(200,0,201,0)\",\r\n\t\t\t\t\t\tstops: \"rgba(255,0,0,.1) 0%;rgba(255,0,0,0.8) 100%\"\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tlet style = converter.fromJson(baseline);\r\n\t\t\tlet fillStyle = style.getFill();\r\n\t\t\tshould(fillStyle !== null, \"fillStyle exists\");\r\n\t\t\tlet gradient = fillStyle.getColor() as CanvasGradient & { stops: string; type: string }; // stops & type might be writeonly?\r\n\t\t\tshouldEqual(gradient.stops, baseline.fill.gradient.stops, \"fillStyle color\");\r\n\t\t\tshouldEqual(gradient.type, baseline.fill.gradient.type, \"fillStyle color\");\r\n\t\t});\r\n\r\n\t\tit(\"Stroke Test\", () => {\r\n\t\t\tlet baseline: Format.Style = {\r\n\t\t\t\tstroke: {\r\n\t\t\t\t\tcolor: \"orange\",\r\n\t\t\t\t\twidth: 2,\r\n\t\t\t\t\tlineDash: Dashes.longdashdotdot\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tlet style = converter.fromJson(baseline);\r\n\t\t\tlet strokeStyle = style.getStroke();\r\n\t\t\tshould(strokeStyle !== null, \"strokeStyle exists\");\r\n\t\t\tshouldEqual(strokeStyle.getColor(), baseline.stroke.color, \"strokeStyle color\");\r\n\t\t\tshouldEqual(strokeStyle.getWidth(), baseline.stroke.width, \"strokeStyle width\");\r\n\t\t\tshouldEqual(strokeStyle.getLineDash().join(), baseline.stroke.lineDash.join(), \"strokeStyle lineDash\");\r\n\t\t});\r\n\r\n\t\tit(\"Text Test\", () => {\r\n\t\t\tlet baseline: Format.Style = {\r\n\t\t\t\ttext: {\r\n\t\t\t\t\tfill: {\r\n\t\t\t\t\t\tcolor: \"rgba(75,92,85,0.85)\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstroke: {\r\n\t\t\t\t\t\tcolor: \"rgba(255,255,255,1)\",\r\n\t\t\t\t\t\twidth: 5\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"offset-x\": 5,\r\n\t\t\t\t\t\"offset-y\": 10,\r\n\t\t\t\t\toffsetX: 15, // ignored, why are they here?\r\n\t\t\t\t\toffsetY: 20, // ignored, why are they here?\r\n\t\t\t\t\ttext: \"fantasy light\",\r\n\t\t\t\t\tfont: \"18px serif\"\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tlet style = converter.fromJson(baseline);\r\n\t\t\tlet textStyle = style.getText();\r\n\t\t\tshould(textStyle !== null, \"textStyle exists\");\r\n\t\t\tshouldEqual(textStyle.getFill().getColor(), baseline.text.fill.color, \"textStyle text color\");\r\n\t\t\tshouldEqual(textStyle.getText(), baseline.text.text, \"textStyle text\");\r\n\t\t\tshouldEqual(textStyle.getOffsetX(), baseline.text[\"offset-x\"], \"textStyle color\");\r\n\t\t\tshouldEqual(textStyle.getOffsetY(), baseline.text[\"offset-y\"], \"textStyle color\");\r\n\t\t\tshouldEqual(textStyle.getFont(), baseline.text.font, \"textStyle font\");\r\n\t\t});\r\n\t});\r\n\r\n\tdescribe(\"OL Basic shapes\", () => {\r\n\t\tit(\"cross, square, diamond, star, triangle, x\", () => {\r\n\t\t\tlet cross = {\r\n\t\t\t\tstar: {\r\n\t\t\t\t\topacity: 0.5,\r\n\t\t\t\t\tfill: {\r\n\t\t\t\t\t\tcolor: \"red\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstroke: {\r\n\t\t\t\t\t\tcolor: \"black\",\r\n\t\t\t\t\t\twidth: 2\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpoints: 4,\r\n\t\t\t\t\tradius: 10,\r\n\t\t\t\t\tradius2: 0,\r\n\t\t\t\t\tangle: 0\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tlet square = {\r\n\t\t\t\tstar: {\r\n\t\t\t\t\tfill: {\r\n\t\t\t\t\t\tcolor: \"red\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstroke: {\r\n\t\t\t\t\t\tcolor: \"black\",\r\n\t\t\t\t\t\twidth: 2\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpoints: 4,\r\n\t\t\t\t\tradius: 10,\r\n\t\t\t\t\tangle: 0.7853981633974483\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tlet diamond = {\r\n\t\t\t\tstar: {\r\n\t\t\t\t\tfill: {\r\n\t\t\t\t\t\tcolor: \"red\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstroke: {\r\n\t\t\t\t\t\tcolor: \"black\",\r\n\t\t\t\t\t\twidth: 2\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpoints: 4,\r\n\t\t\t\t\tradius: 10,\r\n\t\t\t\t\tangle: 0\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tlet star = {\r\n\t\t\t\tstar: {\r\n\t\t\t\t\tfill: {\r\n\t\t\t\t\t\tcolor: \"red\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstroke: {\r\n\t\t\t\t\t\tcolor: \"black\",\r\n\t\t\t\t\t\twidth: 2\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpoints: 5,\r\n\t\t\t\t\tradius: 10,\r\n\t\t\t\t\tradius2: 4,\r\n\t\t\t\t\tangle: 0\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tlet triangle = {\r\n\t\t\t\tstar: {\r\n\t\t\t\t\tfill: {\r\n\t\t\t\t\t\tcolor: \"red\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstroke: {\r\n\t\t\t\t\t\tcolor: \"black\",\r\n\t\t\t\t\t\twidth: 2\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpoints: 3,\r\n\t\t\t\t\tradius: 10,\r\n\t\t\t\t\tangle: 0\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tlet x = {\r\n\t\t\t\tstar: {\r\n\t\t\t\t\tfill: {\r\n\t\t\t\t\t\tcolor: \"red\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tstroke: {\r\n\t\t\t\t\t\tcolor: \"black\",\r\n\t\t\t\t\t\twidth: 2\r\n\t\t\t\t\t},\r\n\t\t\t\t\tpoints: 4,\r\n\t\t\t\t\tradius: 10,\r\n\t\t\t\t\tradius2: 0,\r\n\t\t\t\t\tangle: 0.7853981633974483\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tlet crossJson = converter.toJson(converter.fromJson(cross));\r\n\t\t\tlet squareJson = converter.toJson(converter.fromJson(square));\r\n\t\t\tlet diamondJson = converter.toJson(converter.fromJson(diamond));\r\n\t\t\tlet starJson = converter.toJson(converter.fromJson(star));\r\n\t\t\tlet triangleJson = converter.toJson(converter.fromJson(triangle));\r\n\t\t\tlet xJson = converter.toJson(converter.fromJson(x));\r\n\r\n\t\t\t// the above re-translations should be now be in a friendlier encoding\r\n\t\t\t// likewise fromJson should work on the following:\r\n\t\t\t// {cross: {size: 10}}\r\n\t\t\t// {square: {size: 10}}\r\n\t\t\t// {diamond: {size: 10}}\r\n\t\t\t// {star: {size: 10}}\r\n\t\t\t// {triangle: {size: 10}}\r\n\t\t\t// {x: {size: 10}}\r\n\t\t\t// the usecase being a simplification of styling\r\n\t\t\t/**\r\n\t\t\t * Before going too far down this road, remind yourself of the ogc styling used by geoserver...I recall it was\r\n\t\t\t * terse and powerful and css-like and ol probably has support for it already\r\n\t\t\t */\r\n\r\n\t\t\tshould(!!crossJson.cross, \"cross exists\");\r\n\t\t\tshouldEqual(crossJson.cross.size, cross.star.radius * 2, \"cross size\");\r\n\r\n\t\t\tshould(!!squareJson.square, \"square exists\");\r\n\t\t\tshouldEqual(squareJson.square.size, square.star.radius * 2, \"square size\");\r\n\r\n\t\t\tshould(!!diamondJson.diamond, \"diamond exists\");\r\n\t\t\tshouldEqual(diamondJson.diamond.size, diamond.star.radius * 2, \"diamond size\");\r\n\r\n\t\t\tshould(!!triangleJson.triangle, \"triangle exists\");\r\n\t\t\tshouldEqual(triangleJson.triangle.size, triangle.star.radius * 2, \"triangle size\");\r\n\r\n\t\t\tshould(!!xJson.x, \"x exists\");\r\n\t\t\tshouldEqual(xJson.x.size, x.star.radius * 2, \"x size\");\r\n\r\n\t\t\tlet items = { crossJson, squareJson, diamondJson, triangleJson, xJson };\r\n\r\n\t\t\tObject.keys(items).forEach(k => {\r\n\t\t\t\tshouldEqual(\r\n\t\t\t\t\tstringify(converter.toJson(converter.fromJson(items[k]))),\r\n\t\t\t\t\tstringify(items[k]),\r\n\t\t\t\t\t`${k} json->style->json`\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t});\r\n\t});\r\n\r\n\tdescribe(\"OL NEXT\", () => {\r\n\t\tit(\"NEXT\", () => {});\r\n\t});\r\n});\r\n","/**\r\n * Converts style information from arcgis.com into a format compatible with the symbolizer\r\n * The symbolizer converts the object to an actual ol style\r\n */\r\nimport Symbolizer = require(\"./ol3-symbolizer\");\r\nimport { Format } from \"./@types/formats\";\r\n\r\nimport { ArcGisFeatureServerLayer } from \"./@types/ArcGisFeatureServerLayer\";\r\n\r\nconst symbolizer = new Symbolizer.StyleConverter();\r\n\r\n// esri -> ol mappings (add keyof to get proper definitions, not sure how)\r\n// function agsStyleMapper(index : keyof(StyleTypes)) {\r\n// }\r\nconst styleMap = {\r\n\tesriSMSCircle: \"circle\",\r\n\tesriSMSDiamond: \"diamond\",\r\n\tesriSMSX: \"x\",\r\n\tesriSMSCross: \"cross\",\r\n\tesriSLSSolid: \"solid\",\r\n\tesriSFSSolid: \"solid\",\r\n\tesriSLSDot: \"dot\",\r\n\tesriSLSDash: \"dash\",\r\n\tesriSLSDashDot: \"dashdot\",\r\n\tesriSLSDashDotDot: \"dashdotdot\",\r\n\tesriSFSBackwardDiagonal: \"backward-diagonal\",\r\n\tesriSFSForwardDiagonal: \"forward-diagonal\"\r\n};\r\n\r\n// esri -> ol mappings\r\nconst typeMap = {\r\n\tesriSMS: \"sms\", // simple marker symbol\r\n\tesriSLS: \"sls\", // simple line symbol\r\n\tesriSFS: \"sfs\", // simple fill symbol\r\n\tesriPMS: \"pms\", // picture marker symbol\r\n\tesriPFS: \"pfs\", // picture fill symbol\r\n\tesriTS: \"txt\" // text symbol\r\n};\r\n\r\nfunction range(a: number, b: number) {\r\n\tlet result = new Array(b - a + 1);\r\n\twhile (a <= b) result.push(a++);\r\n\treturn result;\r\n}\r\n\r\nfunction clone(o: Object) {\r\n\treturn JSON.parse(JSON.stringify(o));\r\n}\r\n\r\n// convert from ags style to an internal format\r\nexport class StyleConverter {\r\n\tprivate asWidth(v: number) {\r\n\t\treturn (v * 4) / 3; // not sure why\r\n\t}\r\n\r\n\t// see ol.color.asString\r\n\tprivate asColor(color: ArcGisFeatureServerLayer.Color | undefined) {\r\n\t\tif (Array.isArray(color)) {\r\n\t\t\tif (color.length === 4) return `rgba(${color[0]},${color[1]},${color[2]},${color[3] / 255})`;\r\n\t\t\tif (color.length === 3) return `rgb(${color[0]},${color[1]},${color[2]}})`;\r\n\t\t\treturn \"#\" + color.map(v => (\"0\" + v.toString(16)).substr(0, 2)).join(\"\");\r\n\t\t}\r\n\t\treturn \"rgba(0, 0, 0)\";\r\n\t}\r\n\r\n\tprivate fromSFSSolid(symbol: ArcGisFeatureServerLayer.Symbol, style: Format.Style) {\r\n\t\tstyle.fill = {\r\n\t\t\tcolor: this.asColor(symbol.color)\r\n\t\t};\r\n\t\tthis.fromSLS(symbol.outline, style);\r\n\t}\r\n\r\n\tprivate fromSFSForwardDiagonal(symbol: ArcGisFeatureServerLayer.Symbol, style: Format.Style) {\r\n\t\tstyle.fill = {\r\n\t\t\tpattern: {\r\n\t\t\t\tcolor: this.asColor(symbol.color),\r\n\t\t\t\torientation: \"forward\",\r\n\t\t\t\tspacing: 3,\r\n\t\t\t\trepitition: \"repeat\"\r\n\t\t\t}\r\n\t\t};\r\n\t\tthis.fromSLS(symbol.outline, style);\r\n\t}\r\n\r\n\tprivate fromSFSBackwardDiagonal(symbol: ArcGisFeatureServerLayer.Symbol, style: Format.Style) {\r\n\t\tstyle.fill = {\r\n\t\t\tpattern: {\r\n\t\t\t\tcolor: this.asColor(symbol.color),\r\n\t\t\t\torientation: \"backward\",\r\n\t\t\t\tspacing: 3,\r\n\t\t\t\trepitition: \"repeat\"\r\n\t\t\t}\r\n\t\t};\r\n\t\tthis.fromSLS(symbol.outline, style);\r\n\t}\r\n\r\n\tprivate fromSFS(symbol: ArcGisFeatureServerLayer.Symbol, style: Format.Style) {\r\n\t\tswitch (symbol.style) {\r\n\t\t\tcase \"esriSFSSolid\":\r\n\t\t\t\tthis.fromSFSSolid(symbol, style);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"esriSFSForwardDiagonal\":\r\n\t\t\t\tthis.fromSFSForwardDiagonal(symbol, style);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"esriSFSBackwardDiagonal\":\r\n\t\t\t\tthis.fromSFSBackwardDiagonal(symbol, style);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow `invalid-style: ${symbol.style}`;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate fromSMSCircle(symbol: ArcGisFeatureServerLayer.Symbol, style: Format.Style) {\r\n\t\tif (!symbol.size) throw \"symbol size require\";\r\n\t\tif (!symbol.outline) throw \"outline require\";\r\n\r\n\t\tstyle.circle = {\r\n\t\t\topacity: 1,\r\n\t\t\tradius: this.asWidth(symbol.size / 2),\r\n\t\t\tstroke: {\r\n\t\t\t\tcolor: this.asColor(symbol.outline.color)\r\n\t\t\t},\r\n\t\t\tsnapToPixel: true\r\n\t\t};\r\n\t\tthis.fromSFSSolid(symbol, style.circle);\r\n\t\tthis.fromSLS(symbol.outline, style.circle);\r\n\t}\r\n\r\n\tprivate fromSMSCross(symbol: ArcGisFeatureServerLayer.Symbol, style: Format.Style) {\r\n\t\tif (!symbol.size) throw \"symbol size require\";\r\n\t\tif (!symbol.outline) throw \"outline require\";\r\n\t\tstyle.star = {\r\n\t\t\tpoints: 4,\r\n\t\t\tangle: 0,\r\n\t\t\tradius: this.asWidth(symbol.size / Math.sqrt(2)),\r\n\t\t\tradius2: 0\r\n\t\t};\r\n\t\tthis.fromSFSSolid(symbol, style.star);\r\n\t\tthis.fromSLS(symbol.outline, style.star);\r\n\t}\r\n\r\n\tprivate fromSMSDiamond(symbol: ArcGisFeatureServerLayer.Symbol, style: Format.Style) {\r\n\t\tif (!symbol.size) throw \"symbol size require\";\r\n\t\tif (!symbol.outline) throw \"outline require\";\r\n\t\tstyle.star = {\r\n\t\t\tpoints: 4,\r\n\t\t\tangle: 0,\r\n\t\t\tradius: this.asWidth(symbol.size / Math.sqrt(2)),\r\n\t\t\tradius2: this.asWidth(symbol.size / Math.sqrt(2))\r\n\t\t};\r\n\t\tthis.fromSFSSolid(symbol, style.star);\r\n\t\tthis.fromSLS(symbol.outline, style.star);\r\n\t}\r\n\r\n\tprivate fromSMSPath(symbol: ArcGisFeatureServerLayer.Symbol, style: Format.Style) {\r\n\t\tif (!symbol.size) throw \"symbol size require\";\r\n\t\tif (!symbol.outline) throw \"outline require\";\r\n\t\tlet size = 2 * this.asWidth(symbol.size);\r\n\t\tstyle.svg = {\r\n\t\t\timgSize: [size, size],\r\n\t\t\tpath: symbol.path,\r\n\t\t\trotation: symbol.angle\r\n\t\t};\r\n\t\tthis.fromSLSSolid(symbol, style.svg);\r\n\t\tthis.fromSLS(symbol.outline, style.svg);\r\n\t}\r\n\r\n\tprivate fromSMSSquare(symbol: ArcGisFeatureServerLayer.Symbol, style: Format.Style) {\r\n\t\tif (!symbol.size) throw \"symbol size require\";\r\n\t\tif (!symbol.outline) throw \"outline require\";\r\n\t\tstyle.star = {\r\n\t\t\tpoints: 4,\r\n\t\t\tangle: Math.PI / 4,\r\n\t\t\tradius: this.asWidth(symbol.size / Math.sqrt(2)),\r\n\t\t\tradius2: this.asWidth(symbol.size / Math.sqrt(2))\r\n\t\t};\r\n\t\tthis.fromSFSSolid(symbol, style.star);\r\n\t\tthis.fromSLS(symbol.outline, style.star);\r\n\t}\r\n\r\n\tprivate fromSMSX(symbol: ArcGisFeatureServerLayer.Symbol, style: Format.Style) {\r\n\t\tif (!symbol.size) throw \"symbol size require\";\r\n\t\tif (!symbol.outline) throw \"outline require\";\r\n\t\tstyle.star = {\r\n\t\t\tpoints: 4,\r\n\t\t\tangle: Math.PI / 4,\r\n\t\t\tradius: this.asWidth(symbol.size / Math.sqrt(2)),\r\n\t\t\tradius2: 0\r\n\t\t};\r\n\t\tthis.fromSFSSolid(symbol, style.star);\r\n\t\tthis.fromSLS(symbol.outline, style.star);\r\n\t}\r\n\r\n\tprivate fromSMS(symbol: ArcGisFeatureServerLayer.Symbol, style: Format.Style) {\r\n\t\tswitch (symbol.style) {\r\n\t\t\tcase \"esriSMSCircle\":\r\n\t\t\t\tthis.fromSMSCircle(symbol, style);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"esriSMSCross\":\r\n\t\t\t\tthis.fromSMSCross(symbol, style);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"esriSMSDiamond\":\r\n\t\t\t\tthis.fromSMSDiamond(symbol, style);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"esriSMSPath\":\r\n\t\t\t\tthis.fromSMSPath(symbol, style);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"esriSMSSquare\":\r\n\t\t\t\tthis.fromSMSSquare(symbol, style);\r\n\t\t\t\tbreak;\r\n\t\t\tcase \"esriSMSX\":\r\n\t\t\t\tthis.fromSMSX(symbol, style);\r\n\t\t\t\tbreak;\r\n\t\t\tdefault:\r\n\t\t\t\tthrow `invalid-style: ${symbol.style}`;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate fromPMS(symbol: ArcGisFeatureServerLayer.Symbol, style: Format.Style) {\r\n\t\tif (!symbol.width) throw \"symbol width required\";\r\n\t\tif (!symbol.height) throw \"symbol height required\";\r\n\t\tstyle.image = {};\r\n\t\tstyle.image.src = symbol.url;\r\n\t\tif (symbol.imageData) {\r\n\t\t\tstyle.image.src = `data:image/png;base64,${symbol.imageData}`;\r\n\t\t}\r\n\t\tstyle.image[\"anchor-x\"] = this.asWidth(symbol.xoffset || 0);\r\n\t\tstyle.image[\"anchor-y\"] = this.asWidth(symbol.yoffset || 0);\r\n\t\tstyle.image.imgSize = [this.asWidth(symbol.width), this.asWidth(symbol.height)];\r\n\t}\r\n\r\n\tprivate fromSLSSolid(symbol: ArcGisFeatureServerLayer.Outline, style: Format.Style) {\r\n\t\tif (!symbol.width) throw \"symbol width required\";\r\n\t\tstyle.stroke = {\r\n\t\t\tcolor: this.asColor(symbol.color),\r\n\t\t\twidth: this.asWidth(symbol.width),\r\n\t\t\tlineDash: [],\r\n\t\t\tlineJoin: \"\",\r\n\t\t\tmiterLimit: 4\r\n\t\t};\r\n\t}\r\n\r\n\tprivate fromSLS(symbol: ArcGisFeatureServerLayer.Outline | undefined, style: Format.Style) {\r\n\t\tif (!symbol) throw \"symbol required\";\r\n\r\n\t\tswitch (symbol.style) {\r\n\t\t\tcase \"esriSLSSolid\":\r\n\t\t\t\tthis.fromSLSSolid(symbol, style);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"esriSLSDot\":\r\n\t\t\t\tthis.fromSLSSolid(symbol, style);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"esriSLSDash\":\r\n\t\t\t\tthis.fromSLSSolid(symbol, style);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"esriSLSDashDot\":\r\n\t\t\t\tthis.fromSLSSolid(symbol, style);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"esriSLSDashDotDot\":\r\n\t\t\t\tthis.fromSLSSolid(symbol, style);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tthis.fromSLSSolid(symbol, style);\r\n\t\t\t\tconsole.warn(`invalid-style: ${symbol.style}`);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\r\n\t// picture fill symbol (does not render the picture due to drawPolygon limitation)\r\n\tprivate fromPFS(symbol: ArcGisFeatureServerLayer.Symbol, style: Format.Style) {\r\n\t\tif (!symbol.width) throw \"symbol width required\";\r\n\t\tif (!symbol.height) throw \"symbol height required\";\r\n\t\t// TODO drawPolygon does not call setImageStyle so this is being ignored\r\n\t\tstyle.fill = {\r\n\t\t\timage: {\r\n\t\t\t\tsrc: symbol.url,\r\n\t\t\t\timageData: symbol.imageData && `data:image/png;base64,${symbol.imageData}`,\r\n\t\t\t\t\"anchor-x\": this.asWidth(symbol.xoffset || 0),\r\n\t\t\t\t\"anchor-y\": this.asWidth(symbol.yoffset || 0),\r\n\t\t\t\timgSize: [this.asWidth(symbol.width), this.asWidth(symbol.height)]\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tthis.fromSLS(symbol.outline, style);\r\n\t}\r\n\r\n\tprivate fromTS(symbol: ArcGisFeatureServerLayer.Symbol, style: Format.Style) {\r\n\t\tthrow \"not-implemented\";\r\n\t}\r\n\r\n\t/**\r\n\t * Converts the ags symbol to an openlayers style, then the openlayers style to a JSON representation\r\n\t */\r\n\tpublic fromJson(symbol: ArcGisFeatureServerLayer.Symbol) {\r\n\t\tlet style = <Format.Style>{};\r\n\t\tthis.fromSymbol(symbol, style);\r\n\t\treturn symbolizer.fromJson(style);\r\n\t}\r\n\r\n\tprivate fromSymbol(symbol: ArcGisFeatureServerLayer.Symbol, style: Format.Style) {\r\n\t\tswitch (symbol.type) {\r\n\t\t\tcase \"esriSFS\":\r\n\t\t\t\tthis.fromSFS(symbol, style);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"esriSLS\":\r\n\t\t\t\tthis.fromSLS(symbol, style);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"esriPMS\":\r\n\t\t\t\tthis.fromPMS(symbol, style);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"esriPFS\":\r\n\t\t\t\tthis.fromPFS(symbol, style);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"esriSMS\":\r\n\t\t\t\tthis.fromSMS(symbol, style);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tcase \"esriTS\":\r\n\t\t\t\tthis.fromTS(symbol, style);\r\n\t\t\t\tbreak;\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tthrow `invalid-symbol-type: ${symbol.type}`;\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * convert drawing info into a symbology rule\r\n\t */\r\n\tpublic fromRenderer(\r\n\t\trenderer: ArcGisFeatureServerLayer.Renderer,\r\n\t\targs: {\r\n\t\t\turl: string;\r\n\t\t}\r\n\t) {\r\n\t\tswitch (renderer.type) {\r\n\t\t\tcase \"simple\": {\r\n\t\t\t\tif (!renderer.symbol) throw \"simple renderer requires a symbol\";\r\n\t\t\t\treturn this.fromJson(renderer.symbol);\r\n\t\t\t}\r\n\r\n\t\t\tcase \"uniqueValue\": {\r\n\t\t\t\tlet styles = <{ [name: string]: ol.style.Style }>{};\r\n\r\n\t\t\t\tlet defaultStyle = renderer.defaultSymbol && this.fromJson(renderer.defaultSymbol);\r\n\r\n\t\t\t\tif (renderer.uniqueValueInfos) {\r\n\t\t\t\t\trenderer.uniqueValueInfos.forEach(info => {\r\n\t\t\t\t\t\tif (info.value) {\r\n\t\t\t\t\t\t\tstyles[info.value] = this.fromJson(info.symbol);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\r\n\t\t\t\treturn (feature: ol.Feature) =>\r\n\t\t\t\t\t(renderer.field1 && styles[feature.get(renderer.field1)]) || defaultStyle;\r\n\t\t\t}\r\n\r\n\t\t\tcase \"classBreaks\": {\r\n\t\t\t\tlet styles = <{ [name: number]: ol.style.Style }>{};\r\n\t\t\t\tlet classBreakRenderer = <ArcGisFeatureServerLayer.ClassBreakRenderer>renderer;\r\n\t\t\t\tif (classBreakRenderer.classBreakInfos) {\r\n\t\t\t\t\tconsole.log(\"processing classBreakInfos\");\r\n\t\t\t\t\tif (classBreakRenderer.visualVariables) {\r\n\t\t\t\t\t\tclassBreakRenderer.visualVariables.forEach(vars => {\r\n\t\t\t\t\t\t\tswitch (vars.type) {\r\n\t\t\t\t\t\t\t\t/**\r\n\t\t\t\t\t\t\t\t * This renderer adjusts the size of the symbol to between [minSize..maxSize]\r\n\t\t\t\t\t\t\t\t * based on the range of values [minDataValue, maxDataValue]\r\n\t\t\t\t\t\t\t\t */\r\n\t\t\t\t\t\t\t\tcase \"sizeInfo\": {\r\n\t\t\t\t\t\t\t\t\tlet steps = range(\r\n\t\t\t\t\t\t\t\t\t\tclassBreakRenderer.authoringInfo.visualVariables[0].minSliderValue,\r\n\t\t\t\t\t\t\t\t\t\tclassBreakRenderer.authoringInfo.visualVariables[0].maxSliderValue\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\tlet dx = (vars.maxSize - vars.minSize) / steps.length;\r\n\t\t\t\t\t\t\t\t\tlet dataValue = (vars.maxDataValue - vars.minDataValue) / steps.length;\r\n\r\n\t\t\t\t\t\t\t\t\tif (classBreakRenderer.classBreakInfos) {\r\n\t\t\t\t\t\t\t\t\t\tclassBreakRenderer.classBreakInfos.forEach(classBreakInfo => {\r\n\t\t\t\t\t\t\t\t\t\t\tlet icons = steps.map(step => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tlet json = <ArcGisFeatureServerLayer.Symbol>(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tJSON.parse(JSON.stringify(classBreakInfo.symbol))\r\n\t\t\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t\t\t\tjson.size = vars.minSize + dx * (dataValue - vars.minDataValue);\r\n\t\t\t\t\t\t\t\t\t\t\t\tlet style = this.fromJson(json);\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyles[dataValue] = style;\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tdebugger;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t\t\tdebugger;\r\n\t\t\t\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\treturn () => {\r\n\t\t\t\t\tfor (var key in styles) {\r\n\t\t\t\t\t\tif (styles[key]) return styles[key];\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn null;\r\n\t\t\t\t};\r\n\t\t\t}\r\n\r\n\t\t\tdefault:\r\n\t\t\t\tthrow `unsupported renderer type: ${renderer.type}`;\r\n\t\t}\r\n\t}\r\n}\r\n","import { describe, it, should, shouldEqual, stringify } from \"ol3-fun/tests/base\";\r\n\r\nimport { StyleConverter } from \"../../ol3-symbolizer/format/ags-symbolizer\";\r\nimport { StyleConverter as ToJsonConverter } from \"../../ol3-symbolizer/format/ol3-symbolizer\";\r\nimport { ArcGisFeatureServerLayer } from \"../../ol3-symbolizer/format/@types/ArcGisFeatureServerLayer\";\r\n\r\nlet fromJson = (() => {\r\n\tlet fromJsonConverter = new StyleConverter();\r\n\treturn (style: ArcGisFeatureServerLayer.Symbol) => fromJsonConverter.fromJson(style);\r\n})();\r\n\r\nlet toJson = (() => {\r\n\tlet toJsonConverter = new ToJsonConverter();\r\n\treturn (style: ol.style.Style) => toJsonConverter.toJson(style);\r\n})();\r\n\r\nfunction rgba([r, g, b, a]: number[]) {\r\n\treturn `rgba(${r},${g},${b},${a / 255})`;\r\n}\r\n\r\ndescribe(\"esriSMS Tests\", () => {\r\n\tit(\"esriSMSCircle\", () => {\r\n\t\tlet baseline = <ArcGisFeatureServerLayer.Symbol>{\r\n\t\t\tcolor: [255, 255, 255, 64],\r\n\t\t\tsize: 12,\r\n\t\t\tangle: 0,\r\n\t\t\txoffset: 0,\r\n\t\t\tyoffset: 0,\r\n\t\t\ttype: \"esriSMS\",\r\n\t\t\tstyle: \"esriSMSCircle\",\r\n\t\t\toutline: {\r\n\t\t\t\tcolor: [0, 0, 0, 255],\r\n\t\t\t\twidth: 1,\r\n\t\t\t\ttype: \"esriSLS\",\r\n\t\t\t\tstyle: \"esriSLSSolid\"\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tlet style = fromJson(baseline);\r\n\t\tlet circleJson = toJson(style);\r\n\r\n\t\tlet expectedRadius = (baseline.size * 4) / 3 / 2;\r\n\t\tshouldEqual(\r\n\t\t\tcircleJson.circle.radius,\r\n\t\t\texpectedRadius,\r\n\t\t\t\"circleJson radius is 33% larger than specified in the ags style (see StyleConverter.asWidth)\"\r\n\t\t);\r\n\r\n\t\tshouldEqual(circleJson.circle.fill.color, rgba(baseline.color), \"circleJson fill color\");\r\n\t\tshouldEqual(circleJson.circle.fill.pattern, null, \"circleJson fill pattern is solid\");\r\n\r\n\t\tshouldEqual(circleJson.circle.stroke.color, rgba(baseline.outline.color), \"circleJson stroke color\");\r\n\t\tshouldEqual(circleJson.circle.stroke.width, (baseline.outline.width * 4) / 3, \"circleJson stroke width\");\r\n\t\tshouldEqual(circleJson.circle.stroke.lineCap, undefined, \"circleJson stroke lineCap\");\r\n\t\tshouldEqual(circleJson.circle.stroke.lineDash, undefined, \"circleJson stroke lineDash\");\r\n\t\tshouldEqual(circleJson.circle.stroke.lineJoin, undefined, \"circleJson stroke lineJoin\");\r\n\t});\r\n\r\n\tit(\"esriSMSCross\", () => {\r\n\t\tlet baseline = <ArcGisFeatureServerLayer.Symbol>{\r\n\t\t\tcolor: [255, 255, 255, 64],\r\n\t\t\tsize: 12,\r\n\t\t\tangle: 0,\r\n\t\t\txoffset: 0,\r\n\t\t\tyoffset: 0,\r\n\t\t\ttype: \"esriSMS\",\r\n\t\t\tstyle: \"esriSMSCross\",\r\n\t\t\toutline: {\r\n\t\t\t\tcolor: [0, 0, 0, 255],\r\n\t\t\t\twidth: 1,\r\n\t\t\t\ttype: \"esriSLS\",\r\n\t\t\t\tstyle: \"esriSLSSolid\"\r\n\t\t\t}\r\n\t\t};\r\n\t\tlet json = toJson(fromJson(baseline));\r\n\r\n\t\tshould(!!json.cross, \"cross\");\r\n\t\tshouldEqual(json.cross.opacity, 1, \"opacity\");\r\n\t\tshouldEqual(json.cross.size, 22.62741699796952, \"size\"); // no idea why, but let me know if it changes :)\r\n\t});\r\n});\r\n\r\ndescribe(\"esriSLS Tests\", () => {\r\n\tit(\"esriSLSShortDash esriLCSSquare esriLJSRound\", () => {\r\n\t\tlet baseline: ArcGisFeatureServerLayer.Symbol = {\r\n\t\t\ttype: \"esriSLS\",\r\n\t\t\tstyle: \"esriSLSShortDash\",\r\n\t\t\tcolor: [152, 230, 0, 255],\r\n\t\t\twidth: 1,\r\n\t\t\tcap: \"esriLCSSquare\",\r\n\t\t\tjoin: \"esriLJSRound\",\r\n\t\t\tmiterLimit: 9.75\r\n\t\t};\r\n\r\n\t\tlet style = fromJson(baseline);\r\n\t\tlet json = toJson(style);\r\n\t\tshouldEqual(json.stroke.color, rgba(baseline.color), \"stroke color\");\r\n\t});\r\n\r\n\tit(\"esriSLSDash esriLCSButt esriLJSBevel\", () => {\r\n\t\tlet baseline: ArcGisFeatureServerLayer.Symbol = {\r\n\t\t\ttype: \"esriSLS\",\r\n\t\t\tstyle: \"esriSLSDash\",\r\n\t\t\tcolor: [152, 230, 0, 255],\r\n\t\t\twidth: 1,\r\n\t\t\tcap: \"esriLCSButt\",\r\n\t\t\tjoin: \"esriLJSBevel\",\r\n\t\t\tmiterLimit: 9.75\r\n\t\t};\r\n\r\n\t\tlet style = fromJson(baseline);\r\n\t\tlet json = toJson(style);\r\n\t\tshouldEqual(json.stroke.color, rgba(baseline.color), \"stroke color\");\r\n\t});\r\n\r\n\tit(\"esriSLSSolid esriLCSRound esriLJSMiter\", () => {\r\n\t\tlet baseline: ArcGisFeatureServerLayer.Symbol = {\r\n\t\t\ttype: \"esriSLS\",\r\n\t\t\tstyle: \"esriSLSSolid\",\r\n\t\t\tcolor: [152, 230, 0, 255],\r\n\t\t\twidth: 1,\r\n\t\t\tcap: \"esriLCSRound\",\r\n\t\t\tjoin: \"esriLJSMiter\",\r\n\t\t\tmiterLimit: 9.75\r\n\t\t};\r\n\r\n\t\tlet style = fromJson(baseline);\r\n\t\tlet json = toJson(style);\r\n\t\tshouldEqual(json.stroke.color, rgba(baseline.color), \"stroke color\");\r\n\t});\r\n});\r\n","/***************************************************************\r\n * move to ol3-fun, use native promises\r\n ***************************************************************/\r\nimport $ = require(\"jquery\");\r\n\r\nexport class Ajax {\r\n\tpublic options = {\r\n\t\tuse_json: true,\r\n\t\tuse_cors: true\r\n\t};\r\n\r\n\tconstructor(public url: string) {}\r\n\r\n\tjsonp<T>(args?: any, url = this.url) {\r\n\t\tlet d = $.Deferred<T>();\r\n\t\targs[\"callback\"] = \"define\";\r\n\t\tlet uri =\r\n\t\t\turl +\r\n\t\t\t\"?\" +\r\n\t\t\tObject.keys(args)\r\n\t\t\t\t.map(k => `${k}=${args[k]}`)\r\n\t\t\t\t.join(\"&\");\r\n\t\trequire([uri], (data: T) => d.resolve(data));\r\n\t\treturn d;\r\n\t}\r\n\r\n\t// http://www.html5rocks.com/en/tutorials/cors/\r\n\tprivate ajax<T>(method: string, args?: any, url = this.url) {\r\n\t\tlet isData = method === \"POST\" || method === \"PUT\";\r\n\t\tlet isJson = this.options.use_json;\r\n\t\tlet isCors = this.options.use_cors;\r\n\r\n\t\tlet d = $.Deferred<T>();\r\n\r\n\t\tlet client = new XMLHttpRequest();\r\n\t\tif (isCors) client.withCredentials = true;\r\n\r\n\t\tlet uri = url;\r\n\t\tlet data: any = null;\r\n\r\n\t\tif (args) {\r\n\t\t\tif (isData) {\r\n\t\t\t\tdata = JSON.stringify(args);\r\n\t\t\t} else {\r\n\t\t\t\turi += \"?\";\r\n\t\t\t\tlet argcount = 0;\r\n\t\t\t\tfor (let key in args) {\r\n\t\t\t\t\tif (args.hasOwnProperty(key)) {\r\n\t\t\t\t\t\tif (argcount++) {\r\n\t\t\t\t\t\t\turi += \"&\";\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\turi += encodeURIComponent(key) + \"=\" + encodeURIComponent(args[key]);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tclient.open(method, uri, true);\r\n\t\tif (isData && isJson) client.setRequestHeader(\"Content-Type\", \"application/json;charset=UTF-8\");\r\n\t\tclient.send(data);\r\n\r\n\t\tclient.onload = () => {\r\n\t\t\tlet contentType = client.getResponseHeader(\"Content-Type\");\r\n\t\t\tif (client.status >= 200 && client.status < 300) {\r\n\t\t\t\tisJson = isJson || (!!contentType && 0 === contentType.indexOf(\"application/json\"));\r\n\t\t\t\td.resolve(isJson ? JSON.parse(client.response) : client.response);\r\n\t\t\t} else {\r\n\t\t\t\td.reject(client.statusText);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tclient.onerror = () => d.reject(client.statusText);\r\n\r\n\t\t// Return the promise\r\n\t\treturn d;\r\n\t}\r\n\r\n\tget<T>(args?: any) {\r\n\t\treturn this.ajax<T>(\"GET\", args);\r\n\t}\r\n\r\n\tpost<T>(args?: any) {\r\n\t\treturn this.ajax<T>(\"POST\", args);\r\n\t}\r\n\r\n\tput<T>(args?: any) {\r\n\t\treturn this.ajax<T>(\"PUT\", args);\r\n\t}\r\n\r\n\tdelete(args?: any) {\r\n\t\treturn this.ajax(\"DELETE\", args);\r\n\t}\r\n}\r\n","import { Ajax } from \"../common/ajax\";\r\nimport { defaults } from \"ol3-fun/index\";\r\nimport { CatalogInfo, FeatureServerInfo, MapServerInfo, FeatureLayerInfo } from \"./@types/cataloginfo\";\r\n\r\nexport class Catalog {\r\n\tprivate ajax: Ajax;\r\n\r\n\tconstructor(url: string) {\r\n\t\tthis.ajax = new Ajax(url);\r\n\t}\r\n\r\n\tabout(data?: any) {\r\n\t\tlet req = defaults(\r\n\t\t\t{\r\n\t\t\t\tf: \"pjson\"\r\n\t\t\t},\r\n\t\t\tdata\r\n\t\t);\r\n\r\n\t\treturn this.ajax.jsonp<CatalogInfo>(req);\r\n\t}\r\n\r\n\taboutFolder(folder: string) {\r\n\t\tlet ajax = new Ajax(`${this.ajax.url}/${folder}`);\r\n\t\tlet req = {\r\n\t\t\tf: \"pjson\"\r\n\t\t};\r\n\r\n\t\treturn ajax.jsonp<CatalogInfo>(req);\r\n\t}\r\n\r\n\taboutFeatureServer(name: string) {\r\n\t\tlet ajax = new Ajax(`${this.ajax.url}/${name}/FeatureServer`);\r\n\t\tlet req = {\r\n\t\t\tf: \"pjson\"\r\n\t\t};\r\n\t\treturn defaults(ajax.jsonp<FeatureServerInfo>(req), { url: ajax.url });\r\n\t}\r\n\r\n\taboutMapServer(name: string) {\r\n\t\tlet ajax = new Ajax(`${this.ajax.url}/${name}/MapServer`);\r\n\t\tlet req = {\r\n\t\t\tf: \"pjson\"\r\n\t\t};\r\n\t\treturn defaults(ajax.jsonp<MapServerInfo>(req), { url: ajax.url });\r\n\t}\r\n\r\n\taboutLayer(layer: number) {\r\n\t\tlet ajax = new Ajax(`${this.ajax.url}/${layer}`);\r\n\t\tlet req = {\r\n\t\t\tf: \"pjson\"\r\n\t\t};\r\n\t\treturn ajax.jsonp<FeatureLayerInfo>(req);\r\n\t}\r\n}\r\n","/**\r\n * See https://openlayers.org/en/latest/examples/vector-esri.html\r\n * Ultimately this will only query for features it does not already have\r\n * It will make use the map SRS and the resulttype=\"tile\" and exceededTransferLimit\r\n * See https://github.com/ca0v/ol3-lab/issues/4\r\n */\r\n\r\nimport $ = require(\"jquery\");\r\nimport ol = require(\"openlayers\");\r\nimport { olx } from \"openlayers\";\r\n\r\nimport AgsCatalog = require(\"./ags-catalog\");\r\nimport Symbolizer = require(\"../format/ags-symbolizer\");\r\nimport { defaults } from \"ol3-fun/index\";\r\n\r\nconst esrijsonFormat = new ol.format.EsriJSON();\r\n\r\nfunction asParam(options: any) {\r\n\treturn Object.keys(options)\r\n\t\t.map(k => `${k}=${options[k]}`)\r\n\t\t.join(\"&\");\r\n}\r\n\r\nexport interface IOptions extends olx.source.VectorOptions {\r\n\tservices: string;\r\n\tserviceName: string;\r\n\tserviceType: \"FeatureServer\" | \"MapServer\";\r\n\tmap: ol.Map;\r\n\tlayers: number[];\r\n\ttileSize?: number;\r\n\twhere?: string;\r\n\tuidFieldName?: string;\r\n}\r\n\r\nconst DEFAULT_OPTIONS = <IOptions>{\r\n\ttileSize: 512,\r\n\twhere: \"1=1\"\r\n};\r\n\r\nexport class ArcGisVectorSourceFactory {\r\n\tstatic create(options: IOptions) {\r\n\t\tlet d = $.Deferred<ol.layer.Vector[]>();\r\n\r\n\t\toptions = defaults(options, DEFAULT_OPTIONS);\r\n\r\n\t\tlet srs = options.map\r\n\t\t\t.getView()\r\n\t\t\t.getProjection()\r\n\t\t\t.getCode()\r\n\t\t\t.split(\":\")\r\n\t\t\t.pop();\r\n\r\n\t\tlet all = options.layers.map(layerId => {\r\n\t\t\tlet d = $.Deferred<ol.layer.Vector>();\r\n\r\n\t\t\tlet tileGrid = ol.tilegrid.createXYZ({\r\n\t\t\t\ttileSize: options.tileSize\r\n\t\t\t});\r\n\r\n\t\t\tlet strategy = ol.loadingstrategy.tile(tileGrid);\r\n\r\n\t\t\tlet loader = (extent: ol.Extent, resolution: number, projection: ol.proj.Projection) => {\r\n\t\t\t\t// current loading strategy isn't being clever enough?  Getting duplicates.\r\n\t\t\t\t// see ol.source.Vector.prototype.loadFeatures (it keeps history of extents)\r\n\r\n\t\t\t\tlet box = {\r\n\t\t\t\t\txmin: extent[0],\r\n\t\t\t\t\tymin: extent[1],\r\n\t\t\t\t\txmax: extent[2],\r\n\t\t\t\t\tymax: extent[3]\r\n\t\t\t\t};\r\n\r\n\t\t\t\tlet params = {\r\n\t\t\t\t\tf: \"json\",\r\n\t\t\t\t\treturnGeometry: true,\r\n\t\t\t\t\tspatialRel: \"esriSpatialRelIntersects\",\r\n\t\t\t\t\tgeometry: encodeURIComponent(JSON.stringify(box)),\r\n\t\t\t\t\tgeometryType: \"esriGeometryEnvelope\",\r\n\t\t\t\t\tresultType: \"tile\",\r\n\t\t\t\t\twhere: options.where ? encodeURIComponent(options.where) : \"\",\r\n\t\t\t\t\tinSR: srs,\r\n\t\t\t\t\toutSR: srs,\r\n\t\t\t\t\toutFields: \"*\"\r\n\t\t\t\t};\r\n\r\n\t\t\t\tlet query = `${options.services}/${options.serviceName}/${\r\n\t\t\t\t\toptions.serviceType\r\n\t\t\t\t}/${layerId}/query?${asParam(params)}`;\r\n\r\n\t\t\t\t$.ajax({\r\n\t\t\t\t\turl: query,\r\n\t\t\t\t\tdataType: \"jsonp\",\r\n\t\t\t\t\terror: () => {\r\n\t\t\t\t\t\tdebugger;\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (response: {\r\n\t\t\t\t\t\terror: any;\r\n\t\t\t\t\t\tfields: Array<{\r\n\t\t\t\t\t\t\talias: string;\r\n\t\t\t\t\t\t\tname: string;\r\n\t\t\t\t\t\t\ttype: string;\r\n\t\t\t\t\t\t}>;\r\n\t\t\t\t\t}) => {\r\n\t\t\t\t\t\tif (response.error) {\r\n\t\t\t\t\t\t\tconsole.warn(response.error.message + \"\\n\" + response.error.details.join(\"\\n\"));\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// dataProjection will be read from document\r\n\t\t\t\t\t\t\tvar features = esrijsonFormat.readFeatures(response, {\r\n\t\t\t\t\t\t\t\tfeatureProjection: projection,\r\n\t\t\t\t\t\t\t\tdataProjection: projection\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t// if we've defined a primary key we can ignore duplicates\r\n\t\t\t\t\t\t\tif (!options.uidFieldName && response.fields) {\r\n\t\t\t\t\t\t\t\tlet oidField = response.fields.filter(f => f.type === \"esriFieldTypeOID\")[0];\r\n\t\t\t\t\t\t\t\tif (oidField) {\r\n\t\t\t\t\t\t\t\t\toptions.uidFieldName = oidField.name;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (features.length) {\r\n\t\t\t\t\t\t\t\tif (options.uidFieldName) {\r\n\t\t\t\t\t\t\t\t\tlet uidFieldName = options.uidFieldName;\r\n\t\t\t\t\t\t\t\t\t// TODO: very likely source.getFeatureById is faster...\r\n\t\t\t\t\t\t\t\t\tlet featureIds = source\r\n\t\t\t\t\t\t\t\t\t\t.getFeatures()\r\n\t\t\t\t\t\t\t\t\t\t.map(f => f.get(uidFieldName))\r\n\t\t\t\t\t\t\t\t\t\t.filter(v => !!v)\r\n\t\t\t\t\t\t\t\t\t\t.sort();\r\n\t\t\t\t\t\t\t\t\tlet uniqueFeatures = features.filter(\r\n\t\t\t\t\t\t\t\t\t\tf => -1 === featureIds.indexOf(f.get(uidFieldName))\r\n\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\tsource.addFeatures(uniqueFeatures);\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t// add remaining features;\r\n\t\t\t\t\t\t\t\t\tsource.addFeatures(features);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t};\r\n\r\n\t\t\tlet source = new ol.source.Vector({\r\n\t\t\t\tstrategy: strategy,\r\n\t\t\t\tloader: loader,\r\n\t\t\t\twrapX: false\r\n\t\t\t});\r\n\r\n\t\t\tlet catalog = new AgsCatalog.Catalog(`${options.services}/${options.serviceName}/${options.serviceType}`);\r\n\t\t\tlet converter = new Symbolizer.StyleConverter();\r\n\r\n\t\t\tcatalog.aboutLayer(layerId).then(layerInfo => {\r\n\t\t\t\tlet layer = new ol.layer.Vector(<any>{\r\n\t\t\t\t\ttitle: layerInfo.name,\r\n\t\t\t\t\tsource: source\r\n\t\t\t\t});\r\n\r\n\t\t\t\tlet styleMap = converter.fromRenderer(<any>layerInfo.drawingInfo.renderer, { url: \"for icons?\" });\r\n\t\t\t\tlayer.setStyle((feature: ol.Feature | ol.render.Feature, resolution: number) => {\r\n\t\t\t\t\tif (styleMap instanceof ol.style.Style) {\r\n\t\t\t\t\t\treturn styleMap;\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn (<any>styleMap)(feature);\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t\td.resolve(layer);\r\n\t\t\t});\r\n\r\n\t\t\treturn d;\r\n\t\t});\r\n\r\n\t\t$.when.apply($, all).then((...args: Array<ol.layer.Vector>) => d.resolve(args));\r\n\r\n\t\treturn d;\r\n\t}\r\n}\r\n","import ol = require(\"openlayers\");\r\nimport $ = require(\"jquery\");\r\nimport { describe, it, should, shouldEqual, stringify } from \"ol3-fun/tests/base\";\r\nimport { ArcGisVectorSourceFactory } from \"../../ol3-symbolizer/ags/ags-source\";\r\nimport { debounce } from \"ol3-fun/ol3-fun/common\";\r\n\r\ndescribe(\"ags-source tests\", () => {\r\n\tit(\"ArcGisVectorSourceFactory\", done => {\r\n\t\t// attempting to create a mock map\r\n\t\tlet source = new ol.source.TileDebug({\r\n\t\t\tprojection: \"EPSG:3857\",\r\n\t\t\ttileGrid: ol.tilegrid.createXYZ({\r\n\t\t\t\ttileSize: 256\r\n\t\t\t})\r\n\t\t});\r\n\r\n\t\tlet map = new ol.Map({\r\n\t\t\ttarget: \"map\",\r\n\t\t\tlayers: [\r\n\t\t\t\tnew ol.layer.Tile({\r\n\t\t\t\t\tsource: source\r\n\t\t\t\t})\r\n\t\t\t],\r\n\t\t\tview: new ol.View({\r\n\t\t\t\tcenter: [-12826838, 4326274],\r\n\t\t\t\tzoom: 5,\r\n\t\t\t\tprojection: \"EPSG:3857\"\r\n\t\t\t})\r\n\t\t});\r\n\r\n\t\tArcGisVectorSourceFactory.create({\r\n\t\t\tservices: \"http://localhost:3001/mock/ags/rest/services\",\r\n\t\t\tserviceName: \"ANNOTATIONS/IPS_ANNOTATIONS_US\",\r\n\t\t\tserviceType: \"FeatureServer\",\r\n\t\t\tmap: map,\r\n\t\t\tlayers: [3],\r\n\t\t\twhere: \"H8REGION IN ('GREEN')\"\r\n\t\t\t// etc\r\n\t\t}).done(layers => {\r\n\t\t\tlayers.forEach(l => {\r\n\t\t\t\tlet source = l.getSource();\r\n\t\t\t\tlet h = source.on(\r\n\t\t\t\t\t\"change\",\r\n\t\t\t\t\tdebounce(() => {\r\n\t\t\t\t\t\tlet features = source.getFeatures(); //.filter(f => f.get(\"H8REGION\") === \"GREEN\");\r\n\t\t\t\t\t\tshouldEqual(3, features.length);\r\n\t\t\t\t\t\tlet ids = new Set(features.map(f => f.get(\"OBJECTID\")));\r\n\t\t\t\t\t\tshouldEqual(3, ids.size);\r\n\t\t\t\t\t\tol.Observable.unByKey(h);\r\n\t\t\t\t\t\tdone();\r\n\t\t\t\t\t})\r\n\t\t\t\t);\r\n\t\t\t});\r\n\t\t\tlayers.forEach(l => map.addLayer(l));\r\n\t\t});\r\n\t});\r\n});\r\n","import \"./spec/packages\";\r\nimport \"./spec/common\";\r\nimport \"./spec/ol3-symbolizer\";\r\nimport \"./spec/ags-symbolizer\";\r\nimport \"./spec/ags-source\";\r\n"]}